<html><head>
<title>AT Command Reference Manual</title>
<link href="../../styles.css" rel="stylesheet" type="text/css">
</head>
<body class="bodytext">
<p class="mainsubhead">AT Commands for <br>
RC288ACx and RC144ACx Modem Families</p>

<p class="subheadlinktext"><b>Reference Manual<br>
(Preliminary)</b><p>
	Order No. 1048P<br>	Rev. 3, January 31, 1996<p>

<hr>
<b>
This document is provided electronically for use for the express
purpose of assisting software developers and end users answer
frequently asked questions about Rockwell modem products.
<p>
This manual ONLY describes
the GENERIC Rockwell AT command set.  Modem vendors often change,
add, and delete commands based on their particular product and
feature set. Thus this document does not necessarily describe the AT
commands used within your modem, even if it is based on Rockwell
chipset products. Always consult your modem vendor's documentation
first.
</b>

<HR>

<b>NOTICE</b><p>
Information furnished by Rockwell International Corporation is believed
to be accurate and reliable. However, no responsibility is assumed by Rockwell
International for its use, nor any infringement of patents or other rights of
third parties which may result from its use. No license is granted by
implication or otherwise under any patent rights of Rockwell International
other than for circuitry embodied in Rockwell products. Rockwell International
reserves the right to change circuitry at any time without notice. This
document is subject to change without notice.<p>
<p>
ConfigurACE is a trademark of Rockwell International.<br>MNP is a registered
trademark of Microcom, Inc. <br>Hayes is a registered trademark of Hayes
Microcomputer Products, Inc.<p>
<p>
<HR>
<ol>
<li><a href="#RTFToC1">INTRODUCTION</a>
<li><a href="#RTFToC8">COMMAND SYNTAX</a>
 <ul>
<li><a href="#RTFToC9">2.1 DTE/DCE INTERCHANGE CIRCUITS</a>
<li><a href="#RTFToC10">2.2 COMMAND SYNTAX AND GUIDELINES</a>
<li><a href="#RTFToC13">2.3 AT COMMAND GUIDELINES</a>
 </ul>
<li><a href="#RTFToC16">AT COMMAND SET</a>
 <ul>
<li><a href="#RTFToC17">3.1 AT COMMAND GUIDELINES</a>
<li><a href="#RTFToC21">3.2 AT COMMAND SET</a>
  <ul>
<li><a href="#RTFToC22">3.2.1 AT Commands</a>
<li><a href="#RTFToC47">3.2.2 AT&amp; Commands</a>
<li><a href="#RTFToC66">3.2.3 AT% Commands</a>
<li><a href="#RTFToC70">3.2.4 AT\ Commands</a>
<li><a href="#RTFToC74">3.2.5 AT+ Commands</a>
<li><a href="#RTFToC80">3.2.6 AT- Commands</a>
  </ul>
<li><a href="#RTFToC83">3.3 ERROR DETECTION AND DATA COMPRESSION COMMANDS</a>
<li><a href="#RTFToC89">3.4 MNP 10 COMMANDS</a>
<li><a href="#RTFToC98">3.5 W-CLASS COMMANDS</a>
<li><a href="#RTFToC102">3.6 CALLER ID COMMANDS</a>
<li><a href="#RTFToC110">3.7 CELLULAR COMMANDS</a>
<li><a href="#RTFToC121">3.8 AT COMMAND RESULT CODES</a>
 </ul>
<li><a href="#RTFToC177">S-REGISTERS</a>
 <ul>
<li><a href="#RTFToC178">4.1 FACTORY DEFAULTS</a>
<li><a href="#RTFToC179">4.2 S-REGISTER DEFINITIONS</a>
 </ul>
<li><a href="#RTFToC228">FAX CLASS 1 COMMANDS</a>
<li><a href="#RTFToC251">FAX CLASS 2 COMMANDS</a>
<li><a href="#RTFToC320">VOICE/AUDIO COMMANDS</a>
 <ul>
<li><a href="#RTFToC321">7.1 VOICE/AUDIO SUBMODES</a>
<li><a href="#RTFToC325">7.2 VOICE/AUDIO CAPABILITIES</a>
<li><a href="#RTFToC357">7.3 AT VOICE COMMAND SUMMARY</a>
<li><a href="#RTFToC407">7.4 S-REGISTERS </a>
<li><a href="#RTFToC409">7.5 RESULT CODES FOR VOICE OPERATION</a>
<li><a href="#RTFToC410">7.6 EXAMPLES OF VOICE OPERATION</a>
 </ul>
<li><a href="#RTFToC411">AT COMMAND SET SUMMARY</a>
 <UL>
<li><a href="#RTFToC412">8.1 BASIC AT COMMANDS</a>
<li><a href="#RTFToC413">8.2 ECC COMMANDS</a>
<li><a href="#RTFToC414">8.3 MNP 10 COMMANDS</a>
<li><a href="#RTFToC415">8.4 W-CLASS COMMANDS</a>
<li><a href="#RTFToC416">8.5 CALLER ID COMMANDS</a>
<li><a href="#RTFToC417">8.6 FAX CLASS 1</a>
<li><a href="#RTFToC418">8.7 FAX CLASS 2</a>
<li><a href="#RTFToC419">8.8 VOICE/AUDIO COMMANDS</a>
<li><a href="#RTFToC420">8.9 CELLULAR COMMANDS</a>
 </UL>
<li><a href="#RTFToC421">COMMON CONFIGURATION SETUP STRINGS</a>
</ol>

<HR>
<p>
<b><i>PREFACE</i></b><p>
This manual supersedes the following manuals:<p>
1.	AT Command Reference Manual for the RC288ACi and RC288ACL Modem Families
(Order No. 1048, Rev.2, May 5, 1995).<p>
2.	AT Command Reference Manual for the RC144ACi/ATi, RC144ACL/ATL,
RC144ACF/ATF, RC144ACFL/ATFL, and RC144ACG Modem Families (Order No. 883,
Rev.3, May 5, 1995).<p>
This revision includes RC144ACx unique functions. This revision also
incorporates default value changes to reflect RC288ACi/RC288ACL Firmware
Version V1.400/V1.410. Major changes included in this revision are summarized
below.<p>
1.	In Section 1.1, the reference to RHSI was deleted.<p>
2.	In Section 3.2.1, Fn was added for RC144 support.<p>
3.	In Section 3.2.1, J and K were deleted from the Dn command.<p>
4.	In Section 3.2.1, the I3 definition was expanded in the In command.<p>
5.	In Section 3.2.1, the Y1 definition was corrected in the Yn command.<p>
6.	In Section 3.2.2, the &amp;Tn definition was expanded.<p>
7.	In Section 3.2.2, the maximum length of a telephone number that can be
stored using the &amp;Z command was changed to 34 digits.<p>
8.	In Section 3.2.2, the &amp;Tn default was changed to &amp;T5.<p>
9.	In Section 3.2.4, the \Vn - Single Line Connect Message Enable command was
added.<p>
10.	In Section 3.2.5, 11 was added to the list of supported modulations in +MS
command Reporting Supported Options example for 288ACx. The Subparameter
Definitions for item 2 &lt;automode&gt; were also revised.<p>
11.	In Section 3.2.5, the +H11 definition was added to +Hn command.<p>
12.	In Section 3.4.1, the )Mn command definition was deleted except for command
response compatibility.<p>
13.	In Section 3.4.1, the *Hn command definition was deleted except for command
response compatibility.<p>
14.	In Section 3.4.1, the -Kn default value was changed to  -K0.<p>
15.	In Section 3.4.1, the -Qn command definition was deleted except for command
response compatibility.<p>
16.	In Section 3.4.1, the -SEC command definition note was expanded.<p>
17.	In Section 3.4.1, the @Mn command definition was deleted except for command
response compatibility.<p>
18.	In Section 3.7.3, the definition was revised and expanded.<p>
19.	In Section 4.2, S21 default value was changed to 52 (34h) (to reflect
&amp;D2 and &amp;C1 selected).<p>
20.	In Section 4.2, S23 default value was changed to 62 (3Dh) (to reflect 38400
or higher DTE speed).<p>
21.	In Section 4.2, S27 default value was changed to 73 (to reflect B1, Bell
mode). Bit 2 state 1 was deleted.<p>
22.	In Section 4.2, S28 bits 6-7 were changed to reserved.<p>
23.	In Section 4.2, S29 default value was changed to 70 (to reflect 700 ms).<p>
24.	In Section 4.2, \Vn was added to S31 and S31 default value was changed to
194 (C2h) (to reflect a constant).<p>
25.	In Section 4.2, S40 default value was changed to 104 (68h) (to reflect -K0,
Disable extended services). Bit 2 was changed to reserved.<p>
26.	In Section 4.2, S41 default value was changed to 195 (C3h) (to reflect %E2,
Fallback/Fall forward enabled). Bit 27 was changed to reserved.<p>
27.	In Section 4.2, S201 was deleted.<p>
28.	In Section 5.1.3, the sentence referring to carrier loss for a time period
longer than the time specified by the register S10 was deleted. S10 does not
have any affect in fax data reception.<p>
29.	In Section 7 introduction, silence deletion was deleted.<p>
30.	In Section 7.1.2, silence deletion was deleted.<p>
31.	In Section 7.1.3, silence deletion was deleted.<p>
32.	In Section 7.2.3, the reference to RHSI was deleted and, in Table 7-1, the
0.5 (16-bits) option was deleted.<p>
33.	In Section 7.2.3, Table 7-2, silence deletion was deleted from the
&lt;DLE&gt;q description.<p>
34.	In Section 7.2.7, the volume ajustment during playback was revised.<p>
35.	In Section 7.3.1, the following paragraph was added to the introduction:
"All voice commands that can have a value of 0-255 will not respond error if a
value above 255 is entered; the resulting value will be the value entered minus
256 or 512, etc."<p>
36.	In Section 7.3.2, #TL command, the result code definition was modified and
the note for #TL command applicability was added.<p>
37.	In Section 7.3.2, #VBT command, the phrase "via the D command" was
deleted.<p>
38.	In Section 7.3.2, #VLS command, telephone emulation (#VLS=5) was added to
the command options and to Table 7-5. <p>
39.	In Section 7.3.2, #VSD command, the #VSD=1 command definition was deleted
except for command response compatibility.<p>
40.	In Section 7.3.2, #VSP command, description of operation with silence
deletion was deleted.<p>
41.	In Section 7.3.2, #VSR command, the result code definition was revised to
delete the operation with #VBS=16.<p>
42.	In Section 7.3.2, #VSS command, the default was changed.<p>
43.	In Section 7.6, Table 7-7, the #VSD=1 command description and reference to
silence deletion under #VSS=1 command were deleted.<p>
44.	In Section 7.6, Table 7-8, the #VSD=1 command description was deleted.<p>
45.	In Section 7.6, Table 7-9, the #VSD=1 command was deleted, the #VSS=2
command description was revised, and the #VRX CONNECT description was
revised.<p>
46.	In Section 7.6, Table 7-10, the #VSS=2 command description and the #VRX
command CONNECT descriptions were revised.<p>
47.	In Section 7.6, Table 7-11, the #VSS=2 command description was revised and
the #VSD=1 command was deleted.<p>
48.	In Section 7.6, Table 7-12, the #VSS=2 command description was revised.<p>
49.	In Section 8, the command summary was changed to reflect revised
commands.<p>
<p>
<b><i>Table of Contents</i></b><p>
<b><i> List of Tables</i></b><p>
Table 3-1. Result Codes	<p>
Table 3-2. Remote Modem Configuration and Resulting Transmit Levels	<p>
Table 4-1. S-Register Summary	<p>
Table 5-1. Fax Class 1 Commands	<p>
Table 5-2. Fax Class 1 Calling Sequence (One Page)	<p>
Table 5-3. Fax Class 1 Answering Sequence (One Page)	<p>
Table 6-1. Fax Class 2 Commands	<p>
Table 6-2. T.30 Session Subparameter Codes	<p>
Table 6-3. T.30 Post Page Message Codes	<p>
Table 6-4. T.30 Post Page Response Messages	<p>
Table 6-5. Hang Up Status Codes	<p>
Table 6-6. Send Two Pages, 1-D, No Errors	<p>
Table 6-7. Receive Two Pages, 1-D Data, No Errors	<p>
Table 7-1. DTE Speeds	<p>
Table 7-2. Codes Sent to the DTE	<p>
Table 7-3. Shielded DTE Codes	<p>
Table 7-4. AT Voice Commands	<p>
Table 7-5. Device Types Supported by #VLS	<p>
Table 7-6. #VTD Tone Detection/Reporting Bit Settings	<p>
Table 7-7. Record a Greeting Message	<p>
Table 7-8. Playback a Greeting Message	<p>
Table 7-9. Answer Call/Play Greeting/Record Message	<p>
Table 7-10. Call/Record Message/Receive Fax	<p>
Table 7-11. Answer Call, Determine It's a Fax	<p>
Table 7-12. Adaptive Fax/Data/Voice; Determine Data	<p>
Table 7-13. Originate a Call, Send Answerer a Message	<p>
<p>
<b><i>List of Figures</i></b><p>
Figure 6-1. T.30 Session Parameter Relationships	<p>
<p>
<a name="_Toc343068178"></a><a name="_Toc347715434"></a>
<p class="subheadlinktext">
<a name="RTFToC1">1.
INTRODUCTION</a>
<a name="_Toc343068179"></a><a name="_Toc347715435"></a></p>
<p class="bodytext"><b>
<a name="RTFToC2">1.1
OVERVIEW</a></a>
</a></b></p>
This manual describes the AT commands for the following Rockwell modem
families:<p>
	RC288ACi <br>	RC288ACL<br>	RCV288ACi/SP<br>	RCV288ACF/SP and RCV288ACF<br>
RCV288ACi/SVD<br>	RCV288ACL/SVD<br><p>
	RC144ACi and RC144ATi<br>	RC144ACL and RC144ATL<br>	RC144ACG<br>	RC144ACF and
RC144ATF<br>	RC144ACFL and RC144ATFL<br>	RCV144ACi/SP<br>	RCV144ACF/SP and
RCV144ACF<p>
The descriptions apply to all these modems with any differences between modem
product families noted. Refer to Modem FIrmware Release notes for the exact
applicable commands to modem firmware.<p>
ATi, ATL, ATF, and ATFL models support error correction and data compression
(ECC) performed by the host CPU and communications software for Windows using
the enhanced Rockwell Windows Protocol Interface (RPI or RPI+(TM)) and WinRPI
host software module.
<a name="_Toc343068180"></a><a name="_Toc347715436"></a>
<p class="bodytext"><b><i>
<a name="RTFToC3">1.1.1
Command Syntax</a>
</i></b></p>
The fundamental DTE interface command syntax is described in Section 2.
<a name="_Toc343068181"></a><a name="_Toc347715437"></a>
<p class="bodytext"><b><i>
<a name="RTFToC4">1.1.2
Command Descriptions</a>
</i></b></p>
These commands are grouped into the following categories:<p>
	AT commands	Section 3<br>	S-Registers	Section 4<br>	Fax Class 1 commands
Section 5<br>	Fax Class 2 commands	Section 6<br>	Voice/Audio commands	Section
7<p>
The AT commands are implemented in microcontroller (MCU) firmware for specific
modem models. The support for a command category is identified by modem model
in the modem designer's guide. Additional configuration and implementation
information is available in release notes and/or readme files that accompany
MCU firmware release.
<a name="_Toc343068182"></a><a name="_Toc347715438"></a>
<p class="bodytext"><b><i>
<a name="RTFToC5">1.1.3
Call Progress and Blacklisting Parameters</a>
</i></b></p>
The modem MCU firmware may be provided either in reconfigurable form or
preconfigured form. Consult the specific firmware release notes for exact
configuration information.<p>
<b>Reconfigurable Form.</b> The modem MCU firmware can be configured for
operation in specific countries by the PC-compatible ConfigurACE II program.
The call progress and blacklisting parameters described in the ConfigurACE II
User's Manual can be altered and loaded for a number of countries by this
program. <p>
<b>Preconfigured Form.</b> Specific MCU firmware configurations may be released
that can be directly installed without requiring the use of ConfigurACE II.
<a name="_Toc343068183"></a><a name="_Toc345311432"></a><a name="_Toc347715439"></a>
<p class="bodytext"><b><i>
<a name="RTFToC6">1.1.4
ConfigurACE II</a>
</i></b></p>
The ConfigurACE II User's Manual describes the use of ConfigurACE II and the
country modifiable parameters. Consult any readme files accompanying the
ConfigurACE&nbsp;II program for additional or later information.
<a name="_Toc343068184"></a><a name="_Toc347715440"></a>
<p class="bodytext"><b>
<a name="RTFToC7">1.2
REFERENCE DOCUMENTATION</a>
</b></p>
<b>	Order No.	Description</b><p>
	MD86	RC144ACi and RC144ACL Modem Data Sheet<p>
	MD108	RC144ACG Modem Data Sheet<p>
	MD95	RC144ATi and RC144ATL Modem Data Sheet<p>
	MD129	RC144ACF and RC144ATF Modem Data Sheet<p>
	MD130	RC144ACFL and RC144ATFL Modem Data Sheet<p>
	MD137	RCV144ACi/SP Modem Data Sheet<p>
	MD146	RC144ACF/SP and RC144ATF/SP Modem Data Sheet<p>
	MD127	RC288ACi and RC288ACL Modem Data Sheet<p>
	MD134	RC288ACi/SVD Integrated V.34 Data/V.17 Fax/Voice/SVD Modem Data Sheet<p>
	MD150	RC288ACF/SP and RC288ATF/SP Modem Data Sheet<p>
	MD161	RC288ACL/SVD Modem Data Sheet<p>
<p>
	876	RC144ACi and RC144ACL Modem Designer's Guide<p>
	897	RC144ATi and RC144ATL Modem Designer's Guide<p>
	1008	RC144ACG Modem Designer's Guide<p>
	1055	RC144ACF and RC144ATF Modem Designer's Guide<p>
	1046	RC144ACF/SP and RC144ATF Modem Designer's Guide<p>
	1027	RC288ACi and RC288ACL Modem Designer's Guide<p>
	1046	RC288ACF/SP, RC288ATF/SP, RC144ACF/SP, and RC144ATF/SP Modem Designer's
Guide<p>
	1054	RC288ACi/SVD Modem Designer's Guide<p>
	1082	RC144ACF/ASVD and RCV288ACF/ASVD Modem Designer's Guide<p>
	1096	RC288ACL/SVD SP Modem Designer's Guide<p>
<p>
	893	ConfigurACE II User's Manual<p>
<a name="_Toc343068185"></a><a name="_Toc347715441"></a>
<p class="subheadlinktext">
<a name="RTFToC8">2. COMMAND SYNTAX</a>
<a name="_Toc343068186"></a><a name="_Toc347715442"></a></p>
<p class="bodytext"><b>
<a name="RTFToC9">2.1
DTE/DCE INTERCHANGE CIRCUITS</a></a>
</a></b></p>
Communication between the DTE and modem is half duplex (i.e., only one entity
'talks' at a time).
<a name="_Toc343068187"></a><a name="_Toc347715443"></a>
<p class="bodytext"><b>
<a name="RTFToC10">2.2
COMMAND SYNTAX AND GUIDELINES</a>
<a name="_Toc343068188"></a><a name="_Toc347715444"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC11">2.2.1
DTE Commands</a></a>
</a></i></b></p>
The ISO 646 character set (CCITT T.50 International Alphabet 5, American
Standard Code for Information Interchange) is used for the issuance of commands
and responses. Only the low-order 7 bits of each character are used for
commands or parameters; the high-order bit is ignored. Upper case characters
are equivalent to lower case characters.
<a name="_Toc343068189"></a><a name="_Toc347715445"></a>
<p class="bodytext"><b><i>
<a name="RTFToC12">2.2.2
DTE Command Lines</a>
</i></b></p>
A command line is a string of characters sent from a DTE to the DCE while the
DCE is in a command state. Command lines have a prefix, a body, and a
terminator. The prefix consists of the ASCII characters "AT" (065, 084) or "at"
(097, 116). The body is a string of commands restricted to printable ASCII
characters (032 - 126). Space characters (ASCII 032) and control characters
other than carriage return &lt;CR&gt; (default value = ASCII 013 = 0Dh, see
register S3), backspace &lt;BS&gt; (default value = ASCII 008 = 08h, see
register S5), and cancel &lt;cntrl-x&gt; (ASCII 024 = 18h) in the command
string are ignored. The default terminator is the &lt;CR&gt; character.
Characters that precede the AT prefix are ignored.
<a name="_Toc343068190"></a><a name="_Toc347715446"></a>
<p class="bodytext"><b>
<a name="RTFToC13">2.3
AT COMMAND GUIDELINES</a>
</b></p>
Modem operation is controlled by generic AT commands. These AT commands may be
basic AT (i.e., commands preceded by AT, AT&amp;, AT%, AT*, AT\, AT), AT-, or
AT#), S-Register (e.g., S6=n), Fax class 1 (e.g., +FTM), Fax class 2 (e.g.,
+FDCS:), or voice (e.g., #VBS) commands. The command syntax and operation
guidelines governing each of these command categories are described in
subsequent sections.
<a name="_Toc343068191"></a><a name="_Toc347715447"></a>
<p class="bodytext"><b><i>
<a name="RTFToC14">2.3.1
Basic Command Syntax</a>
</i></b></p>
Characters within the command line are parsed as commands with associated
parameter values. The basic commands consist of single ASCII characters, or
single characters preceded by a prefix character, followed by a decimal
parameter (e.g., "&amp;D1"). Missing decimal parameters are evaluated as 0. 
<a name="_Toc343068192"></a><a name="_Toc347715448"></a>
<p class="bodytext"><b><i>
<a name="RTFToC15">2.3.2
Extended Command Syntax</a>
</i></b></p>
The facsimile commands use extended syntax. They are preceded by the "+F"
characters, and they are terminated by the semicolon ":" character (ASCII 059)
or by the &lt;CR&gt; that terminates the command line.<p>

<a name="_Toc343068193"></a><a name="_Toc347715449"></a>
<p class="subheadlinktext">
<a name="RTFToC16">3. AT COMMAND SET</a>
<a name="_Toc343068194"></a><a name="_Toc347715450"></a></p>
<p class="bodytext"><b>
<a name="RTFToC17">3.1
AT COMMAND GUIDELINES</a></a>
</a></b></p>
The basic AT commands used to control modem operation are defined in this
section. These commands are summarized in Appendix A. All these commands may
not be available in a specific product depending upon supported data rates and
modes. The default values are typical of a fully configured modem supporting
all data rates and options. The actual default value is dependent upon modem
firmware as defined by the firmware release notes. 
<a name="_Toc343068195"></a><a name="_Toc347715451"></a>
<p class="bodytext"><b><i>
<a name="RTFToC18">3.1.1
AT Commands, DTE Adaption</a>
</i></b></p>
Under AT operation, the serial interfaced modem performs an
autobaud/autoparity/autolength function on each AT header entered. The
autolength/autoparity facility can detect 7- or 8-bit characters of even, odd,
or no parity with one stop bit. This is not necessary for the parallel
interfaced modem since it has direct access to the UART registers.
<a name="_Toc343068196"></a><a name="_Toc347715452"></a>
<p class="bodytext"><b><i>
<a name="RTFToC19">3.1.2
AT Command Format</a>
</i></b></p>
A command line is a string of characters sent from a DTE to the modem (DCE)
while the modem is in a command state. A command line has a prefix, a body, and
a terminator. Each command line (with the exception of the A/ command) must
begin with the character sequence AT and must be terminated by a carriage
return. Commands entered in upper case or lower case are accepted, but both the
A and T must be of the same case, i.e., "AT" = ASCII 065, 084 or "at" = ASCII
097, 116. The body is a string of commands restricted to printable ASCII
characters (032 - 126). Space characters (ASCII 032) and control characters
other than CR (ASCII 013) and BS (ASCII 010) in the command string are ignored.
The default terminator is the ASCII &lt;CR&gt; character. Characters that
precede the AT prefix are ignored. The command line interpretation begins upon
receipt of the carriage return character.<p>
Characters within the command line are parsed as commands with associated
parameter values. The basic commands consist of single ASCII characters, or
single characters preceded by a prefix character (e.g., "&amp;"), followed by a
decimal parameter. Missing decimal parameters are evaluated as 0. <p>
The modem supports the editing of command lines by recognizing a backspace
character. When modem echo is enabled, the modem responds to receipt of a
backspace or delete by echoing a backspace character, a space character, and
another backspace. The hex value to be used for the backspace character is
programmable through register S5. Values equal to 0 or greater than 127, or the
value which corresponds to the carriage return character, cannot be used for
the backspace character. This editing is not applicable to the AT header of a
command. A command line may be aborted at any time by entering &lt; cntrl-x
&gt; (18h).<p>
The AT sequence may be followed by any number of commands in sequence, except
for commands such as Z, D, or A. Commands following commands Z, D, or A on the
same command line will be ignored. The maximum number of characters on any
command line is 39 (including "A" and "T"). If a syntax error is found anywhere
in a command line command, the remainder of the line will be ignored and the
ERROR result code will be returned.<p>
Most commands entered with parameters out of range will not be accepted and the
ERROR response will be returned to the DTE.<p>
Commands will only be accepted by the modem once the previous command has been
fully executed, which is normally indicated by the return of an appropriate
result code. Execution of commands D and A, either as a result of a direct
command or a re-execute command, will be aborted if another character is
entered before completion of the handshake.
<a name="_Toc343068197"></a><a name="_Toc347715453"></a>
<p class="bodytext"><b><i>
<a name="RTFToC20">3.1.3
Escape Code Sequence</a>
</i></b></p>
When the modem has established a connection and has entered on-line data mode,
it is possible to break into the data transmission in order to issue further
commands to the modem in an on-line command mode. This is achieved by the DTE
sending to the modem a sequence of three ASCII characters specified by register
S2. The default character is '+'. The maximum time allowed between receipt of
the last character of the three escape character sequence from the DTE and
sending of the OK result code to the DTE is controlled by the S12 register.<p>
<a name="_Toc343068198"></a><a name="_Toc347715454"></a>
<p class="bodytext"><b>
<a name="RTFToC21">3.2
AT COMMAND SET</a>
</b></p>
The modem will respond to the commands detailed below. Parameters applicable to
each command are listed with the command description. The defaults shown for
each configuration command are those used in the Rockwell factory profile&nbsp;0.
<a name="_Toc343068199"></a><a name="_Toc347715455"></a>
<p class="bodytext"><b><i>
<a name="RTFToC22">3.2.1
AT Commands</a>
<a name="_Toc343068200"></a><a name="_Toc347715456"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC23">A/
- Re-execute Command</a></a>
</a></i></p>
The modem behaves as though the last command line had been re-sent by the DTE.
"A/" will repeat all the commands in the command buffer.<p>
The principal application of this command is to place another call (using the
Dial command) that failed to connect due to a busy line, no answer, or a wrong
number. This command must appear alone on a command line. This command should
not be terminated by a carriage return.
<a name="_Toc343068201"></a><a name="_Toc347715457"></a>
<p class="bodytext"><i>
<a name="RTFToC24">AT=
x - Write to Selected S-Register</a>
</i></p>
This command writes the value x to the currently selected S-Register. An
S-Register can be selected by using the ATSn command. All of the S-Registers
will return the OK response if x is a number. Some registers may not be written
due to country specific PTT limitations.<p>
Result Codes<p>
OK	For all arguments.
<a name="_Toc343068202"></a><a name="_Toc347715458"></a>
<p class="bodytext"><i>
<a name="RTFToC25">AT?
- Read Selected S-Register</a>
</i></p>
This command reads and displays the selected S-Register. An S-Register can be
selected by using the ATSn command.<p>
Result Codes:<p>
OK	For all arguments.
<a name="_Toc343068203"></a><a name="_Toc347715459"></a>
<p class="bodytext"><i>
<a name="RTFToC26">A
- Answer</a>
</i></p>
The modem will go off-hook and attempt to answer an incoming call if correct
conditions are met. Upon successful completion of answer handshake, the modem
will go on-line in answer mode. This command may be affected by the state of
Line Current Sense, if enabled. (Most countries do not require Line Current
Sense.) Operation is also dependent upon +FCLASS command and country-specific
requirements.<p>
If +FCLASS=0 is selected, the modem will enter the connect state after
exchanging carrier with the remote modem. If no carrier is detected within a
period specified in register S7, the modem hangs up. Any character entered
during the connect sequence will abort the connection attempt.<p>
If +FCLASS=1 or 2 is selected, the modem will go off-hook in V.21 answer mode.
It will generate the V.21 2100 Hz answer tone for 3 +/- 0.5 seconds and,
following a delay of 70 ms, will proceed as if the +FTH=3 command were issued.
At any stage up to (but excluding) the +FTH=3 command state, any character will
abort the communication. (See the description of the +FTH command for details.)
<a name="_Toc343068204"></a><a name="_Toc347715460"></a>
<p class="bodytext"><i>
<a name="RTFToC27">Bn
- CCITT or Bell</a>
</i></p>
When the modem is configured to allow either option, the modem will select Bell
or CCITT modulation for a line speed connection of 300 or 1200 bps according to
the parameter supplied. Any other line speed will use a CCITT modulation
standard. The parameter value, if valid, is written to S27 bit 6. (Also, see
ATFn command.)<p>
B0	Selects CCITT operation at 300 or 1200 bps during Call Establishment and a
subsequent connection. (Default for W-class models.)<p>
B1	Selects BELL operation at 300 or 1200 bps during Call Establishment and a
subsequent connection. (Default for US models.)<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068205"></a><a name="_Toc347715461"></a>
<p class="bodytext"><i>
<a name="RTFToC28">Cn
- Carrier Control</a>
</i></p>
This command is included for compatibility only, and has no effect other than
returning a result code. The only valid parameter is 1.<p>
Result Codes:<p>
OK	n = 1.<p>
ERROR	Otherwise.
<a name="_Toc343068206"></a><a name="_Toc347715462"></a>
<p class="bodytext"><i>
<a name="RTFToC29">Dn
- Dial</a>
</i></p>
This command directs the modem to go on-line, dial according to the string
entered and attempt to establish a connection. If no dial string is supplied,
the modem will go on-line and attempt the handshake in originate mode. In
W-class models, the action of going off-hook is affected by the status of the
Line Current Sense input, if line current sensing is enabled, and by the
blacklist and delayed list. <b>NOTE:</b> If the ATD command is issued before
the S1 register has cleared, the modem will respond with the NO CARRIER result
code.<p>
If +FCLASS=0 is selected, the modem will behave as a data modem and will
attempt to connect to another data modem. The modem will have up to the period
of time specified by register S6 or S7 to wait for carrier and complete the
handshake. If this time expires before the modem can complete the handshake,
the modem will go on-hook with the NO CARRIER response. This command will be
aborted in progress upon receipt of any DTE character before completion of the
handshake.<p>
If +FCLASS=1 or 2 is selected, the modem will behave as a facsimile modem and
attempt to connect to a facsimile machine (or modem) by entering the HDLC V.21
channel 2 receive state (as if +FRH=3 had been issued). This command will be
aborted upon receipt of any DTE character if the modem has not finished
dialing. In this case, the modem will go on-hook and return to command mode
after displaying the NO CARRIER message. If the modem has finished dialing, it
proceeds as if the +FRH=3 command has been issued. (Refer to the +FRH command
to determine how the modem behaves following this stage.)<p>
Dial Modifiers. The valid dial string parameters are described below.
Punctuation characters may be used for clarity, with parentheses, hyphen, and
spaces being ignored.<p>
0-9	DTMF digits 0 to 9.<p>
*	The 'star' digit (tone dialing only).<p>
#	The 'gate' digit (tone dialing only).<p>
A-D	DTMF digits A, B, C, and D. Some countries may prohibit sending of these
digits during dialing.<p>
L	Re-dial last number: the modem will re-dial the last valid telephone number.
The L must be immediately after the D with all the following characters
ignored).<p>
P	Select pulse dialing: pulse dial the numbers that follow until a "T" is
encountered. Affects current and subsequent dialing. Some countries prevent
changing dialing modes after the first digit is dialed.<p>
T	Select tone dialing: tone dial the numbers that follow until a "P" is
encountered. Affects current and subsequent dialing. Some countries prevent
changing dialing modes after the first digit is dialed.<p>
R	This command will be accepted, but not acted on.<p>
S=n	Dial the number stored in the directory (n = 0 to 3). (See &amp;Z.)<p>
!	Flash: the modem will go on-hook for a time defined by the value of S29.
Country requirements may limit the time imposed.<p>
W	Wait for dial tone: the modem will wait for dial tone before dialing the
digits following "W". If dial tone is not detected within the time specified by
S7 (US) or S6 (W-class), the modem will abort the rest of the sequence, return
on-hook, and generate an error message.<p>
@	Wait for silence: the modem will wait for at least 5 seconds of silence in
the call progress frequency band before continuing with the next dial string
parameter. If the modem does not detect these 5 seconds of silence before the
expiration of the call abort timer (S7), the modem will terminate the call
attempt with a NO ANSWER message. If busy detection is enabled, the modem may
terminate the call with the BUSY result code. If answer tone arrives during
execution of this parameter, the modem handshakes.<p>
&amp;	Wait for credit card dialing tone before continuing with the dial string.
If the tone is not detected within the time specified by S7 (US models) or S6
(W-class models), the modem will abort the rest of the sequence, return
on-hook, and generate an error message.<p>
,	Dial pause: the modem will pause for a time specified by S8 before dialing
the digits following ",".<p>
;	Return to command state. Added to the end of a dial string, this causes the
modem to return to the command state after it processes the portion of the dial
string preceding the ";". This allows the user to issue additional AT commands
while remaining off-hook. The additional AT commands may be placed in the
original command line following the ";" and/or may be entered on subsequent
command lines. The modem will enter call progress only after an additional dial
command is issued without the ";" terminator. Use "H" to abort the dial in
progress, and go back on-hook.<p>
^	Toggles calling tone enable/disable: applicable to current dial attempt
only.<p>
( )	Ignored: may be used to format the dial string.<p>
-	Ignored: may be used to format the dial string.<p>
&lt;space&gt;	Ignored: may be used to format the dial string.<p>
&lt;i&gt;	Invalid character: will be ignored.<p>
&gt;	If enabled by country specific parameter, the modem will generate a
grounding pulse on the EARTH relay output.
<a name="_Toc343068207"></a><a name="_Toc347715463"></a>
<p class="bodytext"><i>
<a name="RTFToC30">En
- Command Echo</a>
</i></p>
The modem enables or disables the echo of characters to the DTE according to
the parameter supplied. The parameter value, if valid, is written to S14 bit
1.<p>
E0	Disables command echo.<p>
E1	Enables command echo. (Default.)<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068208"></a><a name="_Toc347715464"></a>
<p class="bodytext"><i>
<a name="RTFToC31">Fn
- Select Line Modulation (RC144 Models Only)</a>
</i></p>
This command selects the line modulation according to the parameter supplied.
The line modulation is fixed unless Automode is selected. This command
interacts with the S37 and the N command. The parameter value, if valid, is
written to S37 bits 0-4. To select line modulation, it is recommended that
either the F command, or a combination of the S37 and the N command, be used,
but not both. <p>
F0	Selects auto-detect mode. Sets N1 and sets S31 bit 1. In this mode, the
modem configures for automode operation. All connect speeds supported by the
modem are possible according to the remote modem's preference. The contents of
S37 are ignored as is the sensed DTE speed.<p>
F1	Selects V.21 or Bell 103 according to the B setting as the only acceptable
line speed resulting in a subsequent connection. Sets N0, sets S37 to 1, and
clears S31 bit 1. This command is equivalent to the command string:
ATN0S37=1.<p>
F2	Not supported.<p>
F3	Selects V.23 as the only acceptable line modulation for a subsequent
connection. Originator is at 75 bps and answerer is at 1200 bps. Sets N0, sets
S37 to 7, and clears S31 bit 1. This command is equivalent to the command
string: ATN0S37=7.<p>
F4	Selects V.22 1200 or Bell 212A according to the B command setting as the
only acceptable line speed for a subsequent connection. Sets N0, sets S37 to 5,
and clears S31 bit 1. This command is equivalent to the command string:
ATN0S37=5.<p>
F5	Selects V.22 bis as the only acceptable line modulation for a subsequent
connection. Sets N0, sets S37 to 6, and clears S31 bit 1. This command is
equivalent to the command string: ATN0S37=6.<p>
F6	Select V.32 bis 4800 or V.32 4800 as the only acceptable line modulation for
a subsequent connection. Sets N0, sets S37 to 8, and clears S31 bit 1. This
command is equivalent to the command string: ATN0S37=8.<p>
F7	Selects V.32 bis 7200 as the only acceptable line modulation for a
subsequent connection. Sets N0, sets S37 to 12, and clears S31 bit 1. This
command is equivalent to the command string: ATN0S37=12.<p>
	This setting also allows connection at the Rockwell proprietary 7200 V.32
speed, e.g., with a RC9696/12 based modem.<p>
F8	Selects V.32 bis 9600 or V.32 9600 as the only acceptable line modulations
for a subsequent connection. Sets N0, sets S37 to 9, and clears S31 bit 1. This
command is equivalent to the command string: ATN0S37=9.<p>
F9	Selects V.32 bis 12000 as the only acceptable line modulation for a
subsequent connection. Sets N0, sets S37 to 10, and clears S31 bit 1. This
command is equivalent to the command string: ATN0S37=10.<p>
	This setting also allows connection at the Rockwell proprietary 12000 V.32
speed, e.g., with a RC9696/12 based modem.<p>
F10	Selects V.32 bis 14400 as the only acceptable line modulation for a
subsequent connection. Sets N0, sets S37 to 11, and clears S31 bit 1. This
command is equivalent to the command string: ATN0S37=11.
<a name="_Toc347715465"></a>
<p class="bodytext"><i>
<a name="RTFToC32">Hn
- Disconnect (Hang-Up)</a>
</i></p>
This command initiates a hang up sequence.<p>
This command may not be available for some countries due to PTT restrictions.<p>
H0	The modem will release the line if the modem is currently on-line, and will
terminate any test (AT&amp;T) that is in progress. Country specific, modulation
specific, and error correction protocol specific (S38) processing is handled
outside of the H0 command.<p>
H1	If on-hook, the modem will go off-hook and enter command mode. For US
models, the modem will remain off-hook. For W-class models, the modem will
return on-hook after a period of time determined by S7.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068209"></a><a name="_Toc347715466"></a>
<p class="bodytext"><i>
<a name="RTFToC33">In
- Identification</a>
</i></p>
The modem reports to the DTE the requested result according to the command
parameter.<p>
I0	Reports product code. Example: 28800<p>
I1	Calculates the ROM checksum and reports the least significant byte of the
checksum in decimal (see firmware release notes). Reports 255 if the prestored
checksum value is FFh.<p>
I2	Calculates the ROM checksum and compares it with the prestored checksum.
Reports "OK" if the calculated checksum equals the prestored checksum or if the
prestored checksum value is FFh; otherwise reports "ERROR".<p>
I3	Reports the firmware version (F), basic model (e.g.,V34), application code
(A), and interface type code (I) typically in the form VF.FFF-V34_AI. The
application codes are: D = Desktop, L = Low Power (PCMCIA). The interface type
codes are: S = Serial, P = Parallel. Example: V1.400-V34_DS<p>
	Note: If RPI+ is supported, "ROCKWELL RPI (TM)" is appended.<p>
I4	Reports OEM defined identifier string in either Hayes-compatible binary
format (default) or ASCII format (selectable by ConfigurACE). Example: RC288ACi
(ASCII)<p>
I5	Reports Country Code parameter. Example: 022<p>
I6	Reports modem data pump model and internal code revision. Example: RC288DPi
Rev 05BA<p>
I7	Reports the DAA code resulting from MCU interrogation of the DAA for auto
DAA recognition. Examples: 000 for US or Canada, 016 for Japan, 033 for
Belgium, 034 for Finland, 035 for France, 037 for Italy, 038 for Netherlands,
039 for Sweden, 040 for Switzerland, and 041 for UK.<p>
Result Codes:<p>
OK	n = 0 to 7.<p>
ERROR	Otherwise.
<a name="_Toc343068210"></a><a name="_Toc347715467"></a>
<p class="bodytext"><i>
<a name="RTFToC34">Ln
- Speaker Volume</a>
</i></p>
The modem sets the speaker volume control according to the parameter supplied.
The parameter value, if valid, is written to S22 bits 0 and 1.<p>
L0	Low volume.<p>
L1	Low volume. (Default.)<p>
L2	Medium volume.<p>
L3	High volume.<p>
Result Codes:<p>
OK	n = 0 to 3.<p>
ERROR	Otherwise.
<a name="_Toc343068211"></a><a name="_Toc347715468"></a>
<p class="bodytext"><i>
<a name="RTFToC35">Mn
- Speaker Control</a>
</i></p>
This command selects when the speaker will be on or off. The parameter value,
if valid, is written to S22 bits 2 and 3.<p>
M0	Speaker is always off.<p>
M1	Speaker is on during call establishment, but off when receiving carrier.
(Default.)<p>
M2	Speaker is always on.<p>
M3	Speaker is off when receiving carrier and during dialing, but on during
answering.<p>
Result Codes:<p>
OK	n = 0 to 3.<p>
ERROR	Otherwise.
<a name="_Toc343068212"></a><a name="_Toc347715469"></a>
<p class="bodytext"><i>
<a name="RTFToC36">Nn
- Automode Enable</a>
</i></p>
This command enables or disables automode detection. The parameter value, if
valid, is written to S31 bit 1.<p>
N0	Automode detection is disabled (equivalent to setting the +MS
&lt;automode&gt; subparameter to 0). A subsequent handshake will be conducted
according to the contents of S37 or, if S37 is zero, according to the most
recently sensed DTE speed.<p>
N1	Automode detection is enabled (equivalent to setting the +MS
&lt;automode&gt; subparameter to 1). A subsequent handshake will be conducted
according the automode algorithm supported by the modem, e.g., according to the
contents of S37 or, if S37 is zero, starting at 28800 bps V.34 (RC288). This
command is also equivalent to F0 (RC144). (Default.)<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.<p>
<b>Notes: </b><p>
1.	The Nn and S37=x commands override the +MS command settings. When the
N0 or N1 command is issued, the +MS subparameters are updated to reflect the Nn
and S37 values (see +MS command and S37 register). For example:<p>
N1S37=10 updates the +MS command subparameters to reflect +MS=10,1,300,12000<p>
N0S37=10 updates the +MS command subparameters to reflect
+MS=10,0,12000,12000<p>
2.	Use of the +MS command is recommended instead of the Nn and S37=x commands.
Nn and S37=x commands are supported for compatibility with existing
communication software. 
<a name="_Toc343068213"></a><a name="_Toc347715470"></a>
<p class="bodytext"><i>
<a name="RTFToC37">On
- Return to On-Line Data Mode</a>
</i></p>
This command determines how the modem will enter the on-line data mode. If the
modem is in the on-line command mode, the enters the on-line data mode with or
without a retrain. If the modem is in the off-line command mode (no
connection), ERROR is reported.<p>
O0	Enters on-line data mode without a retrain. Handling is determined by the
Call Establishment task. Generally, if a connection exists, this command
connects the DTE back to the remote modem after an escape (+++).<p>
O1	Enters on-line data mode with a retrain before returning to on-line data
mode.<p>
Result Codes:<p>
OK	n = 0 or 1 and a connection exists.<p>
ERROR	Otherwise or if not connected.
<a name="_Toc343068214"></a><a name="_Toc347715471"></a>
<p class="bodytext"><i>
<a name="RTFToC38">P
- Set Pulse Dial Default</a>
</i></p>
This command forces pulse dialing until the next T dial modifier or T command
is received. Sets S14 bit 5.<p>
As soon as a dial command is executed which explicitly specifies the dialing
mode for that particular call (e.g., ATDT...), this command is overridden so
that all future dialing will be tone dialed. (See T command.)<p>
This command may not be permitted in some countries.<p>
Result Code:<p>
OK
<a name="_Toc343068215"></a><a name="_Toc347715472"></a>
<p class="bodytext"><i>
<a name="RTFToC39">Qn
- Quiet Results Codes Control</a>
</i></p>
The command enables or disables the sending of result codes to the DTE
according to the parameter supplied. The parameter value, if valid, is written
to S14 bit 2.<p>
Q0	Enables result codes to the DTE. (Default.)<p>
Q1	Disables result codes to the DTE.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068216"></a><a name="_Toc347715473"></a>
<p class="bodytext"><i>
<a name="RTFToC40">Sn
- Read/Write S-Register</a>
</i></p>
The modem selects an S-Register, performs an S-Register read or write function,
or reports the value of an S-Register.<p>
n	Establishes S-Register n as the last register accessed.<p>
n=v	Sets S-Register n to the value v.<p>
n?	Reports the value of S-Register n.<p>
The parameter n can be omitted, in which case the last S-Register accessed will
be assumed. The S can be omitted for AT= and AT?, in which case the last
S-Register accessed will be assumed.<p>
For example:<p>
	ATS7 establishes S7 as the last accessed register.<p>
	AT=40 sets the contents of the last register accessed to 40.<p>
	ATS=20 sets the contents of the last register accessed to 20.<p>
If the number "n" is beyond the range of the S-Registers available, the modem
will return the ERROR message. The value "v" is "MOD"ed with 256. If the result
is outside the range permitted for a given S-Register the values will still be
stored, but functionally the lower and higher limits will be observed. Input
and output are always in decimal format. Note that some S-Registers are
read-only.<p>
In some cases, writing to the S-Register will appear to be accepted but the
value will not actually be written.<p>
Due to country restrictions, some commands will be accepted, but the value may
be limited and replaced by a maximum or minimum value.<p>
Minimum, maximum, and default values for S-Registers may be altered with
ConfigurACE.
<a name="_Toc343068217"></a><a name="_Toc347715474"></a>
<p class="bodytext"><i>
<a name="RTFToC41">T
- Set Tone Dial Default</a>
</i></p>
This command forces DTMF dialing until the next P dial modifier or P command is
received. The modem will set an S-Register bit to indicate that all subsequent
dialing should be conducted in tone mode. Note that the DP command will
override this command. Clears S14 bit 5.<p>
This command may not be permitted in some countries. (See P.)<p>
Result Code:<p>
OK
<a name="_Toc343068218"></a><a name="_Toc347715475"></a>
<p class="bodytext"><i>
<a name="RTFToC42">Vn
- Result Code Form</a>
</i></p>
This command selects the sending of short-form or long-form result codes to the
DTE. The parameter, if valid, is written to S14 bit 3.<p>
V0	Enables short-form (terse) result codes. Line feed is not issued before a
short-form result code.<p>
V1	Enables long-form (verbose) result codes. (Default.)<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068219"></a><a name="_Toc347715476"></a>
<p class="bodytext"><i>
<a name="RTFToC43">Wn
- Connect Message Control</a>
</i></p>
This command controls the format of CONNECT messages. The parameter value, if
valid, is written to S31 bits 2 and 3. Note that the Wn command can be
overridden by register S95 bits (see S95 description).<p>
W0	Upon connection, the modem reports only the DTE speed (e.g., CONNECT 19200).
Subsequent responses are disabled. (Default.)<p>
W1	Upon connection, the modem reports the line speed, the error correction
protocol, and the DTE speed, respectively. Subsequent responses are disabled.<p>
W2	Upon connection, the modem reports the DCE speed (e.g., CONNECT 14400).
Subsequent responses are disabled.<p>
Result Codes:<p>
OK	n = 0, 1, or 2.<p>
ERROR	Otherwise.
<a name="_Toc343068220"></a><a name="_Toc347715477"></a>
<p class="bodytext"><i>
<a name="RTFToC44">Xn
- Extended Result Codes:</a>
</i></p>
This command selects which subset of the result messages will be used by the
modem to inform the DTE of the results of commands.<p>
Blind dialing is enabled or disabled by country parameters. If the user wishes
to enforce dial tone detection, a "W" can be placed in the dial string (see D
command). Note that the information below is based upon the default
implementation of the X results table. Table 3-1 indicates the messages which
are enabled for each X value.<p>
If the modem is in facsimile mode (+FCLASS=1 or 2), the only message sent to
indicate a connection is CONNECT without a speed indication.<p>
X0	Disables monitoring of busy tones unless forced otherwise by country
requirements; send only OK, CONNECT, RING, NO CARRIER, ERROR, and NO ANSWER
result codes. Blind dialing is enabled/disabled by country parameters. If busy
tone detection is enforced and busy tone is detected, NO CARRIER will be
reported. If dial tone detection is enforced or selected and dial tone is not
detected, NO CARRIER will be reported instead of NO DIAL TONE. The value 000b
is written to S22 bits 6, 5, and 4, respectively.<p>
X1	Disables monitoring of busy tones unless forced otherwise by country
requirements; send only OK, CONNECT, RING, NO CARRIER, ERROR, NO ANSWER, and
CONNECT XXXX (XXXX = rate). Blind dialing enabled/disabled by country
parameters. If busy tone detection is enforced and busy tone is detected, NO
CARRIER will be reported instead of BUSY. If dial tone detection is enforced or
selected and dial tone is not detected, NO CARRIER will be reported instead of
NO DIAL TONE. The value 100b is written to S22 bits 6, 5, and 4,
respectively.<p>
X2	Disables monitoring of busy tones unless forced otherwise by country
requirements; send only OK, CONNECT, RING, NO CARRIER, ERROR, NO DIALTONE, NO
ANSWER, and CONNECT XXXX. If busy tone detection is enforced and busy tone is
detected, NO CARRIER will be reported instead of BUSY. If dial tone detection
is enforced or selected and dial tone is not detected, NO DIAL TONE will be
reported instead of NO CARRIER. The value 101b is written to S22 bits 6, 5, and
4, respectively.<p>
X3	Enables monitoring of busy tones; send only OK, CONNECT, RING, NO CARRIER,
ERROR, NO ANSWER, and CONNECT XXXX. Blind dialing is enabled/disabled by
country parameters. If dial tone detection is enforced and dial tone is not
detected, NO CARRIER will be reported. The value 110b is written to S22 bits 6,
5, and 4, respectively.<p>
X4	Enables monitoring of busy tones; send all messages. The value 111b is
written to S22 bits 6, 5, and 4, respectively. (Default.)<p>
Result Codes:<p>
OK	n = 0 to 4.<p>
ERROR	Otherwise.
<a name="_Ref345291496"></a><a name="_Toc347715837"></a><p>
<b>Table 3-1. Result Codes</b>

<pre>
Short Form  Long Form                  n Value in ATXn Command                       Notes      
                                       0      1      2      3      4                 
     0      OK                           x    x      x      x      x                 
    1       CONNECT                      x    x      x      x      x                 
    2       RING                         x    x      x      x      x                 
    3       NO CARRIER                   x    x      x      x      x                 
    4       ERROR                        x    x      x      x      x                 
    5       CONNECT 1200                 1    x      x      x      x                 
    6       NO DIALTONE                  3    3      x      x      x                 
    7       BUSY                         3    3      3      x      x                 
    8       NO ANSWER                    x    x      x      x      x                 
    9       CONNECT 0600                 1    x      x      x      x                 
    10      CONNECT 2400                 1    x      x      x      x                 
    11      CONNECT 4800                 1    x      x      x      x                 
    12      CONNECT 9600                 1    x      x      x      x                 
    13      CONNECT 7200                 1    x      x      x      x                 
    14      CONNECT 12000                1    x      x      x      x                 
    15      CONNECT 14400                1    x      x      x      x                 
    16      CONNECT 19200                1    x      x      x      x                 
    17      CONNECT 38400                1    x      x      x      x                 
    18      CONNECT 57600                1    x      x      x      x                 
    19      CONNECT 115200               1    x      x      x      x                 
    22      CONNECT 75TX/1200RX          1    x      x      x      x                 
    23      CONNECT 1200TX/75RX          1    x      x      x      x                 
    24      DELAYED                      4    4      4      4      x                 
    32      BLACKLISTED                  4    4      4      4      x                 
    33      FAX                          x    x      x      x      x                 
    35      DATA                         x    x      x      x      x                 
    40      CARRIER 300                  x    x      x      x      x                 
    44      CARRIER 1200/75              x    x      x      x      x                 
    45      CARRIER 75/1200              x    x      x      x      x                 
    46      CARRIER 1200                 x    x      x      x      x                 
    47      CARRIER 2400                 x    x      x      x      x                 
    48      CARRIER 4800                 x    x      x      x      x                 
    49      CARRIER 7200                 x    x      x      x      x                 
    50      CARRIER 9600                 x    x      x      x      x                 
    51      CARRIER 12000                x    x      x      x      x                 
    52      CARRIER 14400                x    x      x      x      x                 
    53      CARRIER 16800                x    x      x      x      x      RC288      
                                                                          only       
    54      CARRIER 19200                x    x      x      x      x      RC288      
                                                                          only       
    55      CARRIER 21600                x    x      x      x      x      RC288      
                                                                          only       
    56      CARRIER 24000                x    x      x      x      x      RC288      
                                                                          only       
    57      CARRIER 26400                x    x      x      x      x      RC288      
                                                                          only       
    58      CARRIER 28800                x    x      x      x      x      RC288      
                                                                          only       
    59      CONNECT 16800                1    x      x      x      x      RC288      
                                                                          only       
    61      CONNECT 21600                1    x      x      x      x      RC288      
                                                                          only       
    62      CONNECT 24000                1    x      x      x      x      RC288      
                                                                          only       
    63      CONNECT 26400                1    x      x      x      x      RC288      
                                                                          only       
    64      CONNECT 28800                1    x      x      x      x      RC288      
                                                                          only       
    66      COMPRESSION: CLASS 5         x    x      x      x      x                 
    67      COMPRESSION: V.42 bis        x    x      x      x      x                 
    69      COMPRESSION: NONE            x    x      x      x      x                 
    76      PROTOCOL: NONE               x    x      x      x      x                 
    77      PROTOCOL: LAPM               x    x      x      x      x                 
    80      PROTOCOL: ALT                x    x      x      x      x                 
    81      PROTOCOL: ALT-CELLULAR       x    x      x      x      x                 
   +F4      +FCERROR                     x    x      x      x      x                 
Note: An 'x' in a column indicates that the message (either the long form if                        
verbose, or the value only for short form) will be generated when that                              
particular value of 'n' (shown at the top of the column) has been selected by                       
the use of ATXn. If the column is blank, then no message will be generated for                      
that x option. A numeral indicates which less explicit message (verbose or                          
short form) will be output for that X option. (Also, see Section 3.3).                              
<a name="_Toc343068221"></a><a name="_Toc347715478"></a>
</pre>
<p class="bodytext"><i>
<a name="RTFToC45">Yn
- Long Space Disconnect</a></a>
</a></i></p>
This command enables/disables the generation and response to long space
disconnect. The parameter value, if valid, is written to S21 bit 7.<p>
Y0	Disables long space disconnect. (default.)<p>
Y1	Enables long space disconnect. In non-error correction mode, the modem will
send a long space of four seconds prior to going on-hook. In non-error
correction mode, the modem will respond to the receipt of a long space (i.e., a
break signal greater than 1.6 seconds) by going on-hook.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068222"></a><a name="_Toc347715479"></a>
<p class="bodytext"><i>
<a name="RTFToC46">Zn
- Soft Reset and Restore Profile</a>
</i></p>
The modem performs a soft reset and restores (recalls) the configuration
profile according to the parameter supplied. If no parameter is specified, zero
is assumed.<p>
Z0	Soft reset and restore stored profile 0.<p>
Z1	Soft reset and restore stored profile 1.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068223"></a><a name="_Toc347715480"></a>
<p class="bodytext"><b><i>
<a name="RTFToC47">3.2.2
AT&amp; Commands</a>
<a name="_Toc343068224"></a><a name="_Toc347715481"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC48">&amp;Cn
- RLSD (DCD) Option</a></a>
</a></i></p>
The modem controls the RLSD output in accordance with the parameter supplied.
The parameter value, if valid, is written to S21 bit 5.<p>
&amp;C0	RLSD remains ON at all times. <p>
&amp;C1	RLSD follows the state of the carrier. (Default.)<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068225"></a><a name="_Toc347715482"></a>
<p class="bodytext"><i>
<a name="RTFToC49">&amp;Dn
- DTR Option</a>
</i></p>
This command interprets the ON to OFF transition of the DTR signal from the DTE
in accordance with the parameter supplied. The parameter value, if valid, is
written to S21 bits 3 and 4. Also, see S25.<p>
&amp;D0 -	DTR drop is interpreted according to the current &amp;Qn setting as
follows:<p>
&amp;Q0, &amp;Q5, &amp;Q6	DTR is ignored (assumed ON). Allows operation with
DTEs which do not provide DTR.<p>
&amp;Q1, &amp;Q4	DTR drop causes the modem to hang up. Auto-answer is not
affected.<p>
&amp;Q2, &amp;Q3	DTR drop causes the modem to hang up. Auto-answer is
inhibited.<p>
&amp;D1	DTR drop is interpreted according to the current &amp;Qn setting as
follows:<p>
&amp;Q0, &amp;Q1, &amp;Q4, &amp;Q5, &amp;Q6	DTR drop is interpreted by the
modem as if the asynchronous escape sequence had been entered. The modem
returns to asynchronous command state without disconnecting.<p>
&amp;Q2, &amp;Q3	DTR drop causes the modem to hang up. Auto-answer is
inhibited.<p>
&amp;D2	DTR drop is interpreted according to the current &amp;Qn setting as
follows:<p>
&amp;Q0 through &amp;Q6	DTR drop causes the modem to hang up. Auto-answer is
inhibited. (Default.)<p>
&amp;D3	DTR drop is interpreted according to the current &amp;Qn setting as
follows:<p>
&amp;Q0, &amp;Q1, &amp;Q4, &amp;Q5, &amp;Q6	DTR drop causes the modem to
perform a soft reset as if the Z command were received. The &amp;Y setting
determines which profile is loaded.<p>
&amp;Q2, &amp;Q3	DTR drop causes the modem to hang up. Auto-answer is
inhibited.<p>
If &amp;Q5, &amp;Q6, +FCLASS=1 or +FCLASS=2 is in effect, the action taken is
the same as for &amp;Q0.
<a name="_Toc343068226"></a><a name="_Toc347715483"></a>
<p class="bodytext"><i>
<a name="RTFToC50">&amp;Fn
- Restore Factory Configuration (Profile)</a>
</i></p>
The modem loads the factory default configuration (profile). The factory
defaults are identified for each command and in the S-Register descriptions. A
configuration (profile) consists of a subset of S-Registers.<p>
&amp;F0	Restore factory configuration 0.<p>
&amp;F1	Restore factory configuration 1.<p>
Result Codes:<p>
OK	<p>
ERROR	If the modem is connected.
<a name="_Toc343068227"></a><a name="_Toc347715484"></a>
<p class="bodytext"><i>
<a name="RTFToC51">&amp;Gn
- Select Guard Tone</a>
</i></p>
The modem generates the guard tone selected by this command according to the
parameter supplied (DPSK modulation modes only). The parameter value, if valid,
is written to S23 bits 6 and 7.<p>
&amp;G0	Disables guard tone. (Default for US models.)<p>
&amp;G1	Disables guard tone.<p>
&amp;G2	Selects 1800 Hz guard tone. (Default for W-class models.)<p>
This command may not be permitted in some countries.<p>
Result Codes:<p>
OK	n = 0 to 2.<p>
ERROR	Otherwise.
<a name="_Toc343068228"></a><a name="_Toc347715485"></a>
<p class="bodytext"><i>
<a name="RTFToC52">&amp;Jn
- Telephone Jack Control</a>
</i></p>
This command is included only for compatibility and performs no function except
to load the S-Register. The parameter value, if valid, is written S21 bit 1.<p>
&amp;J0	&amp;J0 command. (Default.)<p>
&amp;J1	&amp;J1 command.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068229"></a><a name="_Toc347715486"></a>
<p class="bodytext"><i>
<a name="RTFToC53">&amp;Kn
- Flow Control</a>
</i></p>
This command defines the DTE/DCE (terminal/modem) flow control mechanism. The
parameter value, if valid, is written to S39 bits 0, 1, and 2.<p>
&amp;K0	Disables flow control.<p>
&amp;K3	Enables RTS/CTS flow control. (Default for data modem modes.)<p>
&amp;K4	Enables XON/XOFF flow control.<p>
&amp;K5	Enables transparent XON/XOFF flow control.<p>
&amp;K6	Enables both RTS/CTS and XON/XOFF flow control. (Default for fax modem
and voice modes.)<p>
Result Codes:<p>
OK	n = 0, 3, 4, 5, or 6.<p>
ERROR	Otherwise.
<a name="_Toc343068230"></a><a name="_Toc347715487"></a>
<p class="bodytext"><i>
<a name="RTFToC54">&amp;Ln
- Leased Line Operation</a>
</i></p>
This command requests leased line or dial-up operation. This command is
provided for compatibility only; no mode change is performed, dial-up operation
continues. The OK response is returned for a valid parameter, but no other
action is performed. The parameter value, if valid, is written to S27 bit 2.<p>
&amp;L0	Requests dial-up operation. Dial-up operation continues.<p>
Result Codes:<p>
OK	n = 0.<p>
ERROR	Otherwise.
<a name="_Toc343068231"></a><a name="_Toc347715488"></a>
<p class="bodytext"><i>
<a name="RTFToC55">&amp;Mn
- Asynchronous/Synchronous Mode Selection</a>
</i></p>
This command determines the DTR operating mode. The modem treats the &amp;M
command as a subset of the &amp;Q command.<p>
&amp;M0	Selects direct asynchronous operation. Note that the command sequence
&amp;M0\N0 selects normal buffered mode, but the command sequence \N0&amp;M0
selects direct mode. This is because the \N0 command is analogous to the
&amp;Q6 command. The value 000b is written to S27 bits 3, 1, and 0,
respectively. (See &amp;Q).<p>
&amp;M1	Selects synchronous connect mode with async off-line command mode. The
value 001b is written to S27 bits 3, 1, and 0, respectively. (Serial interface
operation only.)<p>
&amp;M2	Selects synchronous connect mode with async off-line command mode. Same
as &amp;M1 except that &amp;M2 enables DTR dialing of directory slot 0. The
modem will disconnect if DTR is OFF for more than the period in S25 (in units
of hundredths of a second): the data connection will be synchronous. The value
010b is written to S27 bits 3, 1, and 0, respectively. (Serial interface
operation only.)<p>
&amp;M3	Selects synchronous connect mode. This mode allows DTR to act as a
talk/data switch. The call is manually initiated while DTR is inactive. When
DTR becomes active, the handshake proceeds in originate or answer mode
according to S14 bit 7. The value 011b is written to S27 bits 3, 1, and 0,
respectively. (Serial interface operation only.)<p>
Result Codes:<p>
OK	n = 0 to 3.<p>
ERROR	Otherwise.
<a name="_Toc343068232"></a><a name="_Toc347715489"></a>
<p class="bodytext"><i>
<a name="RTFToC56">&amp;Pn
- Select Pulse Dial Make/Break Ratio</a>
</i></p>
This command determines the make/break ratio used during pulse dialing. It is
only effective if the appropriate bit to enable this command is set through the
ConfigurACE program. If enabled, it will override the make/break ratios in the
OEM parameters in ConfigurACE. The default is country-dependent. The parameter
value, if valid, is written to S28 bits 3 and 4.<p>
&amp;P0	Selects 39%-61% make/break ratio at 10 pulses per second. (Default.)<p>
&amp;P1	Selects 33%-67% make/break ratio at 10 pulses per second.<p>
&amp;P2	Selects 39%-61% make/break ratio at 20 pulses per second.<p>
&amp;P3	Selects 33%-67% make/break ratio at 20 pulses per second.<p>
Result Codes:<p>
OK	n = 0 to 3.<p>
ERROR	Otherwise.
<a name="_Toc343068233"></a><a name="_Toc347715490"></a>
<p class="bodytext"><i>
<a name="RTFToC57">&amp;Qn
- Sync/Async Mode</a>
</i></p>
This command is an extension of the &amp;M command and is used to control the
connection modes permitted. It is used in conjunction with S36 and S48. (Also,
see \N.) <p>
<b>NOTE:</b> When the &amp;Q0 to &amp;Q4 command is issued to select the mode,
the subsequent connect message will report the DCE speed regardless of the W
command and S95 settings.<p>
&amp;Q0	Selects direct asynchronous operation. The value 000b is written to S27
bits 3, 1, and 0, respectively. See &amp;M0.<p>
&amp;Q1	Selects synchronous connect mode with async off-line command mode. The
value 001b is written to S27 bits 3, 1, and 0, respectively. See &amp;M1.
(Serial interface operation only.)<p>
&amp;Q2	Selects synchronous connect mode with async off-line command mode and
enables DTR dialing of directory 0. The value 010b is written to S27 bits 3, 1,
and 0, respectively. See &amp;M2. (Serial interface operation only.)<p>
&amp;Q3	Selects synchronous connect mode with async off-line command mode and
enables DTR to act as Talk/Data switch. The value 011b is written to S27 bits
3, 1, and 0, respectively. See &amp;M3. (Serial interface operation only.)<p>
&amp;Q4	Selects AutoSync operation. The value 100b is written to S27 bits 3, 1,
and 0, respectively. <p>
	AutoSync operation, when used in conjunction with the Hayes Synchronous
Interface (HSI) capability in the DTE, provides synchronous communication
capability from an asynchronous terminal. <p>
	<b>Starting AutoSync.</b> Set registers S19, S20, and S25 to the desired
values before selecting AutoSync operation with &amp;Q4. After the CONNECT
message is issued, the modem waits the period of time specified by S25 before
examining DTR. If DTR is on, the modem enters the synchronous operating state;
if DTR is off, the modem terminates the line connection and returns to the
asynchronous command state.<p>
	<b>Stopping AutoSync. </b>AutoSync operation is stopped upon loss<b> </b>of
carrier or the on-to-off transition of DTR. Loss of carrier will cause the
modem to return to the asynchronous command state. An on-to-off transition of
DTR will cause the modem to return to the asynchronous command state and either
not terminate the line connection (&amp;D1 active) or terminate the line
connection (any other &amp;Dn command active).<p>
&amp;Q5	The modem will try to negotiate an error-corrected link. The modem can
be configured using S36 to determine whether a failure will result in the modem
returning on-hook or will result in fallback to an asynchronous connection. The
value 101b is written to S27 bits 3, 1, and 0, respectively. (Default.)<p>
&amp;Q6	Selects asynchronous operation in normal mode (speed buffering). The
value 110b is written to S27 bits 3, 1, and 0, respectively.<p>
Result Codes:<p>
OK	n = 0 to 6.<p>
ERROR	Otherwise.
<a name="_Toc343068234"></a><a name="_Toc347715491"></a>
<p class="bodytext"><i>
<a name="RTFToC58">&amp;Rn
- RTS/CTS Option</a>
</i></p>
This selects how the modem controls CTS. CTS operation is modified if hardware
flow control is selected (see &amp;K command). The parameter value, if valid,
is written to S21 bit 2.<p>
&amp;R0	In sync mode, CTS tracks the state of RTS; the RTS-to-CTS delay is
defined by S26. In async mode, CTS acts according to V.25 bis handshake. <p>
&amp;R1	In sync mode, CTS is always ON (RTS transitions are ignored). In async
mode, CTS will only drop if required by flow control. (Default.)<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068235"></a><a name="_Toc347715492"></a>
<p class="bodytext"><i>
<a name="RTFToC59">&amp;Sn
- DSR Override</a>
</i></p>
This command selects how the modem will control DSR. The parameter value, if
valid, is written to S21 bit 6.<p>
&amp;S0	DSR will remain ON at all times. (Default.)<p>
&amp;S1	DSR will become active after answer tone has been detected and inactive
after the carrier has been lost.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068236"></a><a name="_Toc347715493"></a>
<p class="bodytext"><i>
<a name="RTFToC60">&amp;Tn
- Test and Diagnostics</a>
</i></p>
The modem will perform selected test and diagnostic functions according to the
parameter supplied. A test can be run only when in an asynchronous operation in
non-error-correction mode (normal or direct mode). To terminate a test in
progress, the escape sequence must be entered first, except for parameters 7
and 8 (see Section 3.1.3). If S18 is non-zero, a test will terminate
automatically after the time specified by S18 and display the OK message. Note:
For tests 3, 6, and 7, a connection between the two modems must first be
established.<p>
&amp;T0	Terminates test in progress. Clears S16.<p>
&amp;T1	Initiates local analog loopback, V.54 Loop 3. Sets S16 bit 0. If a
connection exists when this command is issued, the modem hangs up. The CONNECT
XXXX message is displayed upon the start of the test.<p>
&amp;T2	Returns ERROR.<p>
&amp;T3	Initiates local digital loopback, V.54 Loop 2. Sets S16 bit 2. If no
connection exists, ERROR is returned. Sets S16 bit 4 when the test is in
progress.<p>
&amp;T4	Enables digital loopback acknowledgment for remote request, i.e., an
RDL request from a remote modem is allowed. Sets S23 bit 0.<p>
&amp;T5	Disables digital loopback acknowledgment for remote request, i.e., an
RDL request from a remote modem is denied. Clears S23 bit 0. (Default.)<p>
&amp;T6	Requests a remote digital loopback (RDL), V.54 Loop 2, without self
test. If no connection exists, ERROR is returned. Sets S16 bit 4 when the test
is in progress. The CONNECT XXXX message is displayed upon the start of the
test.<p>
&amp;T7	Requests a remote digital loopback (RDL),V.54 Loop 2, with self test.
(In self test, a test pattern is looped back and checked by the modem.) If no
connection exists, ERROR is returned. When the test is terminated either via
expiration of S18, or via the &amp;T0 or H command, the number of detected
errors is reported to the DTE. Sets S16 bit 5 when the test is in progress.<p>
&amp;T8	Initiates local analog loopback, V.54 Loop 3, with self test. (In self
test, a test pattern is looped back and checked by the modem.) If a connection
exists, the modem hangs up before the test is initiated. When the test is
terminated either via expiration of S18, or via the &amp;T0 or H command, the
number of detected errors is reported to the DTE. Sets S16 bit 6 when the test
is in progress. This command may not be available in some countries due to PTT
restrictions. 
<a name="_Toc343068237"></a><a name="_Toc347715494"></a>
<p class="bodytext"><i>
<a name="RTFToC61">&amp;V
- Display Current Configuration and Stored Profiles</a>
</i></p>
Reports the current (active) configuration, the stored (user) profiles, and the
first four stored telephone numbers. The stored profiles and telephone numbers
are not displayed if the NVRAM is not installed or is not operational as
detected by the NVRAM test during reset processing. <p>
Result Code:<p>
OK<p>
Example:<p>
<tt>AT&amp;V</tt><p>
<tt>ACTIVE PROFILE:</tt><p>
<tt>B0 E1 L1 M1 N1 QO T V1 W0 X4 Y0 &amp;C0 &amp;D0 &amp;G2 &amp;J0 &amp;K3
&amp;Q5 &amp;R1 &amp;S0 &amp;T4 &amp;X0 &amp;Y0</tt><p>
<tt>S00:002 S01:000 S02:043 S03:013 S04:010 S05:008 S06:002 S07:030 S08:002
S09:006</tt><p>
<tt>S10:014 S11:255 S12:050 S18:000 S25:005 S26:001 S36:007 S37:000 S38:020
S46:138 </tt><p>
<tt>S48:007 S95:000</tt>
<p>
<p>
<tt>STORED PROFILE 0:</tt><p>
<tt>B0 E1 L1 M1 N1 QO T V1 W0 X4 Y0 &amp;C0 &amp;D0 &amp;G2 &amp;J0 &amp;K3
&amp;Q5 &amp;R1 &amp;S0 &amp;T4 &amp;X0</tt><p>
<tt>S00:002 S02:043 S06:002 S07:030 S08:002 S09:006 S10:014 S11:095 S12:050
S18:000</tt><p>
<tt>S36:007 S37:000 S40:105 S41:003 S46:138 S95:000</tt>
<p>
<p>
<tt>STORED PROFILE 1:</tt><p>
<tt>B0 E1 L1 M1 N1 QO T V1 W0 X4 Y0 &amp;C0 &amp;D0 &amp;G2 &amp;J0 &amp;K3
&amp;Q5 &amp;R1 &amp;S0 &amp;T4 &amp;X0</tt><p>
<tt>S00:002 S02:043 S06:002 S07:030 S08:002 S09:006 S10:014 S11:095 S12:050
S18:000</tt><p>
<tt>S36:007 S37:000 S40:105 S41:003 S46:138 S95:000</tt>
<p>
<p>
<tt>TELEPHONE NUMBERS:</tt><p>
<tt>0 =	1 =</tt><p>
<tt>2 =	3 =</tt>
<p>
<p>
<tt>OK</tt><p>
<a name="_Toc343068238"></a>
<a name="_Toc347715495"></a><tt></tt>
<p class="bodytext"><i>
<a name="RTFToC62">&amp;Wn
- Store Current Configuration</a>
</i></p>
Saves the current (active) configuration (profile), including S-Registers, in
one of the two user profiles in NVRAM as denoted by the parameter value. This
command will yield an ERROR message if the NVRAM is not installed or is not
operational as detected by the NVRAM test.<p>
The current configuration is comprised of a list of storable parameters
illustrated in the &amp;V command. These settings are restored to the active
configuration upon receiving an Zn command or at power up (see &amp;Yn
command).<p>
&amp;W0	Store the current configuration as profile 0.<p>
&amp;W1	Store the current configuration as profile 1.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068239"></a><a name="_Toc347715496"></a>
<p class="bodytext"><i>
<a name="RTFToC63">&amp;Xn
- Select Synchronous Clock Source</a>
</i></p>
Selects the source of the transmit clock for the synchronous mode of operation.
The parameter value, if valid, is written to S27 bits 4 and 5.<p>
In asynchronous mode, the transmit and receive clocks are turned OFF. In
synchronous mode, the clocks are turned ON with the frequency of 1200 Hz or
faster corresponding to the speed that is selected for modem operation.<p>
&amp;X0	Selects internal timing. The modem generates the transmit clock signal
and applies it to the TXCLK output at the serial interface.<p>
&amp;X1	Selects external timing. The local DTE sources the transmit clock
signal on the XTCLK input of the serial interface. The modem applies this clock
to the TXCLK output at the serial interface.<p>
&amp;X2	Selects slave receive timing. The modem derives the transmit clock
signal from the incoming carrier and applies it to the TXCLK output at the
serial interface.<p>
Result Codes:<p>
OK	n = 0 to 2.<p>
ERROR	Otherwise.
<a name="_Toc343068240"></a><a name="_Toc347715497"></a>
<p class="bodytext"><i>
<a name="RTFToC64">&amp;Yn
- Designate a Default Reset Profile</a>
</i></p>
Selects which user profile will be used after a hard reset.<p>
&amp;Y0	The modem will use profile 0.<p>
&amp;Y1	The modem will use profile 1.<p>
Result Codes:<p>
OK	n = 0 to 1.<p>
ERROR	If n &gt; 1, or if NVRAM is not installed or is not operational.
<a name="_Toc343068241"></a><a name="_Toc347715498"></a>
<p class="bodytext"><i>
<a name="RTFToC65">&amp;Zn=x
- Store Telephone Number</a>
</i></p>
The modem can store up to four telephone numbers and each telephone number dial
string can contain up to 34 digits.<p>
&amp;Zn=x	n = 0 to 3 and x = dial string. (Requires 256-byte NVRAM.)<p>
Result Codes:<p>
OK	For n &lt;= 3, and x &lt;= 34 digits.<p>
ERROR	If n &gt; 3, x &gt; 35 digits, or if NVRAM is not installed or is not
operational.
<a name="_Toc343068242"></a><a name="_Toc347715499"></a>
<p class="bodytext"><b><i>
<a name="RTFToC66">3.2.3
AT% Commands</a>
<a name="_Toc343068243"></a><a name="_Toc347715500"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC67">%En
- Enable/Disable Line Quality Monitor and Auto-Retrain or Fallback/Fall
Forward</a></a>
</a></i></p>
Controls whether or not the modem will automatically monitor the line quality
and request a retrain (%E1) or fall back when line quality is insufficient or
fall forward when line quality is sufficient (%E2). The parameter value, if
valid, is written to S41 bits 2 and 6.<p>
If enabled, the modem attempts to retrain for a maximum of 30 seconds.<p>
%E0	Disable line quality monitor and auto-retrain. <p>
%E1	Enable line quality monitor and auto-retrain.<p>
%E2	Enable line quality monitor and fallback/fall forward. (Default.)<p>
Result Codes:<p>
OK	n = 0, 1, or 2.<p>
ERROR	Otherwise.<p>
<b>Fallback/Fall Forward. </b>When %E2 is active, the modem monitors the line
quality (EQM). When line quality is insufficient, the modem will initiate a
rate renegotiation to a lower speed within the V.34/V.FC/V.32 bis/V.32 (RC288)
or V.32 bis/V.32   (RC144) modulation speeds. The modem will keep falling back
within the current modulation if necessary until the speed reaches 2400 bps
(V.34), 14400 bps (V.FC), or 4800 bps (V.32). Below this rate, the modem will
only do retrains if EQM thresholds are exceeded. If the EQM is sufficient for
at least one minute, the modem will initiate a rate renegotiation to a higher
speed within the current modulation speeds. The rate renegotiations will be
done without a retrain if a V.32 bis connection is established.<p>
Speeds attempted during fallback/fall forward are those shown to be available
in the rate sequences exchanged during the initial connection. Fallback/fall
forward is available in error correction and normal modes, but not in direct
mode or synchronous mode with external clocks. 
<a name="_Toc343068244"></a><a name="_Toc347715501"></a>
<p class="bodytext"><i>
<a name="RTFToC68">%L
- Line Signal Level</a>
</i></p>
Returns a value which indicates the received signal level. The value returned
is a direct indication (DAA dependent) of the receive level at the MDP,
<b>not</b> at the telephone line connector. For example, 009 = -9 dBm, 043 =
-43 dBm, and so on.<p>
Result Codes:<p>
OK
<a name="_Toc343068245"></a><a name="_Toc347715502"></a>
<p class="bodytext"><i>
<a name="RTFToC69">%Q
- Line Signal Quality</a>
</i></p>
Reports the line signal quality (DAA dependent). Returns the higher order byte
of the EQM value. Based on the EQM value, retrain or fallback/fall forward may
be initiated if enabled by %E1 or %E2.<p>
Example:<p>
<tt>AT%Q<br><br>015</tt><p>Result Codes:
<p>
OK	If connected.<p>
ERROR	If not connected, or connected in 300 bps, V.23, or fax modes.
<a name="_Toc343068248"></a><a name="_Toc347715503"></a>
<p class="bodytext"><b><i>
<a name="RTFToC70">3.2.4
AT\ Commands</a>
<a name="_Toc343068249"></a><a name="_Toc347715504"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC71">\Kn
- Break Control</a></a>
</a></i></p>
Controls the response of the modem to a break received from the DTE or the
remote modem or the \B command according to the parameter supplied. The
parameter value, if valid, is written to S40 bits 3, 4, and 5.<p>
The response is different in three separate states.<p>
The first state is where the modem receives a break from the DTE when the modem
is operating in data transfer mode:<p>
\K0	Enter on-line command mode, no break sent to the remote modem.<p>
\K1	Clear data buffers and send break to remote modem.<p>
\K2	Same as 0.<p>
\K3	Send break to remote modem immediately.<p>
\K4	Same as 0.<p>
\K5	Send break to remote modem in sequence with transmitted data. (Default.)<p>
The second case is where the modem is in the on-line command state (waiting for
AT commands) during a data connection, and the \B is received in order to send
a break to the remote modem:<p>
\K0	Clear data buffers and send break to remote modem.<p>
\K1	Clear data buffers and send break to remote modem. (Same as 0.)<p>
\K2	Send break to remote modem immediately.<p>
\K3	Send break to remote modem immediately. (Same as 2.)<p>
\K4	Send break to remote modem in sequence with data.<p>
\K5	Send break to remote modem in sequence with data. (Same as 4.) (Default.)<p>
The third case is where a break is received from a remote modem during a
non-error corrected connection:<p>
\K0	Clears data buffers and sends break to the DTE.<p>
\K1	Clears data buffers and sends break to the DTE. (Same as 0.)<p>
\K2	Send a break immediately to DTE.<p>
\K3	Send a break immediately to DTE. (Same as 2.)<p>
\K4	Send a break in sequence with received data to DTE.<p>
\K5	Send a break in sequence with received data to DTE. (Same as 4.)
(Default.)<p>
Result Codes:<p>
OK	n = 0 to 5.<p>
ERROR	Otherwise.
<a name="_Toc343068250"></a><a name="_Toc347715505"></a>
<p class="bodytext"><i>
<a name="RTFToC72">\Nn
- Operating Mode</a>
</i></p>
This command controls the preferred error correcting mode to be negotiated in a
subsequent data connection. This command is affected by the OEM firmware
configuration.<p>
\N0	Selects normal speed buffered mode (disables error-correction mode).
(Forces &amp;Q6.)<p>
\N1	Serial interface selected - Selects direct mode and is equivalent to
&amp;M0, &amp;Q0 mode of operation. (Forces &amp;Q0.)<p>
	Parallel interface selected - Same as \N0.<p>
\N2	Selects reliable (error-correction) mode. The modem will first attempt a
LAPM connection and then an MNP connection. Failure to make a reliable
connection results in the modem hanging up. (Forces &amp;Q5, S36=4, and
S48=7.)<p>
\N3	Selects auto reliable mode. This operates the same as \N2 except failure to
make a reliable connection results in the modem falling back to the speed
buffered normal mode. (Forces &amp;Q5, S36=7, and S48=7.)<p>
\N4	Selects LAPM error-correction mode. Failure to make an LAPM
error-correction connection results in the modem hanging up. (Forces &amp;Q5
and S48=0.) Note: The -K1 command can override the \N4 command.<p>
\N5	Selects MNP error-correction mode. Failure to make an MNP error-correction
connection results in the modem hanging up. (Forces &amp;Q5, S36=4, and
S48=128.)<p>
Result Codes:<p>
OK	n = 0 to 5.<p>
ERROR	Otherwise.
<a name="_Toc347715506"></a>
<p class="bodytext"><i>
<a name="RTFToC73">\Vn
- Single Line Connect Message Enable</a>
</i></p>
The single line connect message format can be enabled or disabled by the \Vn
command as follows:<p>
\V0	Connect messages are controlled by the command settings X, W, and S95.<p>
\V1	Connect messages are displayed in the single line format described below
subject to the command settings V (Verbose) and Q (Quiet). In Non-Verbose mode
(V0), single line connect messages are disabled and a single numeric result
code is generated for CONNECT DTE.<p>
When single line connect messages are enabled, there are no CARRIER, PROTOCOL,
or COMPRESSION messages apart from the fields described below. <p>
The single line connect message format is: <p>
CONNECT &lt;DTE
Speed&gt;&lt;/Modulation&gt;&lt;/Protocol&gt;&lt;/Compression&gt;&lt;/Line
Speed&gt;<p>
Where:<p>
&lt;DTE Speed =	DTE speed, e.g., 57600.<p>
Modulation =	"V32" for V.32 or V.32bis modulations.<br>"VFC" for V.FC(TM)
modulations.<br>"V34" for V.34 modulations.<p>
	Note: Modulation is omitted for all other modulations.<p>
Protocol =	"NONE" for no protocol.<br>"ALT" for Microcom Network
Protocol.<br>"LAPM" for LAP-M protocol.<p>
Compression =	"CLASS5" for Microcom MNP5 compression.<br>"V42BIS" for V.42bis
compression.<p>
	Note: Compression is omitted if protocol is NONE.<p>
Line Speed =	Asymmetric rates are displayed as /rate:TX/rate:RX, e.g., /1200
TX/75 RX.<br>Symmetric rates are displayed as a single DCE rate, e.g., 14400.
<a name="_Toc343068251"></a><a name="_Toc347715507"></a>
<p class="bodytext"><b><i>
<a name="RTFToC74">3.2.5
AT+ Commands</a>
<a name="_Toc343068252"></a><a name="_Toc347715508"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC75">+MS
- Select Modulation</a></a>
</a></i></p>
This extended-format command selects the modulation, optionally enables or
disables automode, and optionally specifies the lowest and highest connection
rates using one to four subparameters. The command format is:<p>
+MS= &lt;mod&gt;
[,[&lt;automode&gt;][,[&lt;min_rate&gt;][,[&lt;max_rate&gt;]]]]&lt;CR&gt;<p>
<b>Notes:</b><p>
1.	For 14400 bps and lower speeds, the Nn command and S37 register can
alternatively be used, in which case the +MS subparameters will modified to
reflect the Nn and S37=x settings. Use of the Nn and S37=x commands is not
recommended but is provided for compatibility with existing communication
software. (S37 is not updated by the +MS command.)<p>
2.	Subparameters not entered (enter a comma only or &lt;CR&gt; to skip the last
subparameter) remain at their current values.
<h5>
<a name="RTFToC76">Reporting
Selected Options
</a></h5>
The modem can send a string of information to the DTE consisting of selected
options using the following command:<p>
+MS?<p>
The response is:<p>
+MS: &lt;mod&gt;,&lt;automode&gt;,&lt;min_rate&gt;,&lt;max_rate&gt;<p>
For example,<p>
+MS: 11,1,300,28800	(shows default values) [RC288]<p>
+MS: 10,1,300,14400	(shows default values) [RC144]
<h5>
<a name="RTFToC77">Reporting
Supported Options
</a></h5>
The modem can send a string of information to the DTE consisting of supported
options using the following command:<p>
+MS=?<p>
The response is:<p>
+MS: (list of supported &lt;mod&gt; values), (list of supported
&lt;automode&gt; values) (list of supported &lt;min_rate&gt; values), <br>(list
of supported &lt;max_rate&gt; values)<p>
For example,<p>
+MS: (0, 1, 2, 3, 9, 10, 11, 64, 69, 74), (0,1) (300-28800), (300-28800)
[RC288]<p>
+MS: (0, 1, 2, 3, 9, 10, 64, 69), (0,1) (300-14400), (300-14400) [RC144]<p>

<h5>
<a name="RTFToC78">Subparameter
Definitions
</a></h5>
1.	&lt;mod&gt; = A decimal number which specifies the preferred modulation
(automode enabled) or the modulation (automode disabled) to use in originating
or answering a connection. The options are:

<pre>
   &lt;mod&gt;     Modulation    Possible Rates (bps) 1                     Notes          
          0  V.21          300                                                       
          1  V.22          1200                                                      
          2  V.22 bis      2400 or 1200                                              
          3  V.23          1200                                       See Note 2     
          9  V.32          9600 or 4800                                              
         10  V.32 bis      14400, 12000, 9600, 7200, or 4800          Default        
                                                                      [RC144]        
         11  V.34          28800, 26400, 24000, 21600, 19200,         Default        
                           16800, 14400, 12000, 9600, 7200, 4800,     [RC288]        
                           or 2400                                    [RC288 only]   
         64  Bell 103      300                                                       
         69  Bell 212      1200                                                      
         74  V.FC          28800, 26400, 24000, 21600, 19200,         [RC288 only]   
                           16800, or 14400                                           
Notes: 1. See optional &lt;automode&gt;, &lt;min_rate&gt;, and &lt;max_rate&gt; subparameters. 2.           
For V.23, originating modes transmit at 75 bps and receive at 1200 bps; answering         
modes transmit at 1200&nbsp;bps and receive at 75 bps. The rate is always specified as         
1200 bps.                                                                                 

</pre>

The modem may also automatically switch to another modulation (automode),
subject to the following constraints:<p>
a.	The modem may not be able to automatically switch from the current
modulation (specified by &lt;mod&gt;) to some other modulation. For example,
there is no standard way to automode from Bell 103 to V.23.<p>
b.	The DTE may disable automode operation (see &lt;automode&gt; below).<p>
c.	The DTE may constrain the range of modulations available by specifying the
lowest and highest rates (see &lt;min_rate&gt; and &lt;max_rate&gt; below).<p>
2.	&lt;automode&gt; is an optional numeric value which enables or disables
automatic modulation negotiation using V.8 or V.32 bis Annex A. The options are:

<pre>
 &lt;automode&gt;   Option Selected                                        Notes          
           0  Automode disabled                                                     
           1  Automode enabled using V.8 or V.32 Annex A             Default        

</pre>
<p>
The default value is 1, which enables automode. Note, however, there are
modulations for which there is no automatic negotiation, e.g., Bell 212
(&lt;mod&gt; = 69).<p>
<b>For &lt;automode&gt; = 0 (automode disabled, i.e., fixed modulation):</b><p>
a.	If &lt;max_rate&gt; is within the rates supported by the selected
modulation, the selected rate is that specified by &lt;max_rate&gt;. For
example:<p>
	+MS=10,0,1200,4800 selects V.32 bis 4800 bps fixed rate.<p>
b.	If &lt;max_rate&gt; is greater than the highest speed supported by the
modulation specified by &lt;mod&gt;, the starting rate is the highest rate
supported by the selected modulation. For example:<p>
	+MS=10,0,2400,14400 selects V.32 bis 14400, 12000, 9600, 7200, or 4800 bps.<p>
c.	To emulate issuance of the N0S37=x command sequence to select fixed mode
operation, specify the &lt;max_rate&gt; and &lt;min_rate&gt; both to be the
(same) requested speed, and &lt;mod&gt; to be the modulation for that speed.
For example:<p>
	+MS=11,0,16800,16800 selects V.34 16800 bps fixed mode (no comparable S37
command).<p>
	+MS=10,0,12000,12000 selects V.32 bis 12000 bps fixed mode (same as
N0S37=10).<p>
<b>For &lt;automode&gt; = 1 (automode enabled, i.e., automatically selected
speed and modulation): </b><p>
The modem connects at the highest possible rate in accordance with V.8,
or V.32 bis Annex A if V.8 is not supported by the remote modem. <p>
a.	If &lt;max_rate&gt; is greater than the highest rate supported by the
modulation specified by &lt;mod&gt;, the modem automodes down from the highest
rate of the selected modulation. For example:<p>
	+MS=10,1,1200,24000 selects automoding down from V.32 bis 14400 bps. <p>
b.	To emulate issuance of the N1S37=x sequence command, specify the modulation
and the rate to start automoding down from using &lt;mod&gt; and
&lt;max_rate&gt;, respectively. Set &lt;min_rate&gt; to 300 to allow automoding
all the way down to V.21 300 bps. For example:<p>
	+MS=11,1,300,16800 selects automode starting at V.34 16800 bps (no comparable
S37 command).<p>
	+MS=9,1,300,12000 selects automode starting at V.32 bis 12000 bps (same as
N1S37=10).<p>
3.	&lt;min_rate&gt; is an optional number which specifies the lowest rate at
which the modem may establish a connection. The value is decimal coded, in
units of bps, e.g., 2400 specifies the lowest rate to be 2400 bps. The default
is 300 for 300&nbsp;bps.<p>
4.	&lt;max_rate&gt; is an optional number which specifies the highest rate at
which the modem may establish a connection. The value is decimal coded, in
units of bps, e.g., 14400 specifies the highest rate to be 14400 bps. The
default is 28800 for 28800 bps.
<a name="_Toc343068253"></a><a name="_Toc347715509"></a>
<p class="bodytext"><i>
<a name="RTFToC79">+Hn
- Enable/Disable RPI and DTE Speed</a>
</i></p>
This command enables or disables Rockwell Protocol Interface (RPI) processing
and sets the DTE speed. (Applicable only to modems supporting RPI and RPI+).<p>
+H0	Disable RPI/RPI+.<p>
+H1	Enable RPI mode and set DTE speed to 19200 bps.<p>
+H2	Enable RPI mode and set DTE speed to 38400 bps.<p>
+H3	Enable RPI mode and set DTE speed to 57600 bps.<p>
+H11	Enable RPI+ mode (applicable only to modems supporting RPI). When in RPI+
mode, a link is established between the modem and the WinRPI or WinRPI95 host
PC software driver to allow the modem to support protocol
(V.42bis/LAP-M/MNP2-5) connections with a remote modem. This command should
only be used when the WinRPI or WinRPI95 driver software is installed in the
PC.<p>
Result Codes:<p>
OK	n = 0 to 3, 11.<p>
ERROR	Otherwise.
<a name="_Toc343068256"></a><a name="_Toc347715510"></a>
<p class="bodytext"><b><i>
<a name="RTFToC80">3.2.6
AT- Commands</a>
<a name="_Toc343068257"></a><a name="_Toc347715511"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC81">-SDR=n
-  Enable/Disable Distinctive Ring</a></a>
</a></i></p>
This command enables or disables detection and reporting of distinctive ring.
The syntax is AT-SDR=n, where n is a number from 0 to 7. One, two, or three
distinctive ring types can be simultaneously enabled depending upon the value
of n (bit mapped). The detected ring type is reported in the long form
(verbose) of the result code by appending the ring type number to the end of
the RING message.<p>
-SDR=0	Disables Distinctive Ring. Any valid ring detected is reported as RING
(default). <p>
-SDR=1	Enables Distinctive Ring Type 1.<p>
-SDR=2	Enables Distinctive Ring Type 2.<p>
-SDR=3	Enables Distinctive Ring Type 1 and 2.<p>
-SDR=4	Enables Distinctive Ring Type 3.<p>
-SDR=5	Enables Distinctive Ring Type 1 and 3.<p>
-SDR=6	Enables Distinctive Ring Type 2 and 3.<p>
-SDR=7	Enables Distinctive Ring Type 1, 2, and 3.<p>
Result Codes:<p>
OK	n = 0 to 7.<p>
ERROR	Otherwise.<p>
The n value bit map is:<p>
Bit 0=1	Enable RING type 1. RING type 1 is detected and reported as RING1.<p>
Bit 1=1	Enable RING type 2. RING type 2 is detected and reported as RING2.<p>
Bit 2=1	Enable RING type 3. RING type 3 is detected and reported as RING3.<p>
<p>
The ring types supported and the corresponding ring cadence detect criteria are:

<pre>
Distinctive   Ring Cadence Detect Criteria                                       
 Ring Type                                                                       
     1        2.0 sec ON, 4.0 sec OFF.                                           
     2        0.8 sec ON, 0.4 sec OFF, 0.8 sec ON, 4.0 sec OFF.                  
     3        0.4 sec ON, 0.2 sec OFF, 0.4 sec ON, 0.2 sec OFF, 0.8 sec ON,      
              4.0 sec OFF.                                                       

</pre>
<p>
<b>Notes:</b><p>
1.	The Ring Indicate (RI) output does not toggle on the first ring if
AT-SDR!=0. <p>
2.	The RI output waveform is the same for all ring types detected, i.e., RI is
on for the total duration of the ring period.
<a name="_Toc343068258"></a><a name="_Toc347715512"></a>
<p class="bodytext"><i>
<a name="RTFToC82">-SSE=n
- Enable/Disable DSVD</a>
</i></p>
This command enables or disables DSVD (digital simultaneous voice and data) in
modem models supporting DSVD. The syntax is AT-SSE=n, where n is a number from
0 to 1. <p>
-SSE=0	Disables DSVD (default). <p>
-SSE=1	Enables DSVD.<p>
Result Codes:<p>
OK	n = 0 and 1.<p>
ERROR	Otherwise.<p>
<a name="_Toc343068259"></a><a name="_Toc347715513"></a>
<p class="bodytext"><b>
<a name="RTFToC83">3.3
ERROR DETECTION AND DATA COMPRESSION COMMANDS</a>
<a name="_Toc343068260"></a><a name="_Toc347715514"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC84">3.3.1
AT% Commands</a></a>
</a><a name="_Toc343068261"></a><a name="_Toc347715515"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC85">%C
- Enable/Disable Data Compression</a></a>
</a></i></p>
Enables or disables data compression negotiation. The modem can only perform
data compression on an error corrected link. The parameter value, if valid, is
written to S41 bits 0 and 1.<p>
%C0	Disables data compression. Resets S46 bit 1.<p>
%C1	Enables MNP 5 data compression negotiation. Resets S46 bit 1.<p>
%C2	Enables V.42 bis data compression. Sets S46 bit 1.<p>
%C3	Enables both V.42 bis and MNP 5 data compression. Sets S46 bit 1.
(Default.)<p>
Result Codes:<p>
OK	n = 0, 1, 2, or 3.<p>
ERROR	Otherwise.
<a name="_Toc343068262"></a><a name="_Toc347715516"></a>
<p class="bodytext"><b><i>
<a name="RTFToC86">3.3.2
AT\ Commands</a>
<a name="_Toc343068263"></a><a name="_Toc347715517"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC87">\An
- Select Maximum MNP Block Size</a></a>
</a></i></p>
The modem will operate an MNP error corrected link using a maximum block size
controlled by the parameter supplied. The parameter value, if valid, is written
to S40 bits 6 and 7.<p>
\A0	64 characters.<p>
\A1	128 characters. (Default.)<p>
\A2	192 characters.<p>
\A3	256 characters.<p>
Result Codes:<p>
OK	n = 0 to 3.<p>
ERROR	Otherwise.
<a name="_Toc343068264"></a><a name="_Toc347715518"></a>
<p class="bodytext"><i>
<a name="RTFToC88">\Bn
- Transmit Break to Remote</a>
</i></p>
In non-error correction mode, the modem will transmit a break signal to the
remote modem with a length in multiples of 100 ms according to parameter
specified. If a number in excess of 9 is entered, 9 is used. The command works
in conjunction with the \K command.<p>
In error correction mode, the modem will signal a break through the active
error correction protocol, giving no indication of the length.<p>
\B1-\B9	Break length in 100 ms units. (Default = 3.) (Non-error corrected mode
only.)<p>
Result Codes:<p>
OK	If connected in data modem mode.<p>
NO CARRIER	If not connected or connected in fax modem mode.<p>
<b>Note: </b>When the modem receives a break from the remote modem, break is
passed to the DTE as follows: In non-error correction mode direct, the break
length is passed; in non-error correction mode normal and in error correction
mode, a 300 ms break is passed.
<a name="_Toc343068265"></a><a name="_Toc347715519"></a>
<p class="bodytext"><b>
<a name="RTFToC89">3.4
MNP 10 COMMANDS</a>
<a name="_Toc343068266"></a><a name="_Toc347715520"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC90">3.4.1
AT) Commands</a></a>
</a><a name="_Toc343068267"></a><a name="_Toc347715521"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC91">)Mn
- Enable Cellular Power Level Adjustment</a></a>
</a></i></p>
This command is included only for compatibility and performs no function.<p>
)M0	)M0 command.<p>
)M1	)M1 command.<p>
)M2	)M2 command.<p>
Result Codes:<p>
OK	n = 0 to 2.<p>
ERROR	Otherwise.
<a name="_Toc343068268"></a><a name="_Toc347715522"></a>
<p class="bodytext"><i>
<a name="RTFToC92">*Hn
- Link Negotiation Speed</a>
</i></p>
This command is included only for compatibility and performs no function.<p>
*H0	*H0 command.<p>
*H1	*H1 command.<p>
*H2	*H2 command.<p>
Result Codes:<p>
OK	n = 0 to 2.<p>
ERROR	Otherwise.
<a name="_Toc343068269"></a><a name="_Toc347715523"></a>
<p class="bodytext"><i>
<a name="RTFToC93">-Kn
- MNP Extended Services</a>
</i></p>
Enables or disables conversion of a V.42 LAPM connection to an MNP 10
connection. The parameter value, if valid, is written to S40 bits 0 and 1.<p>
-K0	Disables V.42 LAPM to MNP 10 conversion. (Default.)<p>
-K1	Enables V.42 LAPM to MNP 10 conversion.<p>
-K2	Enables V.42 LAPM to MNP 10 conversion; inhibits MNP Extended Services
initiation during V.42 LAPM answer mode detection phase.<p>
Result Codes:<p>
OK	n = 0 or 2.<p>
ERROR	Otherwise.
<a name="_Toc343068270"></a><a name="_Toc347715524"></a>
<p class="bodytext"><i>
<a name="RTFToC94">-Qn
- Enable Fallback to V.22 bis/V.22</a>
</i></p>
This command is included only for compatibility and performs no function.<p>
-Q0	-Q0 command.<p>
-Q1	-Q1 command.<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068271"></a><a name="_Toc347715525"></a>
<p class="bodytext"><i>
<a name="RTFToC95">-SEC=n
- Enable/Disable MNP10-EC</a>
</i></p>
Enables or disables MNP10-EC operation. The command format is: <p>
	-SEC=n,[&lt;tx level&gt;]	where &lt;tx level&gt; is the optional transmit
level sub parameter.<p>
-SEC=0	Disable MNP10-EC; the transmit level is that defined in S91.<p>
-SEC=1,[&lt;tx level&gt;]	Enable MNP10-EC; the transmit level will be defined
by the sub parameter &lt;tx level&gt; range 0 to 30 (0 dBm to -30 dBm), the
default &lt;tx level&gt; (&lt;tx level&gt; not specified) is the S91 value.<p>
Result Codes:<p>
OK	n=0, 1, or 1 and &lt;tx level&gt;=0 to 30<p>
ERROR	Otherwise<p>
Example: AT-SEC=1,18 enables MNP10-EC and sets the transmit level to -18 dBm.<p>
<b>Note: </b>If AT-SEC=0, the modem will automatically set AT-SEC=1 if the
remote modem indicates Cellular in the V.8 phase or if a Cellular Driver is
loaded and the Cell Phone is attached.<p>
<b><i>Inquiries</i></b><p>
AT-SEC?	Retrieves the current -SEC command settings, e.g.,
1,18.<a name="_Toc343068272"></a><a name="_Toc347715526"></a>
<b><i></i></b>
<p class="bodytext"><i>
<a name="RTFToC96">@Mn
- Initial Cellular Power Level Setting</a>
</i></p>
This command is included only for compatibility and performs no function.<p>
@M0	@M0 command.<p>
.<p>
.<p>
.<p>
@M30	@M30 command.<p>
Result Codes:<p>
OK	n = 0 to 30.<p>
ERROR	Otherwise.
<a name="_Toc343068273"></a><a name="_Toc347715527"></a>
<p class="bodytext"><i>
<a name="RTFToC97">:E
- Compromise Equalizer Enable Command</a>
</i></p>
This command is included only for compatibility and performs no function.<p>
:E0	:E0 command.<p>
:E1	:E1 command.<p>
<p>
Result Codes:<p>
OK	n = 0 or 1.<p>
ERROR	Otherwise.
<a name="_Toc343068274"></a><a name="_Toc347715528"></a>
<p class="bodytext"><b>
<a name="RTFToC98">3.5
W-CLASS COMMANDS</a>
<a name="_Toc343068275"></a><a name="_Toc347715529"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC99">3.5.1
AT* Commands</a></a>
</a><a name="_Toc343068276"></a><a name="_Toc347715530"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC100">*B
- Display Blacklisted Numbers</a></a>
</a></i></p>
This command requests the modem to return a list of blacklisted numbers to the
DTE. The format of the response is shown by the example below. Permanently
forbidden numbers as defined by country requirements will not appear on this
list. If no numbers are blacklisted, only the OK result code is issued.<p>
Example:<p>
<tt>	NO. - PHONE NUMBER -</tt><p>
<tt>	------ ------------------------------</tt><p>
<tt>	1;	4175537660<br>	2;	8288924961<br>	3;	3887278862<br>	4;	3124839442<br>	5;
6284664</tt>
<p>
<p>
<tt>	OK
</tt><a name="_Toc343068277"></a><a name="_Toc347715531"></a><tt></tt>
<p class="bodytext"><i>
<a name="RTFToC101">*D
- Display Delayed Numbers</a>
</i></p>
This command causes the modem to send a list of the delayed numbers together
with the delay associated with each. The modem will return a list of delayed
telephone numbers as defined in the *B command. The format of the response is
shown by the example below (delay times are shown as hours:minutes:seconds). If
no numbers are delayed, only the OK result code is issued.<p>
Example:<p>
<tt>	NO. - PHONE NUMBER -DELAY</tt><p>
<tt>	------ -------------------------------------------</tt><p>
<tt>	1;	8264734660	2:00:00<br>	2;	7532634661	2:00:00<br>	3;	2587334662
0:02:00<br>	4;	7532651663	0:03:25<br>	5;	7459931664	0:01:45</tt>
<p>
<p>
<tt>	OK
</tt><a name="_Toc343068279"></a><a name="_Toc347715532"></a><tt></tt>
<p class="bodytext"><b>
<a name="RTFToC102">3.6
CALLER ID COMMANDS</a>
<a name="_Toc343068280"></a><a name="_Toc347715533"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC103">3.6.1
AT#CID Command</a></a>
</a><a name="_Toc343068281"></a><a name="_Toc347715534"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC104">#CIDn
- Caller ID</a></a>
</a></i></p>
Enables or disables Caller ID.<p>
#CID=0	Disables Caller ID. (Default.)<p>
#CID=1	Enables Caller ID with formatted presentation to the DTE. The modem will
present the data items in a &lt;Tag&gt;&lt;Value&gt; pair format. The expected
pairs are data, time, caller code (telephone number), and name.<p>
#CID=2	Enables Caller ID with unformatted presentation to the DTE. The modem
will present the entire packet of information, excluding the leading U's, in
ASCII printable hex numbers.<p>
Result Codes:<p>
OK	n = 0 or 2.<p>
ERROR	Otherwise.
<a name="_Toc343068282"></a><a name="_Toc347715535"></a>
<p class="bodytext"><i>
<a name="RTFToC105">Inquiries</a></i></p>
#CID?	Retrieves the current Caller ID mode from the modem.<p>
#CID=?	Returns the mode capabilities of the modem in a list with each element
separated by commas.
<a name="_Toc343068283"></a><a name="_Toc347715536"></a>
<p class="bodytext"><i>
<a name="RTFToC106">Formatted
Form Reporting</a>
</i></p>
The modem presents the data in the &lt;tag&gt; = &lt;value&gt; pair format as
described in the table below. Spaces are present on both sides of the equal
sign.<p>
<b>	Tag	Description</b><p>
DATE	DATE = MMDD where MM is the month number (01 to 12) and DD is the
day number (01..31).<p>
TIME	TIME = HHMM where HH is the hour number (00 to 23) and MM is the minute
number (00 to 59).<p>
NMBR	NMBR = &lt;number&gt; or P or O where &lt;number&gt; is the telephone
number of the caller, where P indicates that the calling number information is
not available since the originating caller has requested private service, and
where O indicates that the calling number information is not available or out
of service at the calling location.<p>
NAME	NAME = &lt;listing name&gt; where &lt;listing name&gt; is the subscription
name.<p>
MESG	MESG = &lt;data tag&gt; &lt;length of message&gt; &lt;data&gt;
&lt;checksum&gt; in printable ASCII hex numbers. This tag indicates a data item
not listed above. The message is only possible for Multiple Message Format.<p>
<b>Notes:</b><p>
1.	The modem does not present any Caller ID information if the DCE detects a
checksum error in the Caller ID packet.<p>
2.	In the event of an unrecognized data tag, the modem will present the data in
ASCII hex numbers following the MESG tag.
<a name="_Toc343068284"></a><a name="_Toc347715537"></a>
<p class="bodytext"><i>
<a name="RTFToC107">Example
of Formatted Form Reporting</a>
</i></p>
1.	The following example illustrates the standard Caller ID message packet.<p>
<tt>RING</tt><p>
<tt>DATE	=	0321<br>TIME	=	1405<br>NMBR	=	5045551234<br>NAME	=	A N OTHER</tt><p>
<tt>RING</tt><p>
<tt>RING</tt><p>2.	The following example illustrates the case where the tag of the
packet is not recognized by the modem.
<p>
<tt>RING</tt><p>
<tt>MESG	=	060342424231</tt><p>
<tt>RING</tt><p>
<tt>RING</tt>
<a name="_Toc343068285"></a><a name="_Toc347715538"></a>
<p class="bodytext"><i>
<a name="RTFToC108">Unformatted
Form Reporting</a>
</i></p>
The modem presents all information and packet control information found in the
message. The modem, however, excludes the leading U's (channel seizure
information) from the presentation. The packet is presented in ASCII printable
hex numbers, the modem does not insert spaces, or line feeds, for formatting
between bytes or words of the packet.<p>
The modem does not detect the checksum of the packet.
<a name="_Toc343068286"></a><a name="_Toc347715539"></a>
<p class="bodytext"><i>
<a name="RTFToC109">Example
of Unformatted Form Reporting</a>
</i></p>
<tt>RING</tt><p>
<tt>0412303332323234303539313435353132333435</tt><p>
<tt>RING</tt><p>
<tt>RING
</tt><a name="_Toc343068287"></a><a name="_Toc347715540"></a><tt></tt>
<p class="bodytext"><b>
<a name="RTFToC110">3.7
CELLULAR COMMANDS</a>
</b></p>
The Direct Connect Modem allows a direct interface to most cellular telephones
eliminating the need for other intelligent interfaces. <p>
Landline modems operate with the telephone system by either going off hook
detecting dialtone and the dialing the telephone number using pulses or DTMF
digits, or detecting the RING signal and answering the call. Intelligent
cellular phone interfaces connect between the modems RJ-11 socket and the
cellular phone's data interface. The interface provides landline features to
the modem (line current, dial tone, ringing, etc.), and translates the modem's
signals (off hook, DTMF digits, etc.) into signals that the cellular phone
understands. Once connected the interface acts as a transparent link between
the modem and the cellular telephone.<p>
The Direct Connect Modem interfaces directly to the cellular phone's data
interface and provides direct control over the cellular phones operation. For
example if the user were to instruct the modem to dial using the ATDTnnnn
command the modem would relay the telephone number and the SEND command to the
cellular phone over the data interface.<p>
The modem connects to the cellular phone using a special cable which must be
purchased separately. A different cable is required for each cellular phone or
make of cellular phones. Below is a block diagram of a typical Direct Connect
Cellular Modem (based on AK14-X270 Rev 4 reference schematic).
<a name="_Toc343068288"></a><a name="_Toc347715541"></a>
<p class="bodytext"><b><i>
<a name="RTFToC111">3.7.1
Cellular Phone Drivers</a>
</i></b></p>
The data interface to cellular phones differs between manufacturers and models
and requires a unique cellular phone driver for each phone or group of phones.
Therefore the particular phone driver needs to be downloaded from the PC into
the modem's RAM before the modem can be used directly with the cellular phone.
If a driver is not loaded the modem will operate as a normal landline modem.
<a name="_Toc343068289"></a><a name="_Toc347715542"></a>
<p class="bodytext"><b><i>
<a name="RTFToC112">3.7.2
Cellular Commands</a>
<a name="_Toc343068290"></a><a name="_Toc347715543"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC113">^C2
- Download Cellular Phone Driver</a></a>
</a></i></p>
The ^C2 command initiates the cellular phone driver download function. Upon
receipt of the command, the modem issues the "OK" message. The user then
performs an ASCII download of the driver (in .S37 format) from the host to the
modem, typically using a communications software package (with transmit pacing
turned off). <p>
^C2	Download Cellular Phone command<p>
Result Codes:<p>
OK<p>
[Download Process]<p>
OK	Cellular phone driver download completed successfully<p>
ERROR	Cellular phone driver download not completed successfully, e.g., checksum
of record (in S37 file) is not correct, driver size is larger than 2k bytes, or
an invalid driver is downloaded, or modem is connected.
<a name="_Toc343068291"></a><a name="_Toc347715544"></a>
<p class="bodytext"><i>
<a name="RTFToC114">^I
- Identify Cellular Phone Driver</a>
</i></p>
The modem reports the identification of the loaded cellular phone driver in
response to the ^I command. The response is dependent upon the driver. <p>
Result Codes (Typical):<p>
CELLULAR DRIVER: OKI 900/910<p>
(c) Copyright 1994, Spectrum Cellular, Inc.<p>
Version 0.07 Thu Jan 10:29:52 1994<p>
OK<p>
or<p>
ERROR	Cellular phone driver is not loaded
<a name="_Toc343068292"></a><a name="_Toc347715545"></a>
<p class="bodytext"><i>
<a name="RTFToC115">^T6
- Indicate Status of Cellular Phone</a>
</i></p>
The status of the cellular phone connected to the modem is reported in response
to the ^T6 command. The status is reported in a single byte formatted as a
decimal number. The individual status signals assigned to the status byte bits
are:<p>
	bit 0	1 =	Cellular phone is receiving an incoming call<p>
	bit 1	1 =	Cellular phone is in use<p>
	bit 2	1 =	Cellular phone is locked (cannot be used)<p>
	bit 3	1 =	There is no service for cellular phone (does not indicate signal
strength)<p>
	bit 4	1 =	Cellular phone is powered on<p>
	bit 5	1 =	Cellular driver is initialized<p>
	bit 6	0 =	Reserved (0)<p>
	bit 7	1 =	Cellular cable detected<p>
Result Codes (typical):<p>
128	(Cellular cable detected)<p>
OK
<h5>
<a name="RTFToC116">Application
of ^T6 Status Byte
</a></h5>
The information obtained by issuing a AT^T6 can be used to determine if the
loading of the cellular phone driver is necessary by the host software. A
download is not necessary if landline (or no cable) is connected to the modem,
in which ^T6 will return a value of 0 (bit 7=0). A download is necessary when a
cellular cable is detected (implied cellular phone is also connected), in which
^T6 will return a value of 128 (bit 7=1). Once a driver is downloaded to the
modem, it will be able to operate in landline or cellular mode based on
detection of a cellular cable.
<a name="_Toc343068293"></a><a name="_Toc347715546"></a>
<p class="bodytext"><b><i>
<a name="RTFToC117">3.7.3
Operation</a>
</i></b></p>
Once the driver is loaded and the modem is connected to the cellular phone, and
the phone is powered on dial/answer functions will be routed through the phone
instead of the landline DAA, i.e., no special commands are needed to place or
answer calls, the same AT commands and software packages that are used for
landline communication sessions can be used. If the cellular phone is not
connected or is powered off dial/answer functions will be routed through the
landline DAA, and if V.42 bis connection is established the cellular phone
driver will be purged so that the V.42 bis dictionaries can be increased to
their normal size.<p>
While the modem is being used with a cellular phone it will respond with normal
result messages with the following differences in meaning:<p>
NO DIALTONE	Indicates that cellular service is not currently available.<p>
RING	Indicates that the cellular phone is receiving an incoming call.
<a name="_Toc343068294"></a><a name="_Toc347715547"></a>
<p class="bodytext"><i>
<a name="RTFToC118">Modem
Configuration</a>
</i></p>
Modem performance will be improved by modification of your standard
configuration; it is recommended that the landline modem also be EC compatible
for reliable communications.<p>
Cell Site	AT&amp;F<p>
Base Site	AT&amp;F -SEC=1,18<p>
MNP10-EC is automatically enabled on the cell side when a cellular phone driver
is loaded and the modem firmware detects that the cellular phone is attached,
also in the V.34 products the modem is automatically configured to force the
connection in V.32bis mode.<p>
On the cell side the transmit level is defined in the cellular driver,
therefore it is not necessary to set the level using the AT-SEC command.<p>
In the V.34 products on the landline side if MNP10-EC is disabled (AT-SEC=0),
it will automatically be enabled if another V.34 modem is calling (V.8 signal
indicates cellular capability). No particular modulation will be chosen on the
land line side. Therefore if a landside V.34 modem is NOT going to receive any
calls from a V.32bis MNP10-EC modem it can be configured using AT&amp;F
-SEC=0,18 , otherwise use the configuration above.<p>
In V.34 modems if MNP10-EC is enabled manually (using AT-SEC=1) no particular
modulation will be chosen, therefore if the user wishes to force V.32bis
modulation they should use the AT+MS=10,1,minspeed,maxspeed command (e.g.
AT+MS=10,1,4800,12000 would force V.32bis and limit the speed between 4800 and
12000 bps). To allow V.34 modulation use AT+MS=11,1,minspeed,maxspeed (e.g.
AT+MS=11,1,4800,19200 would allow V.34 speeds between 4800 and 19200).<p>
When MNP10-EC is enabled in V.34 modes the symbol rate is limited to 3000,
therefore the maximum speed would be 26.4K however the initial connect speed is
limited to 21600.<p>
If an AXCELL(TM) solution is used, a transmit level of -10dBm is required,
therefore the following init string should be used:<p>
Cell Site	AT &amp;F -SEC=1,10<p>
It is recommended that systems be set up if possible with separate modems to
receive calls from other land based modems and cellular modems. This is so that
land based users that experience high network attenuation do not have
connection problems when communicating to modems configured for cellular
operation.<p>
The above configurations are the minimum additional AT commands may be issued
to change the result messages etc, AT&amp;F is used to ensure that the modem is
in a know state.<p>
Table 3-2 summarizes the mode and resulting transmit levels for both modems
depending on their configuration.
<a name="_Toc347715548"></a>
<p class="bodytext"><i>
<a name="RTFToC119">Fax
Configuration</a>
</i></p>
It is recommended that fax transmissions be configured to operate at  9600 bps
in V.17 mode or 7200 bps in V.29 mode.
<a name="_Toc347715549"></a>
<p class="bodytext"><i>
<a name="RTFToC120">Cellular
Phone Configuration</a>
</i></p>
To achieve the best operational performance, a cellular data connection should
be attempted in a location where adequate signal strength is observed for the
cellular phone. This condition can be easily monitored on some phones with
signal strength indicator. In locations where even voice calls are unreliable,
data connections should not be attempted.  Under some circumstances a special
high gain antenna may improve performance.<p>
Additional information regarding the use of the cellular phone and cellular
network should be obtained from the service provider and or cellular phone
manufacturer.
<a name="_Ref345229775"></a><p>
<a name="_Ref345310964"></a><a name="_Toc347715838"></a><p>
<b>Table 3-2. Remote Modem Configuration and Resulting Transmit
Levels</b>

<pre>
     Remote Modem        Base Site Configuration<br>(Connected to PSTN)                        
     Configuration                                                                          
                         AT&amp;F-SEC=0,x                      AT&amp;F-SEC=1,x                      
                         V.34             V.32bis          V.34             V.32bis          
V.34<br>Dir  AT&amp;F           Mod =               Mod =               Mod =               Mod =               
ect<br>Conn                 V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   
ect                      -EC<br>RTxlv =      Single              -EC<br>RTxlv =      -EC<br>RTxlv =      
                         Driver<br>BTxlv =   -EC<br>RTxlv =      Driver<br>BTxlv =   Driver<br>BTxlv =   
                         x                Driver<br>BTxlv =   x                x                
                                          -10                                                
          AT&amp;F-SEC=1,x   Mod =               Mod =               Mod =               Mod =               
                         V.34<br>Mode =      V.32bis<br>Mode =   V.34<br>Mode =      V.32bis<br>Mode =   
                         -EC<br>RTxlv =         Single              -EC<br>RTxlv =         -EC<br>RTxlv =         
                         x<br>BTxlv = x      -EC<br>RTxlv =         x<br>BTxlv = x      x<br>BTxlv = x      
                                          x<br>BTxlv = -10                                      
V.32bis<br>  AT&amp;F           Mod =               Mod =               Mod =               Mod =               
Direct<br>C                 V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   
onnect                   Single              Single              -EC<br>RTxlv =      -EC<br>RTxlv =      
                         -EC<br>RTxlv =      -EC<br>RTxlv =      Driver<br>BTxlv =   Driver<br>BTxlv =   
                         Driver<br>BTxlv =   Driver<br>BTxlv =   x                x                
                         -10              -10                                                
          AT&amp;F-SEC=1,x   Mod =               Mod =               Mod =               Mod =               
                         V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   
                         Single              Single              -EC<br>RTxlv =         -EC<br>RTxlv =         
                         -EC<br>RTxlv =         -EC<br>RTxlv =         x<br>BTxlv = x      x<br>BTxlv = x      
                         x<br>BTxlv = -10    x<br>BTxlv = -10                                      
V.34<br>PST  AT&amp;F           Mod =               Mod =               Mod =               Mod =               
N                        V.34<br>Mode =      V.32bis<br>Mode =   V.34<br>Mode =      V.32bis<br>Mode =   
                         non -EC<br>RTxlv    non -EC<br>RTxlv    Single              Single              
                         = -10<br>BTxlv =    = -10<br>BTxlv =    -EC<br>RTxlv =      -EC<br>RTxlv =      
                         -10              -10              -10<br>BTxlv = x    -10<br>BTxlv = x    
V.32bis<br>  AT&amp;F           Mod =               Mod =               Mod =               Mod =               
PSTN                     V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   V.32bis<br>Mode =   
                         non -EC<br>RTxlv    non -EC<br>RTxlv    Single              Single              
                         = -10<br>BTxlv =    = -10<br>BTxlv =    -EC<br>RTxlv =      -EC<br>RTxlv =      
                         -10              -10              -10<br>BTxlv = x    -10<br>BTxlv = x    
Key: Mod = Modulation negotiated (V.32bis or V.34) Mode = -EC = Both ends in MNP10-EC      
mode  Single -EC = one end in MNP10-EC mode  non -EC = neither end in MNP10-EC mode        
RTxlv = Transmit level of Remote side modem in dBm BTxlv = Transmit level of Base side     
modem in dBm x = User defined transmit level Driver = Transmit level defined in cellular   
phone driver.                                                                              

</pre>
<a name="_Toc343068296"></a><a name="_Toc347715550"></a>
<p class="bodytext"><b>
<a name="RTFToC121">3.8
AT COMMAND RESULT CODES</a>
</b></p>
The modem responds to commands from the DTE and to activity on the line by
signalling to the DTE in the form of result codes. The result codes that the
modem can send are described below.<p>
Two forms of each result code are available: long-form, an English-like
"verbose" response, and short-form, a data-like numeric response (included in
parentheses following the long-form). The long-form code is preceded and
terminated by the sequence &lt; CR&gt; &lt; LF&gt;. The short-form is
terminated by &lt; CR&gt;, only with no preceding sequence.<p>
If result messages are suppressed, nothing is returned to the DTE. The
long-form results codes can be modified by the OEM through the ConfigurACE
Configuration Utility Program. (See ConfigurACE description.)
<a name="_Toc343068297"></a><a name="_Toc347715551"></a>
<p class="bodytext"><i>
<a name="RTFToC122">OK</a>
(0)
</i></p>
The OK code is returned by the modem to acknowledge execution of a command line.
<a name="_Toc343068298"></a><a name="_Toc347715552"></a>
<p class="bodytext"><i>
<a name="RTFToC123">CONNECT</a>
(1)
</i></p>
The modem will send this result code upon connecting when:<p>
1.	The line speed is 300 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 300 bps and the modem has been instructed to report the DTE
speed to the DTE upon connecting, or<p>
3.	The range of result code responses is restricted by the X command such that
no speed reporting is allowed.
<a name="_Toc343068299"></a><a name="_Toc347715553"></a>
<p class="bodytext"><i>
<a name="RTFToC124">RING</a>
(2)
</i></p>
The modem sends this result code when incoming ringing is detected on the line.
What qualifies as a ring signal is determined by country-dependent parameters,
modifiable through ConfigurACE.<p>
When cellular interface is selected, RING indicates that the cellular phone is
receiving an incoming call.
<a name="_Toc343068300"></a><a name="_Toc347715554"></a>
<p class="bodytext"><i>
<a name="RTFToC125">NO
CARRIER</a> (3)
</i></p>
The modem sends this result code when attempting to establish a call if:<p>
1.	Ringback is detected and later ceases but no carrier is detected within the
period of time determined by register S7, or<p>
2.	No ringback is detected within the period of time determined by register
S7.<p>
This result code is also used when the modem auto-disconnects due to loss of
carrier.<p>
Under X0, if busy tone detection is enforced, this result code is used as a
response to the detection of busy or circuit busy. Under X0, if dial tone
detection is enforced or selected, this result code is used to indicate that
dial tone has not been detected.
<a name="_Toc343068301"></a><a name="_Toc347715555"></a>
<p class="bodytext"><i>
<a name="RTFToC126">ERROR</a>
(4)
</i></p>
The modem returns this result code if the command line contains a syntax error
or it is unable to execute a command contained in the command line. It is
issued if a command does not exist or if the parameter supplied is outside the
permitted range.<p>
Under X0, X1, X2, and X3, this result is used instead of DELAYED and BLACKLISTED.
<a name="_Toc343068302"></a><a name="_Toc347715556"></a>
<p class="bodytext"><i>
<a name="RTFToC127">CONNECT
1200</a> (5)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 1200 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 1200 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.<p>
(Also, see the W command.)
<a name="_Toc343068303"></a><a name="_Toc347715557"></a>
<p class="bodytext"><i>
<a name="RTFToC128">NO
DIALTONE</a> (6)
</i></p>
For X2 and X4, the modem sends this result code if it has been instructed to
wait for dial tone during dialing but none is received.<p>
When cellular phone interface is selected, NO DIALTONE indicates that cellular
service is not currently available.
<a name="_Toc343068304"></a><a name="_Toc347715558"></a>
<p class="bodytext"><i>
<a name="RTFToC129">BUSY</a>
(7)
</i></p>
For X3 and X4, if busy tone detection is enforced, the modem sends this result
code when attempting to originate a call if the busy (engaged) signal is
detected on the line.
<a name="_Toc343068305"></a><a name="_Toc347715559"></a>
<p class="bodytext"><i>
<a name="RTFToC130">NO
ANSWER</a> (8)
</i></p>
The modem sends this result code when attempting to originate a call if a
continuous ringback signal is detected on the line until the expiration of the
timer S7.
<a name="_Toc343068306"></a><a name="_Toc347715560"></a>
<p class="bodytext"><i>
<a name="RTFToC131">CONNECT
0600</a> (9)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 600 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 600 bps and the modem has been instructed to report the DTE
speed to the DTE upon connecting.
<a name="_Toc343068307"></a><a name="_Toc347715561"></a>
<p class="bodytext"><i>
<a name="RTFToC132">CONNECT
2400</a> (10)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 2400 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 2400 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068308"></a><a name="_Toc347715562"></a>
<p class="bodytext"><i>
<a name="RTFToC133">CONNECT
4800</a> (11)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 4800 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 4800 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068309"></a><a name="_Toc347715563"></a>
<p class="bodytext"><i>
<a name="RTFToC134">CONNECT
9600</a> (12)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 9600 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 9600 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068310"></a><a name="_Toc347715564"></a>
<p class="bodytext"><i>
<a name="RTFToC135">CONNECT
7200</a> (13)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 7200 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 7200 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068311"></a><a name="_Toc347715565"></a>
<p class="bodytext"><i>
<a name="RTFToC136">CONNECT
12000</a> (14)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 12000 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 12000 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068312"></a><a name="_Toc347715566"></a>
<p class="bodytext"><i>
<a name="RTFToC137">CONNECT
14400</a> (15)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 14400 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 14400 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068313"></a><a name="_Toc347715567"></a>
<p class="bodytext"><i>
<a name="RTFToC138">CONNECT
19200</a> (16)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code when:<p>
1.	The line speed is 19200 bps and the modem has been instructed to report the
line speed to the DTE upon connecting, or<p>
2.	The DTE speed is 19200 bps and the modem has been instructed to report the
DTE speed to the DTE upon connecting.
<a name="_Toc343068314"></a><a name="_Toc347715568"></a>
<p class="bodytext"><i>
<a name="RTFToC139">CONNECT
38400</a> (17)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code upon connecting when
the DTE speed is 38400 bps and the modem has been instructed to report the DTE
speed to the DTE upon connecting.
<a name="_Toc343068315"></a><a name="_Toc347715569"></a>
<p class="bodytext"><i>
<a name="RTFToC140">CONNECT
57600</a> (18)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code upon connecting when
the DTE speed is 57600 bps and the modem has been instructed to report the DTE
speed to the DTE upon connecting.
<a name="_Toc343068316"></a><a name="_Toc347715570"></a>
<p class="bodytext"><i>
<a name="RTFToC141">CONNECT
115200</a> (19)
</i></p>
For X1, X2, X3, and X4, the modem sends this result code upon connecting when
the DTE speed is 115200 bps and the modem has been instructed to report the DTE
speed to the DTE upon connecting.
<a name="_Toc343068317"></a><a name="_Toc347715571"></a>
<p class="bodytext"><i>
<a name="RTFToC142">CONNECT
75TX/1200RX</a> (22)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon establishing a
V.23 originate connection when the modem has been instructed to report the DCE
speed upon connection.
<a name="_Toc343068318"></a><a name="_Toc347715572"></a>
<p class="bodytext"><i>
<a name="RTFToC143">CONNECT
1200TX/75RX</a> (23)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon establishing a
V.23 answer connection when the modem has been instructed to report the DCE
speed upon connection.
<a name="_Toc343068319"></a><a name="_Toc347715573"></a>
<p class="bodytext"><i>
<a name="RTFToC144">DELAYED</a>
(24)
</i></p>
For X4, the modem returns this result code when a call fails to connect and the
number dialed is considered 'delayed' due to country blacklisting requirements.
<a name="_Toc343068320"></a><a name="_Toc347715574"></a>
<p class="bodytext"><i>
<a name="RTFToC145">BLACKLISTED</a>
(32)
</i></p>
For X4, the modem returns this result code when a call fails to connect and the
number dialed is considered 'blacklisted'.
<a name="_Toc343068321"></a><a name="_Toc347715575"></a>
<p class="bodytext"><i>
<a name="RTFToC146">FAX</a>
(33)
</i></p>
The modem returns this result code when a fax modem connection is established
in a facsimile mode.
<a name="_Toc343068322"></a><a name="_Toc347715576"></a>
<p class="bodytext"><i>
<a name="RTFToC147">DATA</a>
(35)
</i></p>
The modem returns this result code when a data modem connection is established
in a facsimile mode.
<a name="_Toc343068323"></a><a name="_Toc347715577"></a>
<p class="bodytext"><i>
<a name="RTFToC148">CARRIER
300</a> (40)
</i></p>
The modem returns this result code when a 0-300 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068324"></a><a name="_Toc347715578"></a>
<p class="bodytext"><i>
<a name="RTFToC149">CARRIER
1200/75</a> (44)
</i></p>
The modem sends this result code when the V.23 backward channel carrier has
been detected on the line and carrier reporting has been enabled. (See S95 and
Xn.)
<a name="_Toc343068325"></a><a name="_Toc347715579"></a>
<p class="bodytext"><i>
<a name="RTFToC150">CARRIER
75/1200</a> (45)
</i></p>
The modem sends this result code when the V.23 forward channel carrier has been
detected on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068326"></a><a name="_Toc347715580"></a>
<p class="bodytext"><i>
<a name="RTFToC151">CARRIER
1200</a> (46)
</i></p>
The modem sends this result code when a 1200 bps data rate has been detected on
the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068327"></a><a name="_Toc347715581"></a>
<p class="bodytext"><i>
<a name="RTFToC152">CARRIER
2400</a> (47)
</i></p>
The modem sends this result code when a 2400 bps data rate has been detected on
the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068328"></a><a name="_Toc347715582"></a>
<p class="bodytext"><i>
<a name="RTFToC153">CARRIER
4800</a> (48)
</i></p>
The modem sends this result code when a 4800 bps data rate has been detected on
the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068329"></a><a name="_Toc347715583"></a>
<p class="bodytext"><i>
<a name="RTFToC154">CARRIER
7200</a> (49)
</i></p>
The modem sends this result code when a 7200 bps data rate has been detected on
the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068330"></a><a name="_Toc347715584"></a>
<p class="bodytext"><i>
<a name="RTFToC155">CARRIER
9600</a> (50)
</i></p>
The modem sends this result code when a 9600 bps data rate has been detected on
the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068331"></a><a name="_Toc347715585"></a>
<p class="bodytext"><i>
<a name="RTFToC156">CARRIER
12000</a> (51)
</i></p>
The modem sends this result code when a 12000 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068332"></a><a name="_Toc347715586"></a>
<p class="bodytext"><i>
<a name="RTFToC157">CARRIER
14400</a> (52)
</i></p>
The modem sends this result code when a 14400 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068333"></a><a name="_Toc347715587"></a>
<p class="bodytext"><i>
<a name="RTFToC158">CARRIER
16800</a> (53)
</i></p>
The modem sends this result code when a 16800 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068334"></a><a name="_Toc347715588"></a>
<p class="bodytext"><i>
<a name="RTFToC159">CARRIER
19200</a> (54)
</i></p>
The modem sends this result code when a 19200 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068335"></a><a name="_Toc347715589"></a>
<p class="bodytext"><i>
<a name="RTFToC160">CARRIER
21600</a> (55)
</i></p>
The modem sends this result code when a 21600 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068336"></a><a name="_Toc347715590"></a>
<p class="bodytext"><i>
<a name="RTFToC161">CARRIER
24000</a> (56)
</i></p>
The modem sends this result code when a 24000 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068337"></a><a name="_Toc347715591"></a>
<p class="bodytext"><i>
<a name="RTFToC162">CARRIER
26400</a> (57)
</i></p>
The modem sends this result code when a 26400 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068338"></a><a name="_Toc347715592"></a>
<p class="bodytext"><i>
<a name="RTFToC163">CARRIER
28800</a> (58)
</i></p>
The modem sends this result code when a 28800 bps data rate has been detected
on the line and carrier reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068339"></a><a name="_Toc347715593"></a>
<p class="bodytext"><i>
<a name="RTFToC164">CONNECT
16800</a> (59)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon connecting when
the DTE speed is 16800 bps and the modem has been instructed to report the DTE
speed upon connecting.
<a name="_Toc343068340"></a><a name="_Toc347715594"></a>
<p class="bodytext"><i>
<a name="RTFToC165">CONNECT
21600</a> (61)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon connecting when
the DTE speed is 21600 bps and the modem has been instructed to report the DTE
speed upon connecting.
<a name="_Toc343068341"></a><a name="_Toc347715595"></a>
<p class="bodytext"><i>
<a name="RTFToC166">CONNECT
24000</a> (62)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon connecting when
the DTE speed is 24000 bps and the modem has been instructed to report the DTE
speed upon connecting.
<a name="_Toc343068342"></a><a name="_Toc347715596"></a>
<p class="bodytext"><i>
<a name="RTFToC167">CONNECT
26400</a> (63)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon connecting when
the DTE speed is 26400 bps and the modem has been instructed to report the DTE
speed upon connecting.
<a name="_Toc343068343"></a><a name="_Toc347715597"></a>
<p class="bodytext"><i>
<a name="RTFToC168">CONNECT
28800</a> (64)
</i></p>
For X1, X2, X3, and X4, the modem returns this result code upon connecting when
the DTE speed is 28800 bps and the modem has been instructed to report the DTE
speed upon connecting.
<a name="_Toc343068344"></a><a name="_Toc347715598"></a>
<p class="bodytext"><i>
<a name="RTFToC169">COMPRESSION:
CLASS 5</a>  (66)
</i></p>
This message is sent to the DTE when the modem has connected in MNP Class 5 and
COMPRESSION message reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068345"></a><a name="_Toc347715599"></a>
<p class="bodytext"><i>
<a name="RTFToC170">COMPRESSION:
V.42 bis</a> (67)
</i></p>
This message is sent to the DTE when the modem has connected in V.42 bis and
COMPRESSION message reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068346"></a><a name="_Toc347715600"></a>
<p class="bodytext"><i>
<a name="RTFToC171">COMPRESSION:
NONE</a> (69)
</i></p>
This message is sent to the DTE when the modem has connected without data
compression and COMPRESSION message reporting has been enabled. (See S95 and Xn.)
<a name="_Toc343068347"></a><a name="_Toc347715601"></a>
<p class="bodytext"><i>
<a name="RTFToC172">PROTOCOL:
NONE</a> (70)
</i></p>
This message is sent to the DTE when the modem has connected without any form
of error correction, and the PROTOCOL message reporting has been enabled. (See
S95 and Xn.)
<a name="_Toc343068348"></a><a name="_Toc347715602"></a>
<p class="bodytext"><i>
<a name="RTFToC173">PROTOCOL:
LAPM</a> (77)
</i></p>
This message is sent to the DTE when the modem has connected in the V.42 LAPM
mode of error correction, and PROTOCOL message reporting has been enabled. (See
S95 and Xn.)
<a name="_Toc343068349"></a><a name="_Toc347715603"></a>
<p class="bodytext"><i>
<a name="RTFToC174">PROTOCOL:
ALT</a> (80)
</i></p>
This message is sent to the DTE when the modem has connected in the MNP mode of
error correction, and PROTOCOL message reporting has been enabled. (See S95 and
Xn.)
<a name="_Toc343068350"></a><a name="_Toc347715604"></a>
<p class="bodytext"><i>
<a name="RTFToC175">PROTOCOL:
ALT-CELLULAR</a> (81)
</i></p>
This message is sent to the DTE when the modem has connected in the MNP 10 mode
and cellular power level adjustment is enabled (")M1 or )M2").(See S95 and Xn.)
<a name="_Toc343068351"></a><a name="_Toc347715605"></a>
<p class="bodytext"><i>
<a name="RTFToC176">+FCERROR</a>
(+F4)
</i></p>
This message is sent to the DTE when high speed fax data (V.27, V.29, V.33, or
V.17) is expected and a V.21 signal is received.<p>

<a name="_Toc343068352"></a><a name="_Toc347715606"></a>
<p class="subheadlinktext">
<a name="RTFToC177">4. S-REGISTERS</a>
</p>
The S-Registers are summarized in Table 4-1 along with their default values;
registers denoted with an '*' may be stored in one of the two user profiles by
entering the &amp;Wn command. One of these profiles may be loaded at any time
by using the Zn command. Registers or register fields quoted as "reserved" are
reserved for current or future use by the firmware, or are permanently
overridden by PTT limitations. For the latter, control of the equivalent
functionality is available with ConfigurACE Call Progress and Blacklisting
options. <p>
All bit-mapped registers are read-only. The appropriate AT command which
controls the relevant bits in the S-Register should be used to change the value. 
<a name="_Toc343068353"></a><a name="_Toc347715607"></a>
<p class="bodytext"><b>
<a name="RTFToC178">4.1
FACTORY DEFAULTS</a>
</b></p>
The factory default values are stored in ROM and are loaded into the active
configuration at power up or by the ATZn command. In addition, the designated
default profile is subsequently loaded, and may change some of the factory
default values. The designated default profile can be changed by entering the
&amp;Yn command where n is one of the two possible user profiles.<p>
The defaults shown are those used by Rockwell in factory profiles zero and one.
These may be overwritten by the OEM with ConfigurACE prior to placing the
firmware in PROM. Minimum and maximum values may also be imposed by ConfigurACE
in response to country PTT requirements.<p>
The default values shown in Table 4-1 may vary by modem firmware configuration.
Consult the MCU firmware release notes for exact configuration.<p>
The factory default values may be loaded at any time by entering the &amp;Fn
command.
<a name="_Ref345291535"></a><a name="_Toc347715839"></a><p>
<b>Table 4-1. S-Register Summary</b>

<pre>
Register   Function                      Range     Units     Saved    Default**                
S0         Rings to Auto-Answer          0-255     rings     *        0                        
S1         Ring Counter                  0-255     rings              0                        
S2         Escape Character              0-255     ASCII     *        43                       
S3         Carriage Return Character     0-127     ASCII              13                       
S4         Line Feed Character           0-127     ASCII              10                       
S5         Backspace Character           0-255     ASCII              8                        
S6         Wait Time for Dial Tone       2-255     s         *        2                        
S7         Wait Time for Carrier         1-255     s         *        50                       
S8         Pause Time for Dial Delay     0-255     s         *        2                        
           Modifier                                                                            
S9         Carrier Detect Response Time  1-255     0.1 s     *        6                        
S10        Carrier Loss Disconnect Time  1-255     0.1 s     *        14                       
S11        DTMF Tone Duration            50-255    0.001 s   *        95                       
S12        Escape Prompt Delay           0-255     0.02 s    *        50                       
S13        Reserved                      -         -                  -                        
S14        General Bit Mapped Options    -         -         *        138 (8Ah)                
           Status                                                                              
S15        Reserved                      -         -                  -                        
S16        Test Mode Bit Mapped          -         -                  0                        
           Options Status (&amp;T)                                                                 
S17        Reserved                      -         -                  -                        
S18        Test Timer                    0-255     s         *        0                        
S19        AutoSync Options              -         -                  0                        
S20        AutoSync HDLC Address or      0-255     -         *        0                        
           BSC Sync Character                                                                  
S21        V.24/General Bit Mapped       -         -         *        52 (34h)                 
           Options Status                                                                      
S22        Speaker/Results Bit Mapped    -         -         *        117 (75h)                
           Options Status                                                                      
S23        General Bit Mapped Options              -         *        62 (3Dh)                 
           Status                                                                              
S24        Sleep Inactivity Timer        0-255     s         *        0                        
S25        Delay to DTR Off              0-255     s or               5                        
                                                   0.01 s                                      
S26        RTS-to-CTS Delay              0-255     0.01 s             1                        
S27        General Bit Mapped Options    -         -         *        73 (49h)                 
           Status                                                                              
S28        General Bit-Mapped Options    -         -         *        0                        
           Status                                                                              
S29        Flash Dial Modifier Time      0-255     10 ms              70                       
S30        Disconnect Inactivity Timer   0-255     10 s               0                        
S31        General Bit-Mapped Options    -         -         *        194  (C2h)               
           Status                                                                              
S32        XON Character                 0-255     ASCII              17 (11h)                 
S33        XOFF Character                0-255     ASCII              19 (13h)                 
S34-S35    Reserved                      -         -                  -                        
S36        LAPM Failure Control          -         -         *        7                        
S37        Line Connection Speed         -         -         *        0                        
S38        Delay Before Forced Hangup    0-255     s                  20                       
S39        Flow Control Bit Mapped       -         -         *        3                        
           Options Status                                                                      
S40        General Bit-Mapped Options    -         -         *        104 (68h)                
           Status                                                                              
S41        General Bit-Mapped Options    -         -         *        195 (C3h)                
           Status                                                                              
S42-S45    Reserved                      -         -                  -                        
S46        Data Compression Control      -         -         *        138                      
S48        V.42 Negotiation Control      -         -         *        7                        
S82        LAPM Break Control            -         -                  128(40h)                 
S86        Call Failure Reason Code      0-255     -                  -                        
S91        PSTN Transmit Attenuation     0-15      dBm                10 (Country dependent)   
           Level                                                                               
S92        Fax Transmit Attenuation      0-15      dBm                10 (Country dependent)   
           Level                                                                               
S95        Result Code Messages Control  -         -         *        0                        
* Register value may be stored in one of two user profiles with the &amp;W command. ** Default                               
values may be modified using ConfigurACE.                                                                                
<a name="_Toc343068354"></a><a name="_Toc347715608"></a>
</pre>
<p class="bodytext"><b>
<a name="RTFToC179">4.2
S-REGISTER DEFINITIONS</a></a>
</a><a name="_Toc343068355"></a><a name="_Toc347715609"></a></b></p>
<p class="bodytext"><i>
<a name="RTFToC180">S0
- Number of Rings to Auto-Answer</a></a>
</a></i></p>
Sets the number of the rings required before the modem automatically answers a
call. Setting this register to zero disables auto-answer mode.<p>
Range:	0-255 rings<p>
Default:	0
<a name="_Toc343068356"></a><a name="_Toc347715610"></a>
<p class="bodytext"><i>
<a name="RTFToC181">S1
- Ring Counter</a>
</i></p>
S1 is incremented each time the modem detects a ring signal on the telephone
line. S1 is cleared if no rings occur over an eight second interval.<p>
Range:	0-255 rings<p>
Default:	0
<a name="_Toc343068357"></a><a name="_Toc347715611"></a>
<p class="bodytext"><i>
<a name="RTFToC182">S2
- Escape Character</a>
</i></p>
S2 holds the decimal value of the ASCII character used as the escape character.
The default value corresponds to an ASCII '+'. A value over 127 disables the
escape process, i.e., no escape character will be recognized.<p>
Range:	0-255, ASCII decimal<p>
Default:	43 (+)
<a name="_Toc343068358"></a><a name="_Toc347715612"></a>
<p class="bodytext"><i>
<a name="RTFToC183">S3
- Carriage Return Character</a>
</i></p>
Sets the command line and result code terminator character. Pertains to
asynchronous operation only. <p>
Range:	0-127, ASCII decimal<p>
Default:	13 (Carriage Return)
<a name="_Toc343068359"></a><a name="_Toc347715613"></a>
<p class="bodytext"><i>
<a name="RTFToC184">S4
- Line Feed Character</a>
</i></p>
Sets the character recognized as a line feed. Pertains to asynchronous
operation only. The Line Feed control character is output after the Carriage
Return control character if verbose result codes are used.<p>
Range:	0-127, ASCII decimal<p>
Default:	10 (Line Feed)
<a name="_Toc343068360"></a><a name="_Toc347715614"></a>
<p class="bodytext"><i>
<a name="RTFToC185">S5
- Backspace Character</a>
</i></p>
Sets the character recognized as a backspace. Pertains to asynchronous
operation only. The modem will not recognize the Backspace character if it is
set to a value that is greater than 32 ASCII. This character can be used to
edit a command line. When the echo command is enabled, the modem echoes back to
the local DTE the Backspace character, an ASCII space character and a second
Backspace character; this means a total of three characters are transmitted
each time the modem processes the Backspace character.<p>
Range:	0-32, ASCII decimal<p>
Default:	8 (Backspace)
<a name="_Toc343068361"></a><a name="_Toc347715615"></a>
<p class="bodytext"><i>
<a name="RTFToC186">S6
- Wait Time for Dial Tone Before Blind Dialing, or After "W" Dial Modifier
(W-Class Models)</a> 
</i></p>
1.	Sets the length of time, in seconds, that the modem will wait before
starting to dial after going off-hook when blind dialing. This operation,
however, may be affected by some ATX options according to country restrictions.
The "Wait for Dial Tone" call progress feature (W dial modifier in the dial
string) will override the value in register S6. <p>
2.	For W-class models, S6 sets the length of time, in seconds, that the modem
will wait for dial tone when encountering a "W" dial modifier before returning
NO DIAL TONE result code.<p>
The modem always pauses for a minimum of 2 seconds, even if the value of S6 is
less than 2 seconds. <p>
Range:	2-255 seconds<p>
Default:	2
<a name="_Toc343068362"></a><a name="_Toc347715616"></a>
<p class="bodytext"><i>
<a name="RTFToC187">S7
- Wait Time For Carrier After Dial, For Silence, or For Dial Tone After "W"
Dial Modifier (US Models)</a>
</i></p>
1.	Sets the length of time, in seconds, that the modem will wait for carrier
before hanging up. The timer is started when the modem finishes dialing
(originate), or 2 seconds after going off-hook (answer). In originate mode, the
timer is reset upon detection of answer tone if allowed by country
restrictions.<p>
2.	Sets the length of time, in seconds, that modem will wait for silence when
encountering the @ dial modifier before continuing with the next dial string
parameter.<p>
3.	For US models, S7 sets the length of time, in seconds, that the modem will
wait for dial tone when encountering a "W" dial modifier before continuing with
the next dial string parameter.<p>
Range:	1-255 seconds<p>
Default:	50
<a name="_Toc343068363"></a><a name="_Toc347715617"></a>
<p class="bodytext"><i>
<a name="RTFToC188">S8
- Pause Time For Dial Delay</a>
</i></p>
Sets the time, in seconds, that the modem must pause when the "," dial modifier
is encountered in the dial string.<p>
Range:	0-255 seconds<p>
Default:	2
<a name="_Toc343068364"></a><a name="_Toc347715618"></a>
<p class="bodytext"><i>
<a name="RTFToC189">S9
- Carrier Detect Response Time</a>
</i></p>
Sets the time, in tenths of a second, that the carrier must be present before
the modem considers it valid and turns on RLSD. As this time is increased,
there is less chance to detect a false carrier due to noise from the telephone
line.<p>
Range:	1-255 tenths of a second<p>
Default:	6 (0.6 second)
<a name="_Toc343068365"></a><a name="_Toc347715619"></a>
<p class="bodytext"><i>
<a name="RTFToC190">S10
- Lost Carrier To Hang Up Delay</a>
</i></p>
Sets the length of time, in tenths of a second, that the modem waits before
hanging up after a loss of carrier. This allows for a temporary carrier loss
without causing the local modem to disconnect. When register S10 is set to 255,
the modem functions as if a carrier is always present.<p>
The actual interval the modem waits before disconnecting is the value in
register S10 minus the value in register S9. Therefore, the S10 value must be
greater than the S9 value or else the modem disconnects before it recognizes
the carrier.<p>
Range:	1-255 tenths of a second<p>
Default:	14 (1.4 seconds)
<a name="_Toc343068366"></a><a name="_Toc347715620"></a>
<p class="bodytext"><i>
<a name="RTFToC191">S11
- DTMF Tone Duration</a>
</i></p>
Sets the duration of tones in DTMF dialing (US models only). This value has no
effect on pulse dialing.<p>
For W-class models, this parameter is a country parameter loaded by
ConfigurACE.<p>
Range:	50-255 milliseconds<p>
Default:	95 (95 milliseconds)
<a name="_Toc343068367"></a><a name="_Toc347715621"></a>
<p class="bodytext"><i>
<a name="RTFToC192">S12
- Escape Prompt Delay (EPD)</a>
</i></p>
Defines the maximum period, in fiftieths of a second, allowed between receipt
of the last character of the three escape character sequence from the DTE and
sending of the OK result code to the DTE. If any characters are detected during
this time, the OK will not be sent. Note that sending of the OK result code
does not affect entry into command mode. (See 3.1.3.)<p>
Range:	0-255 1/50 of a second<p>
Default:	50 (1 second)
<a name="_Toc343068368"></a><a name="_Toc347715622"></a>
<p class="bodytext"><i>
<a name="RTFToC193">S13
- Reserved</a>
<a name="_Toc343068369"><a name="_Toc347715623"><br>
<a name="RTFToC194">S14
- General Bit Mapped Options Status</a></a>
</a></i></p>
Indicates the status of command options. <p>
Default: 138 (8Ah) (10001010b)<p>
Bit 0	This bit is ignored. <p>
Bit 1	Command echo (En)<p>
0 =	Disabled (E0)<p>
1 =	Enabled (E1) (Default.)<p>
Bit 2	Quiet mode (Qn)<p>
0 =	Send result codes (Q0) (Default.)<p>
1 =	Do not send result codes (Q1)<p>
Bit 3	Result codes (Vn)<p>
0 =	Numeric (V0) <p>
1 =	Verbose (V1) (Default.)<p>
Bit 4	Reserved<p>
Bit 5	Tone (T)/Pulse (P)<p>
0 =	Tone (T) (Default.)<p>
1 =	Pulse (P)<p>
Bit 6	Reserved<p>
Bit 7	Originate/Answer<p>
0 =	Answer<p>
1 =	Originate (Default.)
<a name="_Toc343068370"></a><a name="_Toc347715624"></a>
<p class="bodytext"><i>
<a name="RTFToC195">S15
- Reserved</a>
<a name="_Toc343068371"><a name="_Toc347715625"><br>
<a name="RTFToC196">S16
- General Bit Mapped Test Options Status</a></a>
</a></i></p>
Indicates the test in progress status. <p>
Default:	0<p>
Bit 0	Local analog loopback<p>
0 =	Disabled (Default.)<p>
1 =	Enabled (&amp;T1)<p>
Bit 1	Not used<p>
Bit 2	Local digital loopback<p>
0 =	Disabled (Default.)<p>
1 =	Enabled (&amp;T3)<p>
Bit 3	Remote digital loopback (RDL) status <p>
0 =	Modem not in RDL (Default.)<p>
1 =	RDL in progress<p>
Bit 4	RDL requested (AT&amp;T6)<p>
0 =	RDL not requested (Default.)<p>
1 =	RDL requested (&amp;T6)<p>
Bit 5	RDL with self test<p>
0 =	Disabled (Default.)<p>
1 =	Enabled (&amp;T7)<p>
Bit 6	Local analog loopback (LAL) with self test<p>
0 =	Disabled (Default.)<p>
1 =	Enabled (&amp;T8)<p>
Bit 7	Not used
<a name="_Toc343068372"></a><a name="_Toc347715626"></a>
<p class="bodytext"><i>
<a name="RTFToC197">S17
- Reserved</a>
<a name="_Toc343068373"><a name="_Toc347715627"><br>
<a name="RTFToC198">S18
- Test Timer</a></a>
</a></i></p>
Sets the length of time, in seconds, that the modem conducts a test (commanded
by &amp;Tn) before returning to the command mode. If this register value is
zero, the test will not automatically terminate; the test must be terminated
from the command mode by issuing an &amp;T0 or H command. When S18 is non-zero,
the modem returns the OK message upon test termination.<p>
Range:	0-255 seconds<p>
Default:	0
<a name="_Toc343068374"></a><a name="_Toc347715628"></a>
<p class="bodytext"><i>
<a name="RTFToC199">S19
- AutoSync Bit Mapped Options</a>
</i></p>
Defines the options for AutoSync operation (see &amp;Q4 command). S19 must be
set to the desired value before &amp;Q4 is issued.<p>
Default:	0<p>
Bit 0	Reserved<p>
Bit 1	BSC/HDLC format select<p>
0 =	BSC selected (Default.)<p>
1 =	HDLC selected<p>
Bit 2	Address detection enable/disable<p>
0 =	Disabled (Default.)<p>
1 =	Enabled<p>
Bit 3	NRZI/NZI coding select<p>
0 =	NRZI (Default.)<p>
1 =	NZI<p>
Bit 4	Idle indicator select<p>
0 =	Mark idle (Default.)<p>
1 =	Flag or sync idle<p>
Bits 5 - 7	Reserved
<a name="_Toc343068375"></a><a name="_Toc347715629"></a>
<p class="bodytext"><i>
<a name="RTFToC200">S20
- AutoSync HDLC Address or BSC Sync Character</a>
</i></p>
Defines the HDLC address (S19 bit 1 = 1) or BSC Sync Character (S19 bit 1 = 0)
for AutoSync operation (see &amp;Q4 command). S20 must be set to the desired
value before &amp;Q4 is issued.<p>
Range:	0-255 <p>
Default:	0
<a name="_Toc343068376"></a><a name="_Toc347715630"></a>
<p class="bodytext"><i>
<a name="RTFToC201">S21
- V.24/General Bit Mapped Options Status</a>
</i></p>
Indicates the status of command options.<p>
Default:	52 (34h) (00110100b)<p>
Bit 0	Set by &amp;Jn command but ignored otherwise.<p>
0 =	&amp;J0 (Default.)<p>
1 =	&amp;J1<p>
Bit 1	Reserved<p>
Bit 2	CTS behavior (&amp;Rn)<p>
0 =	CTS tracks RTS (&amp;R0) <p>
1 =	CTS always on (&amp;R1) (Default.)<p>
Bits 3-4	DTR behavior (&amp;Dn)<p>
0 =	&amp;D0 selected<p>
1 =	&amp;D1 selected<p>
2 =	&amp;D2 selected (Default.)<p>
3 =	&amp;D3 selected<p>
Bit 5	RLSD (DCD) behavior (&amp;Cn)<p>
0 =	&amp;C0 selected<p>
1 =	&amp;C1 selected (Default.)<p>
Bit 6	DSR behavior (&amp;Sn)<p>
0 =	&amp;S0 selected (Default.)<p>
1 =	&amp;S1 selected<p>
Bit 7	Long space disconnect (Yn)<p>
0 =	Y0 (Default.)<p>
1 =	Y1
<a name="_Toc343068377"></a><a name="_Toc347715631"></a>
<p class="bodytext"><i>
<a name="RTFToC202">S22
- Speaker/Results Bit Mapped Options Status</a>
</i></p>
Indicates the status of command options.<p>
Default:	117 (75h) (01110101b)<p>
Bits 0-1	Speaker volume (Ln)<p>
0 =	Off (L0)<p>
1 =	Low (L1) (Default.)<p>
2 =	Medium (L2)<p>
3 =	High (L3)<p>
Bits 2-3	Speaker control (Mn)<p>
0 =	Disabled (M0)<p>
1 =	Off on carrier (M1) (Default.)<p>
2 =	Always on (M2)<p>
3 =	On during handshake (M3)<p>
Bits 4-6	Limit result codes (Xn)<p>
0 =	X0<p>
4 =	X1<p>
5 =	X2<p>
6 =	X3<p>
7 =	X4 (Default.)<p>
Bit 7	Reserved
<a name="_Toc343068378"></a><a name="_Toc347715632"></a>
<p class="bodytext"><i>
<a name="RTFToC203">S23
- General Bit Mapped Options Status</a>
</i></p>
Indicates the status of command options.<p>
Default:	62 (3Dh) (00111110b)<p>
Bit 0	Grant RDL<p>
0 =	RDL not allowed (&amp;T5) (Default.)<p>
1 =	RDL allowed (&amp;T4) <p>
Bits 1-3	DTE Rate<p>
0 =	0 - 300 bps<p>
1 =	600 bps<p>
2 =	1200 bps<p>
3 =	2400 bps<p>
4 =	4800 bps<p>
5 =	9600 bps<p>
6 =	19200 bps<p>
7 =	38400 bps or higher (Default.)<p>
Bits 4-5	Assumed DTE parity <p>
0 =	even<p>
1 =	not used<p>
2 =	odd<p>
3 =	none (Default.)<p>
Bits 6-7	Guard tone (&amp;Gn)<p>
0 =	None (&amp;G0) (Default.)<p>
1 =	None (&amp;G1)<p>
2 =	1800 Hz (&amp;G2)
<a name="_Toc343068379"></a><a name="_Toc347715633"></a>
<p class="bodytext"><i>
<a name="RTFToC204">S24
- Sleep Inactivity Timer</a>
</i></p>
Sets the length of time, in seconds, that the modem will operate in normal mode
with no detected telephone line or DTE line activity before entering low-power
sleep mode. The timer is reset upon any DTE line or telephone line activity. If
the S24 value is zero, neither DTE line nor telephone inactivity will cause the
modem to enter the sleep mode. <p>
Range:	0-255 seconds<p>
Default:	0
<a name="_Toc343068380"></a><a name="_Toc347715634"></a>
<p class="bodytext"><i>
<a name="RTFToC205">S25
- Delay To DTR</a>
</i></p>
Sets the length of time that the modem will ignore DTR for taking the action
specified by &amp;Dn. Its units are seconds for synchronous modes and one
hundredths of a second for other modes.<p>
Range:	0-255 (1 second for synchronous modes 1; 0.01 second otherwise)<p>
Default:	5
<a name="_Toc343068381"></a><a name="_Toc347715635"></a>
<p class="bodytext"><i>
<a name="RTFToC206">S26
- RTS to CTS Delay</a> 
</i></p>
Sets the time delay, in hundredths of a second, before the modem turns CTS ON
after detecting an OFF-to-ON transition on RTS when &amp;R0 is commanded.
Pertains to synchronous operation only. <p>
Range:	0-255 hundredths of a second<p>
Default:	1
<a name="_Toc343068382"></a><a name="_Toc347715636"></a>
<p class="bodytext"><i>
<a name="RTFToC207">S27
- Bit Mapped Options Status</a>
</i></p>
Indicates the status of command options.<p>
Default:	73 (49h) (01001001b) <p>
Bits 0,1,3	Synchronous/asynchronous selection (&amp;Mn/&amp;Qn)<p>
<b>3	1	0</b>	<p>
0	0	0	=	&amp;M0 or &amp;Q0<p>
0	0	1	=	&amp;M1 or &amp;Q1<p>
0	1	0	=	&amp;M2 or &amp;Q2<p>
0	1	1	=	&amp;M3 or &amp;Q3<p>
1	0	0	=	&amp;Q4<p>
1	0	1	=	&amp;Q5 (Default.)<p>
1	1	0	=	&amp;Q6 <p>
Bit 2	Leased line control (&amp;Ln)<p>
0 =	Dial up line (&amp;L0) (Default.)<p>
Bits 4 - 5	Internal clock select (&amp;Xn)<p>
0 =	Internal clock (&amp;X0) (Default.)<p>
1 =	External clock (&amp;X1)<p>
2 =	Slave clock (&amp;X2)<p>
Bit 6	CCITT/Bell mode select (Bn)<p>
0 =	CCITT mode (B0)<p>
1 =	Bell mode (B1) (Default.)<p>
Bit 7 - Reserved
<a name="_Toc343068383"></a><a name="_Toc347715637"></a>
<p class="bodytext"><i>
<a name="RTFToC208">S28
- Bit Mapped Options Status</a>
</i></p>
Default:	0<p>
Bits 0 - 1	Reserved<p>
Bit 2	Reserved (always 0).<p>
Bits 3 - 4	Pulse dialing (&amp;Pn)<p>
0 =	39%-61% make/break ratio at 10 pulses per second (&amp;P0) (Default.)<p>
1 =	33%-67% make/break ratio at 10 pulses per second (&amp;P1)<p>
2 =	39%-61% make/break ratio at 20 pulses per second (&amp;P2)<p>
3 =	33%-67% make/break ratio at 20 pulses per second (&amp;P3)<p>
Bit 5-7	Reserved
<a name="_Toc343068384"></a><a name="_Toc347715638"></a>
<p class="bodytext"><i>
<a name="RTFToC209">S29
- Flash Dial Modifier Time</a>
</i></p>
Sets the length of time, in units of 10 ms, that the modem will go on-hook when
it encounters the flash (!) dial modifier in the dial string. The time can be
limited as it is a country dependent parameter.<p>
Range:	0-255   10 ms intervals<p>
Default:	70   (700 ms)
<a name="_Toc343068385"></a><a name="_Toc347715639"></a>
<p class="bodytext"><i>
<a name="RTFToC210">S30
- Disconnect Inactivity Timer</a>
</i></p>
Sets the length of time, in tens of seconds, that the modem will stay online
before disconnecting when no data is sent or received. In error-correction
mode, any data transmitted or received will reset the timer. In other modes,
any data transmitted will reset the timer. The timer is inoperative in
synchronous mode. <p>
Range:	0-255 tens of seconds (0-2550 seconds)<p>
Default:	0 (disabled)
<a name="_Toc343068386"></a><a name="_Toc347715640"></a>
<p class="bodytext"><i>
<a name="RTFToC211">S31
- Bit Mapped Options Status</a>
</i></p>
Default:	194 (C2h) (11000010b)<p>
Bit 0	Single line connect message enable/disable (\Vn)<p>
0 =	Messages controlled by S95, Wn and Vn (\V0) (Default)<p>
1 =	Single line connect message (\V1)<p>
Bit 1	Auto line speed detection (Nn) <p>
0 =	Disabled (N0)<p>
1 =	Enabled (N1) (Default.)<p>
Bits 2-3	Error correction progress messages (Wn)<p>
0 =	DTE speed only (W0) (Default)<p>
1 =	Full reporting (W1)<p>
2 =	DCE speed only (W2)<p>
Bits 4-5	Caller ID (#CID)<p>
0 =	Caller ID disabled (#CID=0) (Default)<p>
1 =	Short (formatted) Caller ID enabled (#CID=1)<p>
2 =	Long (unformatted) Caller ID enabled (#CID=2)<p>
Bits 6-7	Reserved (Default = 11b)
<a name="_Toc343068387"></a><a name="_Toc347715641"></a>
<p class="bodytext"><i>
<a name="RTFToC212">S32
- XON Character</a>
</i></p>
Sets the value of the XON character.<p>
Range:	0-255, ASCII decimal<p>
Default:	17 (11h)
<a name="_Toc343068388"></a><a name="_Toc347715642"></a>
<p class="bodytext"><i>
<a name="RTFToC213">S33
- XOFF Character</a>
</i></p>
Sets the value of the XOFF character.<p>
Range:	0-255, ASCII decimal<p>
Default:	19 (13h)
<a name="_Toc343068389"></a><a name="_Toc347715643"></a>
<p class="bodytext"><i>
<a name="RTFToC214">S34-S35
- Reserved</a>
<a name="_Toc343068390"><a name="_Toc347715644"><br>
<a name="RTFToC215">S36
- LAPM Failure Control</a></a>
</a></i></p>
Default:	7 (00000111b)<p>
Bits 0-2	This value indicates what should happen upon a LAPM failure. These
fallback options are initiated immediately upon connection if S48=128. If an
invalid number is entered, the number is accepted into the register, but S36
will act as if the default value has been entered.<p>
0 =	Modem disconnects.<p>
1 =	Modem stays on-line and a Direct mode connection is established.<p>
2 =	Reserved.<p>
3 =	Modem stays on-line and a Normal mode connection is established.<p>
4 =	An MNP connection is attempted and if it fails, the modem disconnects.<p>
5 =	An MNP connection is attempted and if it fails, a Direct mode connection is
established.<p>
6 =	Reserved.<p>
7 =	An MNP connection is attempted and if it fails, a Normal mode connection is
established. (Default.)<p>
Bits 3-7	Reserved
<a name="_Toc343068391"></a><a name="_Toc347715645"></a>
<p class="bodytext"><i>
<a name="RTFToC216">S37
- Desired Line Connection Speed</a>
</i></p>
This register specifies the desired line connection speed.<p>
<b>Notes: </b><p>
1.	When the Nn command is issued or the S37 register value is modified,
the +MS command subparameters are updated to reflect the speed and modulation
specified by the S37 value (see +MS command). For example:<p>
If N0 command is active, S37=10 updates the +MS command subparameters to
reflect +MS=10,1,300,12000<p>
If N1 command is active, S37=10 updates the +MS command subparameters to
reflect +MS=10,0,12000,12000<p>
2.	S37 is not updated by the +MS command.<p>
3.	Use of the +MS command is recommended instead of the Nn and S37=x commands.
Nn and S37=x commands are supported for compatibility with existing
communication software. <p>
Default:	0<p>
Bits 0-4	Desired line connection speed. This is interlinked with the Fn command
(RC144). If an invalid number is entered, the number is accepted into the
register, but S37 will act as if the default value has been entered.<p>
0 =	Attempt automode connection. If N0 is active, connection is attempted at
the most recently sensed DTE speed (+MS command settings are updated to the
appropriate values). If N1 is active, connection is attempted at the highest
possible speed (+MS settings are updated to 11,1,300,2880 to reflect V.34,
automode, 300 bps minimum speed, and 28800 bps maximum speed). (Default.)<p>
1-3 =	Attempt to connect at 300 bps. F1 command (RC144).<p>
4 =	Reserved.<p>
5 =	Attempt to connect at V.22 1200 bps. F4 command (RC144).<p>
6 =	Attempt to connect at V.22 bis 2400 bps. F5 command (RC144).<p>
7 =	Attempt to connect at V.23.<p>
8 =	Attempt to connect at V.32 bis/V.32 4800 bps. F6 command (RC144).<p>
9 =	Attempt to connect at V.32 bis/V.32 9600 bps. F8 command (RC144).<p>
10 =	Attempt to connect at V.32 bis 12000 bps. F9 command (RC144).<p>
11 =	Attempt to connect at V.32 bis 14400 bps. F10 command (RC144).<p>
12 =	Attempt to connect at V.32 bis 7200 bps. F7 command (RC144).<p>
Bits 5-7	Reserved
<a name="_Toc343068392"></a><a name="_Toc347715646"></a>
<p class="bodytext"><i>
<a name="RTFToC217">S38
- Delay Before Forced Hang Up</a>
</i></p>
This register specifies the delay between the modem's receipt of the H command
to disconnect (or ON-to-OFF transition of DTR if the modem is programmed to
follow the signal), and the disconnect operation. Applicable to
error-correction connection only. This register can be used to ensure that data
in the modem buffer is sent before the modem disconnects.<p>
1.	If S38 is set to a value between 0 and 254, the modem will wait that number
of seconds for the remote modem to acknowledge all data in the modem buffer
before disconnecting. If time expires before all data is sent, the NO CARRIER
result code will be issued to indicate that data has been lost. If all data is
transmitted prior to time-out, the response to the H0 command will be OK.<p>
2.	If S38 is set to 255, the modem does not time-out and continues to attempt
to deliver data in the buffer until the connection is lost or the data is
delivered.<p>
Range:	0-255 seconds<p>
Default:	20
<a name="_Toc343068393"></a><a name="_Toc347715647"></a>
<p class="bodytext"><i>
<a name="RTFToC218">S39
- Flow Control Bit Mapped Options Status</a>
</i></p>
Default:	3 (00000011b)<p>
Bits 0-2	Status of command options<p>
0 =	No flow control <p>
3 =	RTS/CTS (&amp;K3) (Default.)<p>
4 =	XON/XOFF (&amp;K4)<p>
5 =	Transparent XON (&amp;K5)<p>
6 =	Both methods (&amp;K6)<p>
Bits 3-7	Reserved
<a name="_Toc343068394"></a><a name="_Toc347715648"></a>
<p class="bodytext"><i>
<a name="RTFToC219">S40
- General Bit Mapped Options Status</a>
</i></p>
Indicates the status of command options.<p>
Default:	104 (68h) (01101000b) <p>
Bits 0-1	MNP Extended Services (-Kn)<p>
0 =	Disable extended services (-K0) (Default)<p>
1 =	Enable extended services (-K1)<p>
2 =	Enable extended services (-K2)<p>
Bit 2	Reserved<p>
Bits 3-5	Break Handling (\Kn)<p>
0 =	\K0<p>
1 =	\K1<p>
2 =	\K2<p>
3 =	\K3<p>
4 =	\K4<p>
5 =	\K5 (Default.)<p>
Bits 6-7	MNP block size (\An)<p>
0 =	64 chars (\A0)<p>
1 =	128 chars (\A1) (Default.)<p>
2 =	192 chars (\A2)<p>
3 =	256 chars (\A3)
<a name="_Toc343068395"></a><a name="_Toc347715649"></a>
<p class="bodytext"><i>
<a name="RTFToC220">S41
- General Bit Mapped Options Status</a>
</i></p>
Indicates the status of command options.<p>
Default:	195 (C3h) (11000011b)<p>
Bits 0 -1	Compression selection (%Cn)<p>
0 =	Disabled (%C0)<p>
1 =	MNP 5 (%C1)<p>
2 =	V.42 bis (%C2)<p>
3 =	MNP 5 and V.42 bis (%C3) (Default.)<p>
Bits 2, 6	Auto retrain and fallback/fall forward (%En)<p>
	Bit 6	Bit 2<p>
	0	0	=	Retrain and fallback/fall forward disabled (%E0)<p>
	0	1	=	Retrain enabled (%E1)<p>
	1	0	=	Fallback/fall forward enabled (%E2) (Default.)<p>
Bit 3	Reserved<p>
Bits 4-5	Reserved<p>
Bit 7	Reserved
<a name="_Toc343068396"></a><a name="_Toc347715650"></a>
<p class="bodytext"><i>
<a name="RTFToC221">S46
- Data Compression Control</a>
</i></p>
Controls selection of compression. The following actions are executed for the
given values:<p>
Range:	136 or 138<p>
Default:	138<p>
S46=136	Execute error correction protocol with no compression.<p>
S46=138	Execute error correction protocol with compression. (Default.)
<a name="_Toc343068397"></a><a name="_Toc347715651"></a>
<p class="bodytext"><i>
<a name="RTFToC222">S48
- V.42 Negotiation Action</a>
</i></p>
The V.42 negotiation process determines the capabilities of the remote modem.
However, when the capabilities of the remote modem are known and negotiation is
unnecessary, this process can be bypassed if so desired.<p>
Range:	0, 7, or 128 If an invalid number is entered, it is accepted into the
S-Register, but S48 will act as if 128 has been entered.<p>
Default:	7<p>
S48=0	Disable negotiation; bypass the detection and negotiation phases; and
proceed with LAPM.<p>
S48=7	Enable negotiation. (Default.)<p>
S48=128	Disable negotiation; bypass the detection and negotiation phases; and
proceed at once with the fallback action specified in S36. Can be used to force
MNP.
<a name="_Toc343068398"></a><a name="_Toc347715652"></a>
<p class="bodytext"><i>
<a name="RTFToC223">S82
- Break Handling Options</a>
</i></p>
S82 is for compatibility purposes only, changing this register will not have
any affect.
<a name="_Toc343068399"></a><a name="_Toc347715653"></a>
<p class="bodytext"><i>
<a name="RTFToC224">S86
- Call Failure Reason Code</a>
</i></p>
When the modem issues a NO CARRIER result code, a value is written to this
S-Register to help determine the reason for the failed connection. S86 records
the first event that contributes to a NO CARRIER message. The cause codes
are:<p>
Range:	0, 4, 5, 9, 12, 13, or 14<p>
Default:	<p>
S86=0	Normal disconnect, no error occurred.<p>
S86=4	Loss of carrier.<p>
S86=5	V.42 negotiation failed to detect an error-correction modem at the other
end.<p>
S86=9	The modems could not find a common protocol.<p>
S86=12	Normal disconnect initiated by the remote modem.<p>
S86=13	Remote modem does not respond after 10 re-transmissions of the same
message.<p>
S86=14	Protocol violation.
<a name="_Toc343068400"></a><a name="_Toc347715654"></a>
<p class="bodytext"><i>
<a name="RTFToC225">S91
- PSTN Transmit Attenuation Level</a>
</i></p>
Sets the transmit attenuation level from 0 to 15 dBm for the PSTN mode,
resulting in a transmit level from 0 to -15&nbsp;dBm, In some countries, the
transmit level may not be changed and there are checks to prevent transmit
attenuation level change using ConfigurACE.<p>
Range:	0 to 15 dBm (Corresponding to 0 to -15 dBm transmit level.)<p>
Default:	10 (-10 dBm transmit level.)
<a name="_Toc343068401"></a><a name="_Toc347715655"></a>
<p class="bodytext"><i>
<a name="RTFToC226">S92
- Fax Transmit Attenuation Level</a>
</i></p>
Sets the transmit attenuation level from 0 to 15 dBm for the fax mode,
resulting in a transmit level from 0 to -15&nbsp;dBm. In some countries, the
transmit level may not be changed and there are checks to prevent transmit
attenuation level change using ConfigurACE. <p>
Range:	0 to 15 dBm (Corresponding to 0 to -15 dBm transmit level.)<p>
Default:	10 (-10 dBm transmit level.)
<a name="_Toc343068402"></a><a name="_Toc347715656"></a>
<p class="bodytext"><i>
<a name="RTFToC227">S95
- Extended Result Codes</a>
</i></p>
The bits in this register can be set to override some of the Wn command
options. A bit set to a 1 in this register will enable the corresponding result
code regardless of the Wn setting. Also, refer to Table 3-1. <p>
Default:	0<p>
Bit 0	CONNECT result code indicates DCE speed instead of DTE speed.<p>
Bit 1	Append/ARQ to CONNECT XXXX result code in error-correction mode (XXXX =
rate; see Table 3-1).<p>
Bit 2	Enable CARRIER XXXX result code (XXXX = rate; see Table 3-1. If a V.FC
connection is established, /VFC is appended to the CARRIER XXXX message, e.g.,
CARRIER 28800/VFC; note that there is no short form for this message (RC288).<p>
Bit 3	Enable PROTOCOL XXXX result code (XXXX = protocol identifier; see Table
3-1).<p>
Bit 4	Reserved.<p>
Bit 5	Enable COMPRESSION result code (XXXX = compression type; see Table
3-1).<p>
Bit 6	Reserved.<p>
Bit 7	Reserved.<p>

<a name="_Toc343068404"></a><a name="_Toc347715657"></a>
<p class="subheadlinktext">
<a name="RTFToC228">5. FAX CLASS 1 COMMANDS</a>
<a name="_Toc343068405"></a><a name="_Toc347715658"></a></p>
<p class="bodytext"><b>
<a name="RTFToC229">5.1
FAX I/O PROCESSING</a></a>
</a></b></p>
The fax I/O interface supports asynchronous serial and parallel interfaces. The
interface rate is 19200 bps. The character format is 8 bits data, no parity,
and 1 stop bit. Start and stop elements are removed from the transmit data and
added to the receive data. Both transmit and receive data are buffered. Flow
control using XON/XOFF (DC1/DC3) or RTS/CTS is provided.<p>
Unique control character strings are identified, filtered, or reinserted into
the I/O data stream. These control characters and their resultant action are
described below.
<a name="_Toc343068406"></a><a name="_Toc347715659"></a>
<p class="bodytext"><b><i>
<a name="RTFToC230">5.1.1
DTE-to-Modem Transmit Data Stream</a>
</i></b></p>
<b>	Characters Detected	Action Taken</b><p>
	&lt;DLE&gt;&lt;data&gt;	Delete &lt;DLE&gt;&lt;data&gt; characters.<p>
	&lt;DLE&gt;&lt;ETX&gt;	Recognize as a string terminator and take appropriate
action.<p>
	&lt;DLE&gt;&lt;DLE&gt;	Replace with single &lt;DLE&gt; character.<p>
<a name="_Toc343068407"></a><a name="_Toc347715660"></a>
<p class="bodytext"><b><i>
<a name="RTFToC231">5.1.2
Modem-to-DTE Receive Data Stream</a>
</i></b></p>
<p>
<b>	Characters Detected	Action Taken</b><p>
	&lt;DLE&gt;	Insert extra &lt;DLE&gt; ahead of &lt;DLE&gt;.<p>
The modem also identifies the end of a frame by inserting
&lt;DLE&gt;&lt;ETX&gt; into the data stream after the FCS bytes. 
<a name="_Toc343068408"></a><a name="_Toc347715661"></a>
<p class="bodytext"><b><i>
<a name="RTFToC232">5.1.3
Fax Mode Selection</a>
</i></b></p>
Fax class 1 commands are identified in Table 5-1. Fax modes and rates are
determined by the AT+F commands as described in Section 5.2.
<a name="_Ref345291949"></a><a name="_Toc347715840"></a><p>
<b>Table 5-1. Fax Class 1 Commands</b>

<pre>
         Command            Function                                
                        Service Class ID                              
+FCLASS=                    Service Class                           
                      Fax Class 1 Commands                            
+FAE=n                      Data/Fax Auto Answer                    
+FTS=n                      Stop Transmission and Wait              
+FRS=n                      Receive Silence                         
+FTM=n                      Transmit Data                           
+FRM=n                      Receive Data                            
+FTH=n                      Transmit Data with HDLC Framing         
+FRH=n                      Receive Data with HDLC Framing          

</pre>
<a name="_Toc343068409"></a><a name="_Toc347715662"></a>
<p class="bodytext"><b><i>
<a name="RTFToC233">5.1.4
Fax Origination</a>
</i></b></p>
Origination of fax calls is made using the ATD command. Upon completion of the
dial function, a calling tone at 1100 Hz is transmitted, with a cadence of 0.5
seconds on and 3 seconds off. The modem automatically enters mode +FRH=3 and
sends the CONNECT message to the DTE when FSK flags are detected from the remote.
<a name="_Toc343068410"></a><a name="_Toc347715663"></a>
<p class="bodytext"><b><i>
<a name="RTFToC234">5.1.5
Fax Answering</a>
</i></b></p>
Answering of fax calls is identical to answering of data calls with the
exception that the modem enters the fax handshaking mode instead of the data
handshaking mode after going off-hook. If +FAE=0, the modem, after sending
answer tone, automatically enters fax mode (+FTH=3), sends the CONNECT message
to the DTE, and starts sending FSK flags. If +FAE=1, the modem determines
whether the caller is a data modem or fax modem and sends the DATA or FAX
result code, respectively, to the DTE. 
<a name="_Toc343068411"></a><a name="_Toc347715664"></a>
<p class="bodytext"><b><i>
<a name="RTFToC235">5.1.6
Fax Control Transmission</a>
</i></b></p>
Fax control transmission is initiated by the +FTH=n command. After this command
is issued, the modem generates the CONNECT message and transmits carrier in the
modulation scheme specified by the parameter n. The modem then transmits HDLC
flags for a minimum of 1 second. The modem continues to transmit the HDLC flags
until it receives a character from the DTE.<p>
When characters are received from the DTE, the modem adds start and end flags,
performs zero-bit insertion, generates FCS, and deletes &lt;DLE&gt;&lt;chr&gt;
character pairs before transmitting the characters to the remote fax machine.
Each &lt;DLE&gt;&lt;DLE&gt; sequence is transmitted as a single &lt;DLE&gt;.
&lt;DLE&gt;&lt;ETX&gt; is considered as the end of frame marker and is not
transmitted. All data received from the DTE after &lt;DLE&gt;&lt;ETX&gt; is
ignored by the modem until the modem generates either the CONNECT, OK, or ERROR
result code.<p>
If no more data is in the transmit buffer and the final bit was a 1 (bit 4 of
the second byte received from the DTE), the modem generates the OK result code
and returns to the command mode. If the final bit was a 0, the modem generates
the CONNECT message and waits for further data from the DTE while transmitting
HDLC flags. If no more data is received before 5 seconds elapse, the modem
drops carrier, goes on-hook, and generates the ERROR result code.
<a name="_Toc343068412"></a><a name="_Toc347715665"></a>
<p class="bodytext"><b><i>
<a name="RTFToC236">5.1.7
Fax Control Reception</a>
</i></b></p>
Fax control reception is initiated using the AT+FRH=n command. After this
command is issued, the modem looks for carrier in the modulation scheme
specified by the parameter n. If no carrier is detected before the period of
time specified by register S7 expires, the modem generates the NO CARRIER
message and returns to command mode. If a carrier is detected that is not the
one specified by the parameter n, the modem generates the +FCERROR message and
returns to the command mode. If the specified carrier is detected, the modem
generates the CONNECT message and enters the HDLC receive mode.<p>
In HDLC receive mode, the modem receives HDLC frames from the remote fax
machine, strips the flags, performs zero-bit deletion, performs error checking,
and handles &lt;DLE&gt;&lt;chr&gt; character pairs before passing the data to
the DTE. The modem prefixes each &lt;DLE&gt; character with another &lt;DLE&gt;
character before sending it to the DTE. After the last byte in the frame, the
modem sends &lt;DLE&gt;&lt;ETX&gt; to the DTE marking the end of the frame. The
modem then generates either the OK message if no errors were detected or the
ERROR message if errors were detected (FCS is incorrect), and returns to
command mode.<p>
While in command mode, the modem continues to receive data in the selected
modulation scheme, and sends the data after sending the CONNECT message to the
DTE when the DTE reissues the +FRH command with the same parameter. If the DTE
issues the +FRH command with a different parameter, the modem clears all
buffers and proceeds as described previously.<p>
If carrier is lost while in command mode and the DTE reissues the +FRH command
with the same parameter, and there is no data in the buffer, the modem sends
the ERROR result code to the DTE and returns to the command mode. If there is
data in the buffer, the modem sends the next frame of buffered data to the DTE,
followed by &lt;DLE&gt;&lt;ETX&gt;, and either the ERROR result code if errors
were detected or the OK result code if no errors were detected. The modem then
returns to command mode.<p>
The modem concludes an error is detected if carrier is lost for any period of
time during or before the reception of a frame. If carrier is lost for a time
period longer than the time specified by the register S10, the modem finishes
delivering the data in the receive buffer (if any) to the DTE, sends
&lt;DLE&gt;&lt;ETX&gt;, generates the ERROR message, and returns to command
mode. All subsequent data received from the remote is discarded.<p>
If the modem detects a frame abort sequence (seven consecutive ones with no
zero insertion) while it is waiting for a frame beginning flag (it was
receiving HDLC flags), it will wait for the HDLC flags again until either
carrier is lost, or the DTE aborts the process by sending an abort character or
by dropping DTR with &amp;D2 in effect. If the frame abort sequence is detected
while the modem is receiving a frame it finishes delivering the data in the
receive buffer (if any) to the DTE, sends &lt;DLE&gt;&lt;ETX&gt;, generates the
ERROR message, and returns to command mode. The modem keeps looking for HDLC
flags followed by more data from the remote, with the selected modulation
scheme.<p>
If the modem detects a receive buffer overflow condition, it concludes that
there was an FCS error in that frame. The modem will receive more frames only
if a starting flag is detected and there is room in the receive buffer. If a
starting flag is detected and there is no room in the buffer, the modem
discards all data in that frame.<p>
If the modem receives any character from the DTE after the +FRH command (except
flow control characters if software flow control is in effect), or if the modem
detects a high-to-low transition of the DTR signal while &amp;D1 is in effect,
it sends &lt;DLE&gt;&lt;ETX&gt; to the DTE, generates OK result code, and
returns to command mode. The receive buffer is cleared and all data received
from the remote is discarded. If the modem detects a DTR drop while &amp;D2 is
in effect, it goes on-hook, sends &lt;DLE&gt;&lt;ETX&gt; to the DTE, generates
OK result code, and returns to command mode. If the modem detects a DTR drop
while &amp;D3 is in effect, the modem performs a warm reset.
<a name="_Toc343068413"></a><a name="_Toc347715666"></a>
<p class="bodytext"><b><i>
<a name="RTFToC237">5.1.8
Fax Data Transmission</a>
</i></b></p>
Fax data transmission is initiated by the AT+FTM=n command. After this command
is issued, the modem generates the CONNECT message and transmits carrier in the
modulation scheme specified by the parameter n. The modem then transmits
constant 1 bits for a minimum of one second and continues to transmit constant
1 bits until it receives a character from the DTE.<p>
When data is received from the DTE, the modem deletes start and stop bits and
deletes all &lt;DLE&gt;&lt;chr&gt; character pairs before transmitting the data
to the remote. Each &lt;DLE&gt;&lt;DLE&gt; sequence is transmitted as a single
&lt;DLE&gt;. &lt;DLE&gt;&lt;ETX&gt; is considered as the end of stream marker,
and is not transmitted. All data received from the DTE after the
&lt;DLE&gt;&lt;ETX&gt; is ignored by the modem until the modem generates either
the CONNECT, OK, or ERROR result code.<p>
If no more data is in the transmit buffer, and the last transmitted character
was not an ASCII NULL, the modem generates the OK result code and returns to
the command mode. If the last character transmitted was an ASCII NULL, the
modem generates the CONNECT message to the DTE and waits for further data from
the DTE while transmitting NULLs to the remote. If more data is received before
five seconds elapse, the modem continues to transmit the data as described in
the previous paragraph. If five seconds elapse and no data is received from the
DTE, the modem drops carrier, goes on-hook, and generates the ERROR result code.
<a name="_Toc343068414"></a><a name="_Toc347715667"></a>
<p class="bodytext"><b><i>
<a name="RTFToC238">5.1.9
Fax Data Reception</a>
</i></b></p>
Fax data reception is initiated using the AT+FRM=n command. After this command
is issued, the modem looks for carrier in the modulation scheme specified by
the parameter n. If no carrier is detected before the period of time specified
by register S7 expires, the modem generates the NO CARRIER message and returns
to command mode. If a V.21 carrier is detected when a high speed carrier is
expected, the modem generates the +FCERROR message and returns to the command
mode. If the specified carrier is detected, the modem generates the CONNECT
message and enters the data receive mode.<p>
While in data receive mode, the modem receives data from the remote, adds start
and stop bits, and handles &lt;DLE&gt;&lt;chr&gt; character pairs before
passing the data to the DTE. The modem prefixes each &lt;DLE&gt; character with
another &lt;DLE&gt; character before sending it to the DTE.<p>
If the modem detects a receive buffer overflow condition, it stops receiving
from the remote until there is room in the receive buffer. The modem informs
the DTE of the buffer overflow after it sends to the DTE the last character
that was stored in the buffer before the overflow occurred.<p>
If the modem receives any character from the DTE after the +FRM command (except
flow control characters if software flow control is in effect), or if the modem
detects a high-to-low transition of the DTR signal while &amp;D1 is in effect,
it sends &lt;DLE&gt;&lt;ETX&gt; to the DTE, generates the OK result code, and
returns to command mode. The receive buffer is cleared and all data received
from the remote is discarded. If loss of DTR is detected while &amp;D2 is in
effect, the modem goes on-hook, sends &lt;DLE&gt;&lt;ETX&gt; followed by OK
result code to the DTE, and returns to command mode. If the modem detects a DTR
drop while &amp;D3 is in effect, the modem performs a warm reset.
<a name="_Toc343068415"></a><a name="_Toc347715668"></a>
<p class="bodytext"><b>
<a name="RTFToC239">5.2
COMMANDS</a>
<a name="_Toc343068416"></a><a name="_Toc347715669"></a></b></p>
<p class="bodytext"><i>
<a name="RTFToC240">+FCLASS=n
- Select Service Class</a></a>
</a></i></p>
+FCLASS=n command sets the active service class.<p>
Parameters: 0-2 <p>
Command options:<p>
+FCLASS=0	Select Data Mode (Default.)<p>
+FCLASS=1	Select Facsimile Class 1<p>
+FCLASS=2	Select Facsimile Class 2
<a name="_Toc343068417"></a><a name="_Toc347715670"></a>
<p class="bodytext"><i>
<a name="RTFToC241">+F&lt;command&gt;?
- Report Active Configuration</a>
</i></p>
+F&lt;command&gt;? interrogates the modem to determine the active
configuration.<p>
Typical responses are:<p>
+FAE?	0 if auto answer is disabled; 1 if auto answer is enabled<p>
+FCLASS?	0 if in data mode; 1 if in fax class 1; 2 if in fax class 2
<a name="_Toc343068418"></a><a name="_Toc347715671"></a>
<p class="bodytext"><i>
<a name="RTFToC242">+F&lt;command&gt;=?
- Report Operating Capabilities</a>
</i></p>
+F&lt;command&gt;=? can be used to determine the operating capabilities of the
modem.<p>
Typical responses are:<p>
+FAE=?	0 or 1<p>
+FCLASS=?	0, 1, or 2<p>
+FTM=?	24, 48, 72, 73, 74, 96, 97, 98, 121, 122, 145, 146 <p>
+FRM=?	24, 48, 72, 73, 74, 96, 97, 98, 121, 122, 145, 146 
<a name="_Toc343068419"></a><a name="_Toc347715672"></a>
<p class="bodytext"><i>
<a name="RTFToC243">+FAE=n
- Data/Fax Auto Answer</a>
</i></p>
+FAE=n allows the DTE to either restrict answering to class 1, or to
automatically detect whether the calling station is a fax class 1 modem or data
modem, and answer accordingly. <p>
Parameters: n = 0 or 1<p>
Command options:<p>
n = 0	Disable data/fax auto answer mode. The modem answers as a fax modem only.
(Default.)<p>
n = 1	Enable data/fax auto answer mode. The modem answers as a fax or data
modem.<p>
After a data (not fax) connection is achieved (indicated by the DATA result
code), the DTE must issue an ATO command to cause the modem to go on-line.
<a name="_Toc343068420"></a><a name="_Toc347715673"></a>
<p class="bodytext"><i>
<a name="RTFToC244">+FTS=n
- Stop Transmission and Wait</a>
</i></p>
+FTS=n causes the modem to terminate a transmission and wait for n 10-ms
intervals before responding with the OK result code. An ERROR response code
results if this command is issued while the modem is on-hook.
<a name="_Toc343068421"></a><a name="_Toc347715674"></a>
<p class="bodytext"><i>
<a name="RTFToC245">+FRS=n
- Receive Silence</a>
</i></p>
+FRS=n causes the modem to report back to the DTE with an OK result code after
n 10 ms-intervals of silence have been detected on the line. This command is
aborted if any character is received from the DTE. The modem discards the
aborting character and issues an OK result code. An ERROR response code results
if this command is issued while the modem is on-hook.
<a name="_Toc343068422"></a><a name="_Toc347715675"></a>
<p class="bodytext"><i>
<a name="RTFToC246">+FTM=n
- Transmit Data</a>
</i></p>
+FTM=n causes the modem to transmit data using the modulation defined below. An
ERROR response code results if this command is issued while the modem is
on-hook.<p>
Parameters: See Command options<p>
Command options:<p>
	+FTM=24	V.27 ter 2400 bps<br>	+FTM=48	V.27 ter 4800 bps<br>	+FTM=72	V.29 7200
bps<br>	+FTM=73	V.17 7200 bps long<br>	+FTM=74	V.17 7200 bps short <br>	+FTM=96
V.29 9600 bps<br>	+FTM=97	V.17 9600 bps long<br>	+FTM=98	V.17 9600 bps
short<br>	+FTM=121	V.17 12000 bps long<br>	+FTM=122	V.17 12000 bps short<br>
+FTM=145	V.17 14400 bps long<br>	+FTM=146	V.17 14400 bps short
<a name="_Toc343068423"></a><a name="_Toc347715676"></a>
<p class="bodytext"><i>
<a name="RTFToC247">+FRM=n
- Receive Data</a>
</i></p>
+FRM=n causes the modem to enter the receiver mode using the modulation defined
below. An ERROR response code results if this command is issued while the modem
is on-hook.<p>
Parameters: See Command options<p>
Command options:<p>
	+FRM=24	V.27 ter 2400 bps<br>	+FRM=48	V.27 ter 4800 bps<br>	+FRM=72	V.29 7200
bps <br>	+FRM=73	V.17 7200 bps long <br>	+FRM=74	V.17 7200 bps short <br>
+FRM=96	V.29 9600 bps <br>	+FRM=97	V.17 9600 bps long<br>	+FRM=98	V.17 9600 bps
short<br>	+FRM=121	V.17 12000 bps long<br>	+FRM=122	V.17 12000 bps short<br>
+FRM=145	V.17 14400 bps long<br>	+FRM=146	V.17 14400 bps short
<a name="_Toc343068424"></a><a name="_Toc347715677"></a>
<p class="bodytext"><i>
<a name="RTFToC248">+FTH=n
- Transmit Data with HDLC Framing</a>
</i></p>
+FTH=n causes the modem to transmit data using HDLC protocol and the modulation
defined below. An ERROR response code results if this command is issued while
the modem is on-hook.<p>
Parameters: See Command options.<p>
Command options:<p>
	+FTH=3	V.21 channel 2 300 bps<br>	+FTH=24	V.27 ter 2400 bps<br>	+FTH=48	V.27
ter 4800 bps<br>	+FTH=72	V.29 7200 bps<br>	+FTH=73	V.17 7200 bps long <br>
+FTH=74	V.17 7200 bps short <br>	+FTH=96	V.29 9600 bps<br>	+FTH=97	V.17 9600
bps long<br>	+FTH=98	V.17 9600 bps short<br>	+FTH=121	V.17 12000 bps long<br>
+FTH=122	V.17 12000 bps short<br>	+FTH=145	V.17 14400 bps long<br>	+FTH=146
V.17 14400 bps short
<a name="_Toc343068425"></a><a name="_Toc347715678"></a>
<p class="bodytext"><i>
<a name="RTFToC249">+FRH=n
- Receive Data with HDLC Framing</a>
</i></p>
+FRH=n causes the modem to receive frames using HDLC protocol and the
modulation defined below. An ERROR response code results if this command is
issued while the modem is on-hook.<p>
Parameters: See Command options.<p>
Command options:<p>
	+FTH=3	V.21 channel 2 300 bps<br>	+FRH=24	V.27 ter 2400 bps<br>	+FRH=48	V.27
ter 4800 bps<br>	+FRH=72	V.29 7200 bps<br>	+FRH=73	V.17 7200 bps long <br>
+FRH=74	V.17 7200 bps short <br>	+FRH=96	V.29 9600 bps<br>	+FRH=97	V.17 9600
bps long<br>	+FRH=98	V.17 9600 bps short<br>	+FRH=121	V.17 12000 bps long<br>
+FRH=122	V.17 12000 bps short<br>	+FRH=145	V.17 14400 bps long<br>	+FRH=146
V.17 14400 bps short
<a name="_Toc343068426"></a><a name="_Toc347715679"></a>
<p class="bodytext"><b>
<a name="RTFToC250">5.3
EXAMPLES</a>
</b></p>
Examples of calling (transmitting) and answering (receiving) one page using fax
class 1 commands are shown in Table 5-2 and Table 5-3, respectively. <p>
<a name="_Ref345289274"></a><a name="_Toc347715841"></a><p>
<b>Table 5-2. Fax Class 1 Calling Sequence (One Page)</b><p>
<b>	DTE Commands	DCE Responses	<br>	(Host)	(Modem)	Remote Fax	Notes</b><p>
	(1)	AT+FCLASS=1	(2)	OK			Set to Class 1<p>
	<b>PHASE A</b><p>
	(3)	ATDT6163	(4)	Dials	(5)	Answers	+FRH=3 implied by dialing<br>			(6)
CONNECT	(7)	Send HDLC flags<p>
	<b>PHASE B</b><p>
					(8)	Send NSF frame<br>			(9)	&lt;NSF&gt;,OK<br>	(10)	AT+FRH=3	(11)
CONNECT<br>					(12)	Send CSI frame<br>			(13)	&lt;CSI&gt;,OK<br>	(14)	AT+FRH=3
(15)	CONNECT<br>					(16)	Send DIS frame	Last frame bit = 1<br>			(17)
&lt;DIS&gt;,OK	(18)	Drop carrier<br>	(19)	AT+FTH=3	(20)	Send HDLC flags	(21)
Receive flags<br>			(21)	CONNECT<br>	(22)	&lt;TSI&gt;	(23)	Send TSI frame	(24)
Receive TSI	Last frame bit = 0<br>			(25)	CONNECT<br>	(26)	&lt;DCS&gt;	(27)
Send DCS frame	(28)	Receive DCS	Last frame bit = 1<br>			(29)	Detect last frame
bit<br>			(39)	OK, drop carrier<br>	(31)	AT+FTS=8	(32)	OK, wait 80 ms<br>	(33)
AT+FTM=96	(34)	Send V.29<br>			(35)	CONNECT<br>	(36)	&lt;TCF&gt;	(37)	Send TCF
data	(38)	Receive &amp; check<br>			(39)	OK<br>	(40)	AT+FRH=3	(41)	CONNECT<br>
(42)	Send CFR frame			Last frame bit = 1<br>	(43)	&lt;CFR&gt;,OK	(44)	Drop
carrier<br>			(45)	OK<p>
	<b>PHASE C</b><p>
	(46)	AT+FTM=96	(47)	Send V.29<br>			(48)	CONNECT<br>	(49)	age data	(50)	Send
page data	(51)	Receive data<br>			(52)	OK<br>	(53)	AT+FTH=3	(54)	Send HDLC
flags	(55)	Receive flags<br>			(56)	CONNECT<p>
<b>	PHASE D</b><p>
	(57)	&lt;EOP&gt;	(58)	Send EOP frame	(59)	Receive EOP	Last frame bit = 1<br>
(60)	OK, drop carrier<br>	(61)	AT+FRH=3	(62)	CONNECT<br>					(63)	Send MCF
frame	Last frame bit = 1<br>			(64)	&lt;MCF&gt;, OK<br>	(65)	AT+FTH=3	(66)	Send
HDLC flags	(67)	Receive flags<br>			(68)	CONNECT<br>	(69)	&lt;DCN&gt;	(70)	Send
DCN frame	(71)	Receive DCN	Last frame bit = 1<br>			(72)	OK, drop carrier<p>
	<b>PHASE E</b><p>
	(73)	ATH0	(74)	OK, hang up	(75)	Hang up
<a name="_Ref345289293"></a><a name="_Toc347715842"></a><p>
<b>Table 5-3. Fax Class 1 Answering Sequence (One Page)</b><p>
<b>	DTE Commands	DCE Responses		<br>	(Host)	(Modem)	Remote Fax	Notes</b><p>
	(1)	AT+FCLASS=1	(2)	OK			Set to Class 1<p>
	<b>PHASE A</b><p>
					(3)	FAX machine dials<br>			(4)	RING<br>	(5)	ATA	(6)	Modem answers<br>
(7)	Send HDLC flags	(8)	Receive flags	+FTH=3 implied by<br>							answering<br>
	(9)	CONNECT<p>
	<b>PHASE B</b><p>
	(10)	&lt;NSF&gt;	(11)	Send NSF frame	(12)	Receive NSF	Last frame bit = 0<br>
(13)	CONNECT<br>	(14)	&lt;CSI&gt;	(15)	Send CSI frame	(16)	Receive CSI	Last
frame bit = 0<br>			(17)	CONNECT<br>	(18)	&lt;DIS&gt;	(19)	Send DIS frame	(20)
Receive DIS	Last frame bit = 1<br>			(21)	OK, drop carrier<br>	(22)	AT+FRH=3
(23)	CONNECT<br>					(24)	Send TSI frame	Last frame bit = 0<br>			(25)
&lt;TSI&gt;, OK<br>	(26)	AT+FRH=3	(27)	CONNECT<br>					(28)	Send DCS frame	Last
frame bit = 1<br>			(29)	&lt;DCS&gt;, OK	(30)	Drop Carrier<br>	(31)
AT+FRM=96<br>					(32)	Send V.29<br>			(33)	CONNECT	(34)	Send TCF frame<br>
(35)	&lt;TCF&gt;	(36)	Drop carrier<br>			(37)	NO CARRIER<br>	(38)	AT+FTH=3	(39)
CONNECT<br>	(40)	&lt;CFR&gt;	(41)	Send CFR frame	(42)	Receive CFR	Last frame
bit = 1<br>			(43)	OK, drop carrier<p>
	<b>PHASE C</b><p>
	(44)	AT+FRM=96<br>					(45)	Send page data<br>			(46)	&lt;page data&gt;	(47)
Drop carrier<br>			(48)	NO CARRIER<p>
	<b>PHASE D</b><p>
	(49)	AT+FRH=3	(50)	CONNECT<br>					(51)	Send EOP frame	Last frame bit = 1<br>
(52)	&lt;EOP&gt;, OK<br>	(53)	AT+FTH=3	(54)	CONNECT<br>	(55)	&lt;MCF&gt;	(56)
Send MCF frame	(57)	Receive MCF	Last frame bit = 1<br>			(58)	OK, drop
carrier<br>	(59)	AT+FRH=3	(60)	CONNECT<br>					(61)	Send DCN frame	Last frame
bit = 1<br>			(62)	&lt;DCN&gt;, OK<p>
	<b>PHASE E</b><p>
	(73)	ATH0	(74)	OK, hang up	(75)	Hang up	<p>
   
<a name="_Toc343068427"></a><a name="_Toc347715680"></a>
<p class="subheadlinktext">
<a name="RTFToC251">6. FAX CLASS 2 COMMANDS</a>
</p>
The fax class 2 commands are summarized in Table 6-1.
<a name="_Toc343068428"></a><a name="_Toc347715681"></a>
<p class="bodytext"><b>
<a name="RTFToC252">6.1
COMMAND SYNTAX AND GUIDELINES</a>
<a name="_Toc343068429"></a><a name="_Toc347715682"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC253">6.1.1
DTE Commands</a></a>
</a></i></b></p>
The ISO 646 character set (CCITT T.50 International Alphabet 5, American
Standard Code for Information Interchange) is used for the issuance of commands
and responses. Only the low-order 7 bits of each character are used for
commands or parameters; the high order bit is ignored. Upper case characters
are equivalent to lower case characters.<p>
For Phase C data transmission or reception, all 8 bits are needed.
<a name="_Toc343068430"></a><a name="_Toc347715683"></a>
<p class="bodytext"><i>
<a name="RTFToC254">DTE
Command Lines</a>
</i></p>
A command line is a string of characters sent from a DTE to the modem (DCE)
while the modem is in a command state. A command line has a prefix, a body, and
a terminator. Each command line (with the exception of the A/ command) must
begin with the character sequence AT and must be terminated by a carriage
return. Commands entered in upper case or lower case are accepted, but both the
A and T must be of the same case, i.e., "AT" = ASCII 065, 084 or "at" = ASCII
097, 116. The body is a string of commands restricted to printable ASCII
characters (032 - 126). Space characters (ASCII 032) and control characters
other than CR (ASCII 013) and BS (ASCII 010) in the command string are ignored.
The default terminator is the ASCII &lt;CR&gt; character. Characters that
precede the AT prefix are ignored. The command line interpretation begins upon
receipt of the carriage return character.
<a name="_Toc343068431"></a><a name="_Toc347715684"></a>
<p class="bodytext"><i>
<a name="RTFToC255">Facsimile
Command Syntax</a>
</i></p>
After the "AT" or "at" prefix, facsimile commands use extended syntax. Each
command is preceded by the "+F" character and consists of single characters and
a decimal parameter (if applicable) terminated by the semicolon ":" character
(ASCII 059) or by the &lt;CR&gt; that terminated the command line. A missing
decimal parameter is evaluated as 0. <p>
For example, the command to instruct the modem to automatically answer a data
or fax call and also enable reception is:<p>
AT+FAE=0; +FCR 1 &lt;CR&gt;<p>
Basic data mode and fax service class mode select commands are:<p>
AT+FCLASS=0 &lt;CR&gt;	for Data Mode<p>
AT+FCLASS=1 &lt;CR&gt;	for Service Class 1 Fax<p>
AT+FCLASS=2 &lt;CR&gt;	for Service Class 2 Fax<p>
In Class 2, the DCE makes and terminates calls, manages the communication
session and negotiates (T.30 protocol) and transports the image date to DTE.
The T.4 protocol management of image data, etc., is done by DTE.<p>
The response to <p>
AT+FCLASS= 0&lt;CR&gt;	in Data Mode<p>
or<p>
AT+FCLASS=2&lt;CR&gt;	in Service Class 2 Fax<p>
is<p>
OK<p>
The service class may be set by the DTE from the choices available using the
"+FCLASS=&lt;VALUE&gt;" command.<p>
General Rules<p>
1.	+Fnnn commands must be entered completely, otherwise an ERROR response is
sent.<p>
2.	All response messages are preceded and followed by &lt;CR&gt;&lt;LF&gt;.
Multiple response commands (e.g., +FDIS: +FCSI: and +FDCS:) will, therefore,
appear to a have a blank line between them.<p>
3.	Fax Class 2 commands can be separated by the ":" character. The ";"
character can be omitted if desired. Note that non-data commands cannot be
separated by the ";" which is allowed as a dial modifier. <p>
<a name="_Ref345291990"></a><a name="_Toc347715843"></a><p>
<b>Table 6-1. Fax Class 2 Commands</b>

<pre>
         Command            Function                                
                        Service Class ID                              
+FCLASS=                    Service Class                           
                     Class 2 Action Commands                          
D                           Originate a Call                        
A                           Answer a Call                           
+FDT                        Data Transmission                       
+FET=N                      Transmit Page Punctuation               
+FDR                        Begin or Continue Phase C Receive Data  
+FK                         Session Termination                     
                      Class 2 DCE Responses                           
+FCON                       Facsimile Connection Response           
+FDCS:                      Report Current Session                  
+FDIS:                      Report Remote Identification            
+FCFR                       Indicate Confirmation to Receive        
+FTSI:                      Report the Transmit Station ID          
+FCSI:                      Report the Called Station ID            
+FPTS:                      Page Transfer Status                    
+FET:                       Post Page Message Response              
+FHNG                       Call Termination with Status            
                   Class 2 Session Parameters                         
+FMFR?                      Identify Manufacturer                   
+FMDL?                      Identify Model                          
+FREV?                      Identify Revision                       
+FDCC=                      DCE Capabilities Parameters             
+FDIS=                      Current Sessions Parameters             
+FDCS=                      Current Session Results                 
+FLID=                      Local ID String                         
+FCR                        Capability to Receive                   
+FPTS=                      Page Transfer Status                    
+FCR=                       Capability to Receive                   
+FAE                        Adaptive Answer                         
+FBUF?                      Buffer Size (Read Only)                 
+FPHCTO                     Phase C Time Out                        
+FAXERR                     Fax Error Value                         
+FBOR                       Phase C Data Bit Order                  

</pre>
<p>
<p>
<p>
4.	All Class 2 commands are assumed to be the final command on a command line.
Additional characters will be ignored.<p>
5.	An ERROR message will be generated if any of the following conditions
occur:<p>
a.	A Class 1 command is received while in Class 2.<p>
b.	A Class 2 command is received while in Class 1.<p>
c.	A Class 1 or Class 2 action command is received while in data modem mode.<p>
d.	A Class 2 read-only parameter is given the "=" form of a +F command (e.g.,
AT+FAXERR=5).<p>
e.	A Class 2 action command is given the inappropriate "=" or "=?" form (e.g.,
AT+FDR=?).
<a name="_Toc343068432"></a><a name="_Toc347715685"></a>
<p class="bodytext"><b><i>
<a name="RTFToC256">6.1.2
Serial Port Speed and Flow Control</a>
</i></b></p>
During fax mode, the DTE-DCE port speed is 19200 bps.<p>
The DCE provides a speed buffer of 1024 bytes and provides the DC1/DC3
(XON/XOFF) or RTS/CTS method of controlling the data into the buffer. This flow
control is controlled by the &amp;K3 or &amp;K4 command.<p>
This method of data flow control is available only for DTE to DCE direction of
data. There is no provision for data flow control from DCE to DTE.
<a name="_Toc343068433"></a><a name="_Toc347715686"></a>
<p class="bodytext"><i>
<a name="RTFToC257">Data
Stream Termination</a>
</i></p>
The DCE exchanges streams of data with the DTE while executing data transfer
commands. These data streams use the termination described in Section 3.2/ISO
2111.<p>
The ASCII &lt;DLE&gt; character (016) is used as a special character to shield
special characters. The &lt;DLE&gt;&lt;ETX&gt; character pair
(&lt;106&gt;&lt;003&gt;) is used to mark the end of a stream. The following
patterns are used:<p>
any data...&lt;DLE&gt;&lt;ETX&gt;	end of stream<p>
any data...&lt;DLE&gt;&lt;DLE&gt;	single &lt;DLE&gt; in data<p>
any data...&lt;DLE&gt;&lt;any byte&gt;	delete &lt;DLE&gt;&lt;any byte&gt;
<a name="_Toc343068434"></a><a name="_Toc347715687"></a>
<p class="bodytext"><i>
<a name="RTFToC258">DTE
to DCE Streams</a>
</i></p>
The DCE filters the data stream from the DTE, and removes all character pairs
beginning with &lt;DLE&gt;. The DCE recognizes &lt;DLE&gt;&lt;ETX&gt; as the
stream terminator. The DCE recognizes &lt;DLE&gt;&lt;DLE&gt; and reinserts a
single &lt;DLE&gt; in its place.<p>
The DTE must filter stream data to the DCE, and insert extra &lt;DLE&gt;
characters ahead of data.
<a name="_Toc343068435"></a><a name="_Toc347715688"></a>
<p class="bodytext"><i>
<a name="RTFToC259">DCE
to DTE Streams</a>
</i></p>
The DTE must filter the data stream from the DCE, and remove all character
pairs beginning with &lt;DLE&gt;. The DTE must recognize &lt;DLE&gt;&lt;ETX&gt;
as the stream terminator. The DTE must recognize &lt;DLE&gt;&lt;DLE&gt; and
reinsert a single &lt;DLE&gt; in its place.<p>
The DCE filters stream data to the DTE, and inserts extra &lt;DLE&gt;
characters ahead of data.
<a name="_Toc343068436"></a><a name="_Toc347715689"></a>
<p class="bodytext"><b><i>
<a name="RTFToC260">6.1.3
Auto Answer</a>
</i></b></p>
The DCE can answer as a data DCE or as a fax DCE. It can answer the call
adaptively, i.e., it can determine whether the call is 'data' or 'fax'. The
+FAA parameter controls this feature.<p>
AT+FAA=1	; Auto answer as a facsimile or a data modem depending on the call<p>
CONNECT XXXX	; DCE status response if data call<p>
+FCON	; DCE status response if fax call
<a name="_Toc343068437"></a><a name="_Toc347715690"></a>
<p class="bodytext"><b><i>
<a name="RTFToC261">6.1.4
Identification of T.30 Options</a>
</i></b></p>
Group 3 devices negotiate session parameters in DIS, DCS, and DTC frames. These
parameters are defined in Table 6-2.
<a name="_Toc343068438"></a><a name="_Toc347715691"></a>
<p class="bodytext"><b><i>
<a name="RTFToC262">6.1.5
Session Status Reporting</a>
</i></b></p>
The DCE provides reports to the DTE on the status of a session. The DCE
provides the following status reports:<p>
1.	Connection and hang up status:<p>
+FCON<p>
+FHNG:&lt;0-255&gt;<p>
2.	Requested DIS session parameters +FDIS: &lt;string&gt; reports remote
facsimile capabilities.<p>
Syntax: +FDIS: VR, BR, WD, LN, DF, EC, BF, ST<p>
3.	+FDCS: &lt;string&gt; reports the negotiated parameters<p>
4.	Phase C prompts:<p>
XON, XOFF, DC2<p>
5.	Phase C base status reports: depending upon copy quality and related end-of
page status:<p>
+FPTS: &lt;1-5&gt;
<a name="_Toc343068439"></a><a name="_Toc347715692"></a>
<p class="bodytext"><b><i>
<a name="RTFToC263">6.1.6
Procedure Interrupt Negotiation</a>
</i></b></p>
CCITT allows a station to request a procedure interruption at the end of a
page. This request is passed between stations by the PIP, PIN, and PRI-Q
messages.
<a name="_Toc343068440"></a><a name="_Toc347715693"></a>
<p class="bodytext"><b>
<a name="RTFToC264">6.2
SERVICE CLASS 2 IDENTIFICATION AND SELECTION</a>
</b></p>
Three commands report identification and selection information. Each of these
three commands cause the DCE to send a message to the DTE. The messages are
programmable using ConfigurACE.
<a name="_Toc343068441"></a><a name="_Toc347715694"></a>
<p class="bodytext"><b><i>
<a name="RTFToC265">6.2.1
+FMFR?, Request Manufacturer Identification</a> 
</i></b></p>
The +FMFR? command causes the DCE to send a message identifying the DCE product
manufacturer. The default message is:<p>
ROCKWELL<br>OK
<a name="_Toc343068442"></a><a name="_Toc347715695"></a>
<p class="bodytext"><b><i>
<a name="RTFToC266">6.2.2
+FMDL?, Identify Product Model</a> 
</i></b></p>
The +FMDL? command causes the DCE to send a message identifying the DCE product
model. The default message is similar to:<p>
RC96XXXAC<br>OK
<a name="_Toc343068443"></a><a name="_Toc347715696"></a>
<p class="bodytext"><b><i>
<a name="RTFToC267">6.2.3
+FREV?, Identify Product Revision</a> 
</i></b></p>
The +FREV? command causes the DCE to send a message identifying the DCE product
model revision number. The message format is the same as the ATI3 message,
e.g.:<p>
VX.XXX-model number<br>OK
<a name="_Toc343068444"></a><a name="_Toc347715697"></a>
<p class="bodytext"><b>
<a name="RTFToC268">6.3
SERVICE CLASS 2 ACTION COMMANDS</a>
</b></p>
These commands transfer data, and punctuate sessions. They also release
specific T.30 messages. All action commands must be the last command on a
command line as indicated by the terminating &lt;CR&gt;.<p>
All action commands initiate processes. The modem will not accept other
commands from the DTE until the modem issues a final result code (e.g., OK,
CONNECT). The modem will abort the process if it receives any character before
the final result code is issued.
<a name="_Toc343068445"></a><a name="_Toc347715698"></a>
<p class="bodytext"><b><i>
<a name="RTFToC269">6.3.1
ATD, Originate a Call</a>
</i></b></p>
Syntax:	ATD....&lt;CR&gt;<p>
The DCE can support a DTE command to originate a call using the ATD command
(see Section 3.2).<p>
If this command is unsuccessful, the DCE reports an appropriate failure or
error type result code such as NO CARRIER, NO DIALTONE, or BUSY (see Section
3.3).<p>
If this call is successful, the typical DCE response is:<p>
ATDnn..nn	(go off-hook, dial, get CED)<br>+FCON	(DCE detects
flags)<br>[+FCSI:&lt;remote ID string&gt;]<br>+FDCS:&lt;T.30 subparameter
string&gt;<br>OK<p>
The DCE dials, detects call progress, and generates the CNG tone. It then waits
for a DIS frame. On detection of the first Phase B preamble (V.21 ch. 2
modulated by 300 bps HDLC flags), it reports the "+FCON" message to the DTE.
The DCE then switches to 19200 bps.<p>
The DCE generates a DCS frame based on the received DIS frame and on the
previously set +FDIS parameter. A +FDT command from the DTE releases the DCE to
transmit that DCS frame.<p>
The DCE reports the initial received T.30 negotiation messages, including the
DIS frame and the optional CSI ID string. The +FDIS: report is followed by the
OK final result code.
<a name="_Toc343068446"></a><a name="_Toc347715699"></a>
<p class="bodytext"><b><i>
<a name="RTFToC270">6.3.2
ATA, Answer a Call</a>
</i></b></p>
The DCE can support a DTE command to answer an incoming call using the ATA
command (see Section 3.2). <p>
The DTE may issue an Answer command in response to an incoming ring.<p>
If the Answer command is unsuccessful, the DCE will report an appropriate
failure or error type result code, such as NO CARRIER (see Section 3.3).
<a name="_Toc343068447"></a><a name="_Toc347715700"></a>
<p class="bodytext"><i>
<a name="RTFToC271">Manual
Call Answer</a>
</i></p>
If this call is successful, the typical DCE response (answer and receive) is:<p>
+FCON<br>[+FTSI:&lt;remote ID string&gt;]<br>+FDCS:&lt;T.30 subparameter
string&gt;<br>OK<br>(DTE should issue +FDR command here)<p>
Upon receipt of an Answer command from the DTE, the DCE answers and generates
the CED tone. The DCE then generates a DIS frame (derived from the +FDIS
parameter) and hunts for the first T.30 negotiation frames. Upon detection of
the first Phase B preamble (V.21 ch 2 modulated by 300 bps HDLC flags), it
reports the "+FCON" message to the DTE.<p>
The DTE should report the initial received T.30 negotiation messages, including
the DCS frame. The +FDCS: report will be followed by the OK final result code.
<a name="_Toc343068448"></a><a name="_Toc347715701"></a>
<p class="bodytext"><i>
<a name="RTFToC272">Automatic
Answer</a>
</i></p>
The modem provides for automatic answering of incoming calls. If configured for
automatic answer, the modem answers an incoming call in compliance with T.30,
and reports the same messages as described for manual answer.
<a name="_Toc343068449"></a><a name="_Toc347715702"></a>
<p class="bodytext"><i>
<a name="RTFToC273">Connection
as a Data Modem</a>
</i></p>
If configured to do so by the +FAA parameter, the DCE will adaptively answer as
a facsimile DCE or as a data DCE. If the DCE answers as a data DCE, it resets
the +FCLASS parameter to 0 and issues the appropriate final result code (e.g.,
CONNECT, or NO CARRIER) to the DTE.
<a name="_Toc343068450"></a><a name="_Toc347715703"></a>
<p class="bodytext"><b><i>
<a name="RTFToC274">6.3.3
+FDT, Data Transmission</a>
</i></b></p>
Syntax:	+FDT &lt;CR&gt;<p>
The +FDT command prefixes Phase C data transmission. When the DCE is ready to
accept Phase C data, it issues the negotiation responses and the CONNECT result
code to the DTE.<p>
In Phase B, the +FDT command releases the DCE to proceed with negotiation, and
releases the DCS message to the remote station. In Phase C, the +FDT command
resumes transmission after the end of a prior transmit data stream.
<a name="_Toc343068451"></a><a name="_Toc347715704"></a>
<p class="bodytext"><i>
<a name="RTFToC275">Initiate
Page Transmission</a>
</i></p>
Phase B DCE polled response:<p>
[+FCSI:&lt;remote ID string&gt;]	- if new CSI
received<br>[+FDIS:&lt;subparameters from remote station&gt;]	- if new DIS
received<br>+FDCS:&lt;T.30 subparameter string&gt;<br>CONNECT<br>&lt;XON&gt;	-
when ready for data<p>
After placing a call, or after finishing a document exchange, the DTE may
command the DCE to re-enter T.30 Phase B to attempt to negotiate a document
transmission.
<a name="_Toc343068452"></a><a name="_Toc347715705"></a>
<p class="bodytext"><i>
<a name="RTFToC276">Continue
a Page</a>
</i></p>
CONNECT<br>&lt;XON&gt;<p>
The DTE may issue more than one +FDT command for a given page, so that
different files may be concatenated together. These files must have the same
format.
<a name="_Toc343068453"></a><a name="_Toc347715706"></a>
<p class="bodytext"><i>
<a name="RTFToC277">Phase
C Data Framing</a>
</i></p>
Phase C data must be presented to the DCE in stream mode. The DCE expects Phase
C data to follow until it detects &lt;DLE&gt;&lt;ETX&gt; termination
characters. The DCE will filter the stream as described in Section 6.1.2. <p>
The DCE will acknowledge the end of the data by returning the OK result code to
the DTE.<p>
If there is data underrun before the next +FDT or +FET= command, the DCE will
zero-fill the pad as per T.4 until the Phase C timeout (+FPHCTO) is reached, or
until more data is received. The DCE appends an RTC pattern to the transmit
data after an +FET= command is received from the DTE.
<a name="_Toc343068454"></a><a name="_Toc347715707"></a>
<p class="bodytext"><i>
<a name="RTFToC278">Phase
C Data Format</a>
</i></p>
The Phase C data will be of the format specified by the negotiated T.30 DCS
frame. The +FDCS:&lt;string&gt; response is defined in Section 6.4.2. The
subparameter values are described in Table 6-2.<p>
The DCE will use the negotiated minimum Scan Time parameter from the DCS frame,
and insert sufficient fill bits to pad each line to the minimum scan time. This
is reported in the +FDCS:ST subparameter.<p>
If the DCE finds more than one consecutive EOL in Phase C data (e.g., RTC), it
will send only one EOL.<p>
1.	Phase C data must conform to T.4 specifications.<p>
2.	The DTE need not include a final RTC, since the DCE will append an RTC in
response to an FET= command.<p>
3.	Some facsimile machines may treat two EOLs as an RTC.
<a name="_Toc343068455"></a><a name="_Toc347715708"></a>
<p class="bodytext"><i>
<a name="RTFToC279">&lt;CAN&gt;,
Escape from Transmission</a>
</i></p>
The DCE may request the DTE to halt Phase C transmission, by sending a cancel
&lt;CAN&gt; character (024) to the DTE. In this case, the DTE should terminate
Phase C transmission, issue &lt;CAN&gt;, and wait for the OK response code from
the DCE.
<a name="_Ref345292034"></a><a name="_Toc347715844"></a><p>
<b>Table 6-2. T.30 Session Subparameter Codes</b>

<pre>
   Label     Function              Value         Description                                    
VR           Vertical Resolution        0        Normal, 98 lpi                                 
                                        1        Fine, 196 lpi                                  
BR           Bit Rate (See Note                  +FDCS (originate)        +FDIS (answer)        
             1)                                                                                 
                                        0        2400 bps/V.27 ter        V.27 ter (2400 only)  
                                        1        4800 bps/V.27 ter        V.27 ter              
                                        2        7200 bps/V.29            V.29, V.27 ter        
                                        3        9600 bps /V.29 or V.17   V.29, V.27 ter        
                                        4        12000 bps/V.33 or V.17   V.17, V.33, V.29,     
                                                                          V.27 ter              
                                        5        14400 bps/V.33 or V.17   V.17, V.33, V.29,     
                                                                          V.27 ter              
WD           Page Width                 0        1728 pixels in 215 mm                          
                                        1        2048 pixels in 255 mm                          
                                        2        2432 pixels in 303 mm                          
                                        3*       1216 pixels in 151 mm                          
                                        4*       864 pixels in 107 mm                           
LN           Page Length                0        A4, 297 mm                                     
                                        1        B4, 364 mm                                     
                                        2        unlimited length                               
DF           Data Compression           0        1-D modified Huffman                           
             Format                                                                             
                                        1*       2-D modified Read                              
                                        2*       2-D uncompressed mode                          
                                        3*       2-D modified modified                          
                                                 Read                                           
EC           Error Correction           0        Disable ECM                                    
             (Annex A/T.30)             1*       Enable ECM, 64                                 
                                                 bytes/frame                                    
                                        2*       Enable ECM, 256                                
                                                 bytes/frame                                    
BF           Binary File Transfer       0        Disable BFT                                    
                                        1*       Enable BFT                                     
ST           Scan Time/Line                      VR = normal              VR = fine             
                                        0        0 ms                     0 ms                  
                                        1        5 ms                     5 ms                  
                                        2        10 ms                    5 ms                  
                                        3        10 ms                    10 ms                 
                                        4        20 ms                    10 ms                 
                                        5        20 ms                    20 ms                 
                                        6        40 ms                    20 ms                 
                                        7        40 ms                    40 ms                 
Notes: 1. CCITT T.30 does not provide for the answering station to specify all speeds                     
exactly using the DIS frame. Implementation of some BR codes (e.g., code 2) by an answering               
DCE is manufacturer specific. * Not supported.                                                            

</pre>
<a name="_Toc343068456"></a><a name="_Toc347715709"></a>
<p class="bodytext"><b><i>
<a name="RTFToC280">6.3.4
+FET, Transmit Page Punctuation</a>
</i></b></p>
Syntax:	+FET=&lt;ppm&gt;[,&lt;pc&gt;,&lt;bc&gt;,&lt;fc&gt;]<p>
DCE response:<p>
+FPTS:&lt;ppr&gt;	- when receive from remote OK<p>
This command is used to punctuate page and document transmission after one or
more +FDT commands. This command generates T.30 Post Page Messages selected by
the &lt;ppm&gt; code (Table 6-3).<p>
The +FET=&lt;ppm&gt; command indicates that the current page is complete; no
more data will be appended to it. The value indicates whether there are any
additional pages are to be sent and, if so, whether there is a change in any of
the document parameters.<p>
The DTE can command the DCE to generate PRI-Q messages with the
+FET=&lt;ppm&gt; command using ppm codes 4-6 (Table 6-3).<p>
This command must be sent within the time out specified by +FPHCTO after
sending Phase C data, or else the DCE will end the page and document
transmission. If the Phase C timeout is reached, the DCE sends an EOP post page
message and terminates the session.<p>
The remote facsimile station should respond to the post page message with a
post page response. The DCE will report this using the +FPTS:&lt;ppr&gt;
response (Table 6-4).
<a name="_Toc343068457"></a><a name="_Toc347715710"></a>
<p class="bodytext"><i>
<a name="RTFToC281">End
a Page</a>
</i></p>
The +FET= command causes the DCE to append an RTC (6 EOL) pattern as needed and
enter Phase D by sending the selected T.30 Post Page message.<p>
The +FET=1 (EOM) command signals the remote station that the next document will
have a new DCS negotiated; this causes the session to re-enter Phase B.<p>
<a name="_Ref345292085"></a><a name="_Toc347715845"></a><p>
<b>Table 6-3. T.30 Post Page Message Codes</b>

<pre>
  ppm Code    Mnemonic                   Description                       
0             [PPS-]MPS                  Another page next, same document  
1             [PPS-]EOM                  Another document next             
2             [PPS-]EOP                  No more pages or documents        
3             PPS-NULL                   Another partial page next         
4             [PPS-]PRI-MPS              Another page, procedure           
                                         interrupt                         
5             [PPS-]PRI-EOM              Another doc., procedure           
                                         interrupt                         
6             [PPS-]PRI-EOP              All done, procedure interrupt     
=8+ppm                                   Post Page Message (ppm code)      

</pre>
<p>
<a name="_Ref345292133"></a><a name="_Toc347715846"></a><p>
<b>Table 6-4. T.30 Post Page Response Messages</b>

<pre>
  ppr Code    Mnemonic                   Description                       
1             MCF                        Page good                         
2             RTN                        Page bad; retrain requested       
3             RTP                        Page good; retrain requested      
4             PIN                        Page bad; interrupt requested     
5             PIP                        Page good; interrupt requested    

</pre>
<p>
<a name="_Toc343068458"></a><a name="_Toc347715711"></a>
<p class="bodytext"><b><i>
<a name="RTFToC282">6.3.5
+FDR, Begin or Continue Phase C Receive Data</a> 
</i></b></p>
Syntax:	+FDR &lt;CR&gt;<p>
Default value:	3 seconds in some places<p>
The +FDR command initiates transition to Phase C data reception. This can occur
after answering, dialing, a document is received, or a page is received.<p>
The DCE reports the negotiated T.30 parameters, with the remote ID information
if available. When the DCE is ready to commence data transfer, it issues a
CONNECT response code. If the DCE cannot resume data transfer because there is
no more data, it responds OK. When the DTE is ready to accept data, it issues
an &lt;DC2&gt; character (018) to the DCE.<p>
If the DTE issues an &lt;XOFF&gt; character to the DCE for flow control, the
DCE signals the DTE when its buffers are empty by sending a
&lt;DLE&gt;&lt;DC2&gt; (&lt;016&gt;&lt;018&gt;) character pair. <p>
When the DCE delivers the last byte of a page, the DCE reports the Page
Transfer Status via the +FPTS:&lt;ppr&gt; response (Table 6-4).<p>
After a Page Transfer Status Report, the DCE reports the post page message from
the remote facsimile station via the +FET:&lt;ppm&gt; response (Table 6-3)
which signals the intentions of the remote station. <p>
The DCE holds the post page response message to the remote facsimile station
(MCF, etc.), represented in the +FPTS parameter until the next +FDR command.
The DTE may modify the +FPTS parameter before issuing the +FDR command which
releases that message. The DTE must issue a +FDR command to release Post Page
Messages.
<a name="_Toc343068459"></a><a name="_Toc347715712"></a>
<p class="bodytext"><i>
<a name="RTFToC283">Initiate
Document Reception</a> 
</i></p>
The +FDR command may be issued in Phase B after an answer command, or in Phase
B after a previous document.<p>
The DCE response in stream mode is:<p>
+FCFR	when CFR sent<br>[+FTSI:&lt;remote ID string&gt;]	if new TSI
received<br>+FDCS:&lt;T.30 subparameter string&gt;]	if new DCS<p>
CONNECT<br>(&lt;DC2&gt; needed from DTE here)<br>&lt;Phase C data
stream&gt;<br>&lt;DLE&gt;&lt;ETX&gt;<br>+FPTS:&lt;ppr&gt;, &lt;lc&gt;
[,&lt;blc&gt;, &lt;cblc&gt;]<br>+FET:&lt;ppm&gt;<br>OK<br>(DTE must issue +FDR
command to release post page response)
<a name="_Toc343068460"></a><a name="_Toc347715713"></a>
<p class="bodytext"><i>
<a name="RTFToC284">Continue
Document Reception</a>
</i></p>
The DTE may issue a +FDR command in Phase D, which releases the post page
message, and indicates readiness to receive another page after receipt of a
Multipage (+FET:0) or PPS-NULL (+FET:3) message. The DCE response will be:<p>
CONNECT<br>(&lt;DC2&gt; needed from DTE here)<p>
&lt;Phase C data stream)<br>&lt;DLE&gt;&lt;ETX&gt;<br>+FPTS:&lt;ppr&gt;,
&lt;lc&gt; [,&lt;blc&gt;, &lt;cblc&gt;]<br>+FET:&lt;ppm&gt;<br>OK<br>(DTE must
issue +FDR command to release post page response)<p>
If done receiving:<p>
+FHNG: &lt;hangup cause code&gt;<br>OK<br><br>Continue page reception
<a name="_Toc343068461"></a><a name="_Toc347715714"></a>
<p class="bodytext"><i>
<a name="RTFToC285">Phase
C Data Framing</a>
</i></p>
Phase C data may be presented to the DTE in stream mode. The DCE will transfer
a stream of data to the DTE, followed by the &lt;DLE&gt;&lt;ETX&gt; stream
termination characters. The DCE will filter the stream as described in Section
6.1.2.
<a name="_Toc343068462"></a><a name="_Toc347715715"></a>
<p class="bodytext"><i>
<a name="RTFToC286">Phase
C Data Format</a>
</i></p>
The received data format is negotiated under T.30 reported by the
+FDCS:VR,BR,WD,LN,DF,EC,BF,ST response.<p>
The DCE will delete the terminating RTC (6 EOLs) patterns. 
<a name="_Toc343068463"></a><a name="_Toc347715716"></a>
<p class="bodytext"><i>
<a name="RTFToC287">&lt;CAN&gt;,
Escape from Reception</a>
</i></p>
From the +FDR command until the end of Phase D Date, the DCE is in a data
transfer state, and will not respond to DTE command characters. The DCE will
respond to three ASCII control characters: &lt;DC1&gt; (017) and &lt;DC3&gt;
(019) flow control characters, and cancel &lt;CAN&gt; (024).<p>
Upon receipt of the &lt;CAN&gt; character, the DCE will terminate the reporting
of received data by sending trailing &lt;DLE&gt;&lt;ETX&gt; characters to the
DTE, and will then execute an implied +FK command in order to conduct an
orderly disconnection.
<a name="_Toc343068464"></a><a name="_Toc347715717"></a>
<p class="bodytext"><b><i>
<a name="RTFToC288">6.3.6
+FK, Session Termination</a>
</i></b></p>
Syntax:	+FK<p>
The +FK command causes the DCE to terminate the session in an orderly manner.
In particular, the DCE will send a DCN message at the next opportunity and hang
up. At the end of the termination process, the DCE will report the +FHNG
response with result code (Table 6-5).<p>
This operation can be invoked by using the cancel &lt;CAN&gt; character during
Phase C data reception (see prior section)<p>
The DCE will wait until the current page completes, unless the reception is of
unlimited length; in that case, the DCE may halt reception and terminate the
session at any time.
<a name="_Toc343068465"></a><a name="_Toc347715718"></a>
<p class="bodytext"><b><i>
<a name="RTFToC289">6.3.7
+FCIG, Set Polling ID</a>
</i></b></p>
This command allows setting the Local Polling ID string used in a CIG frame.
The syntax of this command is identical to +FLID.<p>
Write syntax:	+FCIG="&lt;local ID string&gt;"<p>
Valid value:	20-character ASCII string<p>
Default value:	Empty
<a name="_Toc343068466"></a><a name="_Toc347715719"></a>
<p class="bodytext"><b><i>
<a name="RTFToC290">6.3.8
+FLPL, Indicate a Document for Polling</a>
</i></b></p>
This command allows setting up an answering modem to know that it has a
document available for polling. This allows a calling modem to receive this fax
from the answerer. The syntax is:<p>
AT+FLPL=?<br>0,1<br><br>OK<br>AT+FLPL=1<br><br>OK<br>AT+FLPL?<br>1
<a name="_Toc343068467"></a><a name="_Toc347715720"></a>
<p class="bodytext"><b><i>
<a name="RTFToC291">6.3.9
+FSPL, Enable Polling</a>
</i></b></p>
This command allows setting up an originating modem to be able to request to
receive a document from a polled station. The syntax is:<p>
AT+FSPL=?<br>0,1<br><br>OK<br>AT+FSPL=1<br><br>OK<br>AT+FSPL?<br>1
<a name="_Ref345292233"></a><a name="_Toc347715847"></a><p>
<b>Table 6-5. Hang Up Status Codes</b>

<pre>
    Code      Cause Description                                    
    0-9       Call Placement and Termination                       
     0        Normal and proper end of connection                  
     1        Ring Detect without successful handshake             
     2        Call aborted, from +FK or AN                         
     3        No Loop Current                                      
   10-19      Transmit Phase A &amp; Miscellaneous Errors              
     10       Unspecified Phase A error                            
     11       No Answer (T.30 T1 timeout)                          
   20-39      Transmit Phase B Hangup Codes                        
     20       Unspecified Transmit Phase B error                   
     21       Remote cannot receive or send                        
     22       COMREC error in transmit Phase B                     
     23       COMREC invalid command received                      
     24       RSPEC error                                          
     25       DCS sent three times without response                
     26       DIS/DTC received 3 times; DCS not recognized         
     27       Failure to train at 2400 bps or +FMINSP value        
     28       RSPREC invalid response received                     
   40-49      Transmit Phase C Hangup Codes                        
     40       Unspecified Transmit Phase C error                   
     43       DTE to DCE data underflow                            
   50-69      Transmit Phase D Hangup Codes                        
     50       Unspecified Transmit Phase D error                   
     51       RSPREC error                                         
     52       No response to MPS repeated 3 times                  
     53       Invalid response to MPS                              
     54       No response to EOP repeated 3 times                  
     55       Invalid response to EOP                              
     56       No response to EOM repeated 3 times                  
     57       Invalid response to EOM                              
     58       Unable to continue after PIN or PIP                  
   70-89      Receive Phase B Hangup Codes                         
     70       Unspecified Receive Phase B error                    
     71       RSPREC error                                         
     72       COMREC error                                         
     73       T.30 T2 timeout, expected page not received          
     74       T.30 T1 timeout after EOM received                   
   90-99      Receive Phase C Hangup Codes                         
     90       Unspecified Receive Phase C error                    
     91       Missing EOL after 5 seconds                          
     92       Unused code                                          
     93       DCE to DTE buffer overflow                           
     94       Bad CRC or frame (ECM or BFT modes)                  
  100-119     Receive Phase D Hangup Codes                         
    100       Unspecified Receive Phase D errors                   
    101       RSPREC invalid response received                     
    102       COMREC invalid response received                     
    103       Unable to continue after PIN or PIP                  
  120-255     Reserved Codes                                       
Note: Some codes are not implemented.                                 
<a name="_Toc343068468"></a><a name="_Toc347715721"></a>
</pre>
<p class="bodytext"><b>
<a name="RTFToC292">6.4
SERVICE CLASS 2 DCE RESPONSES</a></a>
</a></b></p>
The DCE sends information responses to the DTE as a facsimile session proceeds.
They indicate the state of the facsimile session and convey needed information.
These messages are solicited messages generated in execution of DTE action
commands described in Section 6.3.<p>
The DCE precedes and follows the information responses with
&lt;CR&gt;&lt;LF&gt;.<p>
The DCE provides the on-line status of several session parameters when they are
available during T.30 handshaking. These include the remote ID string and the
DIS/DCS parameters. These responses report the T.30 session parameter frames.
The subparameters are described in Table 6-2.
<a name="_Toc343068469"></a><a name="_Toc347715722"></a>
<p class="bodytext"><b><i>
<a name="RTFToC293">6.4.1
+FCON, Facsimile Connection Response</a> 
</i></b></p>
+FCON indicates connection with a fax machine. It is released by detection of
HDLC flags in the first received frame. +FCON is generated in response to an
Originate or Answer command.
<a name="_Toc343068470"></a><a name="_Toc347715723"></a>
<p class="bodytext"><b><i>
<a name="RTFToC294">6.4.2
+FDCS:, Report Current Session Capabilities</a>
</i></b></p>
Syntax:	+FDCS:VR,BR,WD,LN,DF,EC,BF,ST<p>
+FDCS:&lt;string&gt; reports the negotiated parameters. Phase C data will be
formatted as described by the subparameters. This message may be generated in
execution of +FDT or +FDR commands before the CONNECT result code if new DCS
frames are generated or received. (See Table 6-2.)
<a name="_Toc343068471"></a><a name="_Toc347715724"></a>
<p class="bodytext"><b><i>
<a name="RTFToC295">6.4.3
+FDIS:, Report Remote Station Capabilities</a> 
</i></b></p>
Syntax:	+FDIS:VR,BR,WD,LN,DF,EC,BF,ST <p>
+FDIS:&lt;string&gt; reports remote facsimile station capabilities and
intentions. The parameters are provided in ASCII notation. (See Table 6-2.)<p>
This message is generated in execution of Originate, Answer, +FDT, or +FDR
commands.
<a name="_Toc343068472"></a><a name="_Toc347715725"></a>
<p class="bodytext"><b><i>
<a name="RTFToC296">6.4.4
+FCFR, Indicate Confirmation to Receive</a> 
</i></b></p>
Syntax:	+FCFR<p>
The DCE sends a +FCFR response to the DTE upon reception of an acceptable TCF
training burst and a valid DCS signal from the remote machine. This indicates
that the DCE will receive Phase C data after the remote station receives the
local DCE's CFR message. The +FCFR message is generated in execution of a +FDR
command.
<a name="_Toc343068473"></a><a name="_Toc347715726"></a>
<p class="bodytext"><b><i>
<a name="RTFToC297">6.4.5
+FTSI:, Report the Transmit Station ID</a>
</i></b></p>
Syntax:	+FTSI: "&lt;TSI ID string&gt;" Transmit Station ID<p>
This response reports the received transmit station ID string, if any. This
message is generated in execution of Originate, Answer, +FDT, or +FDR commands.
<a name="_Toc343068474"></a><a name="_Toc347715727"></a>
<p class="bodytext"><b><i>
<a name="RTFToC298">6.4.6
+FCSI:, Report the Called Station ID</a>
</i></b></p>
Syntax:	+FCSI: "&lt;CSI ID string&gt;" Called Station ID<p>
This response reports the received called station ID string, if any. This
message is generated in execution of Originate, Answer, +FDT, or +FDR commands.
<a name="_Toc343068475"></a><a name="_Toc347715728"></a>
<p class="bodytext"><b><i>
<a name="RTFToC299">6.4.7
+FPTS:, Receive Page Transfer Status</a>
</i></b></p>
Syntax:	+FPTS:&lt;ppr&gt;, &lt;lc&gt; [,&lt;blc&gt;, &lt;cblc&gt;]<p>
The +FPTS:&lt;ppr&gt; is generated by the DCE at the end of Phase C data
reception in execution of a +FDR command.<p>
The &lt;ppr&gt; is generated by the DCE; it depends on the DCE capabilities at
T.4 error checking. See Table 6-4  for &lt;ppr&gt; values.<p>
The receiving DCE will count the lines. These values are;<p>
&lt;lc&gt; = line count<p>
&lt;blc = bad line count<p>
&lt;cblc&gt; = &lt;consecutive bad line count<p>
A receiving DTE may inspect &lt;ppr&gt; and write a modified value into the
+FPTS parameter. The DCE will hold the corresponding Post Page Response message
until released by a +FDR command from the DTE.
<a name="_Toc343068476"></a><a name="_Toc347715729"></a>
<p class="bodytext"><b><i>
<a name="RTFToC300">6.4.8
+FET:, Post Page Message Response</a>
</i></b></p>
Syntax:	+FET:&lt;ppm&gt;<p>
The +FET:&lt;post page message&gt; response is generated by a receiving DCE
after the end of Phase C reception on receipt of the post-page message from the
transmitting station. The +FET:&lt;ppm&gt; response is generated in execution
of a +FDR command. The &lt;ppm&gt; codes respond to the T.30 post page messages
(Table 6-3).
<a name="_Toc343068477"></a><a name="_Toc347715730"></a>
<p class="bodytext"><b><i>
<a name="RTFToC301">6.4.9
+FPTS:, Transmit Page Transfer Status</a>
</i></b></p>
Syntax:	+FPTS:&lt;ppr&gt;<p>
The +FPTS: response reports a &lt;ppr&gt; number representing the copy quality
and related post-page message responses received from the remote DCE. The valid
&lt;ppr&gt; values are defined in Table 6-4.<p>
The +FPTS:&lt;ppr&gt; response is generated in execution of a +FET=&lt;ppm&gt;
command.
<a name="_Toc343068478"></a><a name="_Toc347715731"></a>
<p class="bodytext"><b><i>
<a name="RTFToC302">6.4.10
+FHNG:, Call Termination with Status</a>
</i></b></p>
Syntax:	+FHNG:&lt;hangup status code&gt;<p>
+FHNG indicates that the call has been terminated. The hangup cause is reported
and stored in the +FAXERR parameter for later inspection. The &lt;hangup status
code&gt; values are described in Table 6-5.<p>
+FHNG:&lt;hsc&gt; is a possible intermediate result code to any DTE action
command described in Section 6.3. It is always followed by the OK final result
code.<p>
Upon termination of a call, the DCE determines the cause of termination and
reports it as part of the FHNG:&lt;hsc&gt; response. It also stores this
&lt;hsc&gt; code in the +FAXERR parameter for later inspection.<p>
The hangup values are organized according to the phases of the facsimile
transaction as defined by T.30. In the Figure A/T.30 flow charts, there are
decision boxes labelled "Command Received?"; this is referred to as COMREC in
the table. Similarly, decision boxes labelled `Response Received?' are referred
to as RSPREC in the table. A COMREC error or RSPREC error indicates that one of
two events occurred: 1) a DCN (disconnect) signal was received, or 2) an FCS
error was detected and the incoming signal was still present after 3 seconds.
(See Figure A/T.30).<p>
The table values are in decimal notation. Leading zero characters are optional.
<a name="_Toc343068479"></a><a name="_Toc347715732"></a>
<p class="bodytext"><b><i>
<a name="RTFToC303">6.4.11
+FCIG:, Report the Polled Station ID</a>
</i></b></p>
Syntax:	+FCIG: "&lt;        ID string&gt;" Polled Station ID<p>
This response reports the received transmit station ID string, if any. This
message is generated in execution of Originate, Answer, +FDT, or +FDR commands.
<a name="_Toc343068480"></a><a name="_Toc347715733"></a>
<p class="bodytext"><b><i>
<a name="RTFToC304">6.4.12
+FDTC:, Report the Polled Station Capabilities</a>
</i></b></p>
Syntax:	+FDTC: "&lt;     string&gt;" Polled Station Capabilities<p>
If the answerer has a document to poll, it would be communicated to the
originator in bit 9 of the DIS frame. The originating station may elect to
transmit a fax, and later, send SIG and DTC frames to pick up the polled
document. The answering station would report the incoming DTC frame via the
+FDTC: response message after command mode is cancelled with the AT+FDR command.
<a name="_Toc343068481"></a><a name="_Toc347715734"></a>
<p class="bodytext"><b><i>
<a name="RTFToC305">6.4.13
+FPOLL, Indicate Polling Request</a>
</i></b></p>
Syntax:	+FPOLL: <p>
This message is sent to the DTE if the received DIS message indicates that the
remote station has a document to poll (by bit 9 in the DIS) and polling has
been enabled with the AT+FSPL command. The DTE may then decide to receive
rather than transmit. 
<a name="_Toc343068482"></a><a name="_Toc347715735"></a>
<p class="bodytext"><b>
<a name="RTFToC306">6.5
SERVICE CLASS 2 PARAMETERS</a>
</b></p>
All Service Class 2 parameters can be read, written, and tested for range of
legal values by the DCE. The general syntax is described in Section 6.1.<p>
Group 3 FAX devices negotiate session parameters in DIS, DCS, and DTC frames.
The following parameters are provided to condition the facsimile DCE for the
capabilities it will offer and to report the session settings negotiated.<p>
The three primary T.30 session parameters are +FDCC, +FDIS and +FDCS. They are
compound parameters, using values listed in Table 6-2.<p>
<p>
<a name="_Ref345292454"></a><a name="_Toc347715863"></a><p>
<b>Figure 6-1. T.30 Session Parameter Relationships</b><p>

<a name="_Toc343068483"></a><a name="_Toc347715736"></a>
<p class="bodytext"><b><i>
<a name="RTFToC307">6.5.1
+FDCC, DCE Capabilities Parameters</a> 
</i></b></p>
Write syntax:	+FDCC=VR,BR,WD,LN,DF,ED,BF,ST<p>
Valid values:	See Table 6-2<p>
Default values:	0,3,0,2,0,0,0,0 (9600 bps fax models) or 0,5,0,2,0,0,0,0 (14400
bps fax models)<p>
+FDCC allows the DTE to sense and constrain the capabilities of the facsimile
DCE from the choices defined in CCITT T.30 Table 2. When +FDCC is modified by
the DTE, the DCE copies +FDCC into +FDIS.
<a name="_Toc343068484"></a><a name="_Toc347715737"></a>
<p class="bodytext"><b><i>
<a name="RTFToC308">6.5.2
+FDIS, Current Sessions Capabilities Parameters</a>
</i></b></p>
Write syntax:	+FDIS=VR,BR,WD,LN,DF,EC,BF,ST<p>
Valid values:	See Table 6-2<p>
Default values:	0,3,0,2,0,0,0,0 (9600 bps fax models) or 0,5,0,2,0,0,0,0 (14400
bps fax models)<p>
The +FDIS parameter allows the DTE to sense and constrain the capabilities used
for the current session. The DCE uses +FDIS to generate DIS or DTC messages
directly, and uses +FDIS and received DIS messages to generate DCS messages.<p>
The DCE initializes the +FDIS parameter from the +FDCC parameter on
initialization, when +FDCC is written, and at the end of a session.
<a name="_Toc343068485"></a><a name="_Toc347715738"></a>
<p class="bodytext"><b><i>
<a name="RTFToC309">6.5.3
+FDCS, Current Session Results Parameters</a>
</i></b></p>
Read syntax:	+FDCS?<p>
DCE response:	+FDCS=VR,BR,WD,LN,DF,EC,BF,ST<p>
or	+FDCS=<p>
Valid values:	See Table 6-2<p>
Default values:	0,0,0,0,0,0,0,0<p>
The +FDCS parameter is loaded with the negotiated T.30 parameters for the
current session. A transmitting DCE generates DCS; a receiving DCE gets DCS
from the remote station. The DTE may read this parameter.<p>
The +FDCS parameter is initialized 0,0,0,0,0,0,0,0 upon initialization and at
the beginning of a session. If the DTE issues a +FDCS? command in the initial
state, the DCE reports:<p>
&lt;CR&gt;&lt;LF&gt;0,0,0,0,0,0,0,0&lt;CR&gt;&lt;LF&gt;<p>
The contents of +FDCS are spontaneously reported during execution of +FDR or
+FDT commands by the +FDCS:VR,BR,WD,LN,BF,EC,BF,ST response using the same
compound parameter format. <p>
Several commands and responses reference T.30 session negotiated parameters.
These are described by a set of common subparameters. These subparameters are
described in Table 6-2 with notes. Optional parameter values are marked with an
*. Unspecified parameter values are reserved for future use.<p>
The +FDCC, +FDIS, and +FDCS compound parameters use these session parameters
(On writes, unspecified subparameters are unchanged.)<p>
The +FDIS:, +FDCS:, and +FDTC: session report responses use these
subparameters.<p>
For test response, ranges of values are reported for each subparameter enclosed
in parentheses characters. For example, a DCE response to +FDCC=? could
report:<p>
&lt;CRLF&gt; (0,1), (0-5), (0-3), (0-2), (0-2), (0-2), (0), (0-7) &lt;CRLF&gt;
(14400 fax models)<p>
Example:<p>
+FDIS=0,5,0,2,0,0,0,1 =<p>
VR = 0	98 dpi vertical resolution, <br>BR = 5	14400 bit/s <br>WD = 0	1728
pixels, <br>LN = 2	unlimited length<br>DF = 0	1-D modified Huffman coding,
<br>EC = 0	no ECM, <br>BF = 0	no BFT,<br>ST = 1	5 ms scan time.
<a name="_Toc343068486"></a><a name="_Toc347715739"></a>
<p class="bodytext"><b><i>
<a name="RTFToC310">6.5.4
+FLID=, Local ID String</a>
</i></b></p>
Write syntax:	+FLID="&lt;local ID string&gt;"<p>
Valid value:	20-character ASCII string<p>
Default value:	Empty<p>
If FLID is not a null string, it generates a TSI or CSI frame. Table 3/T.30
includes digits 0-9, "+" and space.<p>
If the DCE supports use of Table 3/T.30 only, the response to a +FLID=? command
is "(20) (32, 43, 48-57)." If the DCE supports printable ASCII &lt;, the
response is: "(20) (32-127)&lt;CRLF&gt;." The first "(20)" represents string
length: the second (character values) field reports supported string values.<p>
1.	The string is saved in RAM. <p>
2.	Non-numeric characters are not filtered out.<p>
3.	The string is right justified.
<a name="_Toc343068487"></a><a name="_Toc347715740"></a>
<p class="bodytext"><b><i>
<a name="RTFToC311">6.5.5
+FCR, Capability to Receive</a> 
</i></b></p>
Write syntax:	+FCR=&lt;value&gt;<p>
Valid values:	0 or 1<p>
Default value:	0<p>
+FCR=0 indicates that the DCE will not receive message data. This can be used
when the DTE has insufficient storage. The DCE can send and can be polled for a
file.<p>
+FCR is sampled in CCITT T.30 Phase A and Phase D.
<a name="_Toc343068488"></a><a name="_Toc347715741"></a>
<p class="bodytext"><b><i>
<a name="RTFToC312">6.5.6
+FPTS=, Page Transfer Status</a> 
</i></b></p>
Write Syntax:	+FPTS=&lt;ppr&gt;<p>
Valid values:	1, 2, 3, 4, 5<p>
Default value:	0<p>
The +FPTS parameter contains a value representing the post page response,
including copy quality and related end-of-page status. These values correspond
to post page response messages defined in T.30. The receiving DCE sets this
parameter after it receives a page of Phase C data. The transmitting DCE sets
this parameter with the status reported by the receiving station. The DTE may
inspect or modify this parameter.<p>
The set of &lt;ppr&gt; values is defined in Table 6-4. These values are also
reported in the +FPTS response to the +FDR command.
<a name="_Toc343068489"></a><a name="_Toc347715742"></a>
<p class="bodytext"><b><i>
<a name="RTFToC313">6.5.7
+FCQ, Copy Quality Checking</a>
</i></b></p>
Write syntax:	+FCQ=&lt;value&gt;<p>
Valid values:	0<p>
Default value:	0<p>
This parameter controls Copy Quality checking by a receiving facsimile DCE.<p>
The DCE returns +FCQ=0 which indicates the DCE does no quality checking. The
DCE will generate Copy Quality OK (MCF) responses to complete pages, and set
+FPTS=1.
<a name="_Toc343068490"></a><a name="_Toc347715743"></a>
<p class="bodytext"><b><i>
<a name="RTFToC314">6.5.8
+FPHCTO, DTE Phase C Response Time-out</a>
</i></b></p>
Write syntax:	+FPHCTO=&lt;value&gt;<p>
Valid values:	0 - 255, 100 millisecond units.<p>
Default value:	30<p>
The +FPHCTO command determines how long the DCE will wait for a command after
reaching the end of data when transmitting in Phase C. When this time-out is
reached, the DCE assumes there are no more pages and no documents to send. It
then sends the T.30 EOP response to the remote device.
<a name="_Toc343068491"></a><a name="_Toc347715744"></a>
<p class="bodytext"><b><i>
<a name="RTFToC315">6.5.9
+FAXERR, T.30 Session Error Report</a>
</i></b></p>
Read syntax:	+FAXERR= &lt;table value&gt;, read only <p>
Valid values:	0 - 255, see Table 6-5 for meaning <p>
This read-only parameter indicates the cause of the hangup. Table 6-5 shows the
valid values for this parameter as well as the meaning of the each value.
+FAXERR is set by the DCE at the conclusion of a fax session. The DCE resets
+FAXERR to 0 at the beginning of Phase A off-hook time.
<a name="_Toc343068492"></a><a name="_Toc347715745"></a>
<p class="bodytext"><b><i>
<a name="RTFToC316">6.5.10
+FBOR, Data Bit Order</a> 
</i></b></p>
Write syntax:	+FBOR=&lt;value&gt;<p>
Valid values:	0, 1, 2, or 3<p>
Default value:	0<p>
This parameter controls the mapping between PSTN facsimile data and the DTE-DCE
link. There are two choices:<p>
Direct: The first bit transferred to each byte on the DTE-DCE link is the first
bit transferred on the PSTN data carrier.<p>
Reversed: The last bit transferred of each byte on the DTE-DCE link is the
first bit transferred on the PSTN data carrier.<p>
There are two data types to control:<p>
This command controls Phase C data (T.4 encoded data) transferred during
execution of +FDT or +FDR commands.<p>
The following two codes are supported:<p>
+FBOR=0 or 2	Selects direct bit order for Phase C data.<p>
+FBOR=1 or 3	Selects reversed bit order for Phase C data.<p>
Note that this parameter does not affect the bit order of control characters
generated by the DCE.
<a name="_Toc343068493"></a><a name="_Toc347715746"></a>
<p class="bodytext"><b><i>
<a name="RTFToC317">6.5.11
+FAA, Answer Parameter</a> 
</i></b></p>
Write syntax:	+FAA=&lt;value&gt;<p>
Valid values:	0 or 1<p>
Default value:	0<p>
+FAA=0	Constrains the DCE to answer as set by +FCLASS.<p>
+FAA=1	Indicates that the DCE can answer and automatically determine whether to
answer as a Class 2 facsimile DCE or as a data modem. If the DCE automatically
switches, it modifies FCLASS appropriately.<p>
Class 2 adaptive answer is implemented as follows:<p>
First, a data mode handshake is attempted. If the DCE has been configured for
automode detection (using the +MS command), the DCE may try several protocols
before terminating attempts to make a data mode connection. This can take as
long as 6-8 seconds.<p>
If the data mode connection attempt fails, a facsimile Class 2 connection is
assumed. When a connection is made as a result of the adaptive answer, the DCE
issues the DATA or FAX result code before the CONNECT or +FCON message to
inform the DTE of the connection type. After making a Class 2 connection, the
DCE stays on-line rather than going into the command mode as with a Class 1
connection.
<a name="_Toc343068494"></a><a name="_Toc347715747"></a>
<p class="bodytext"><b><i>
<a name="RTFToC318">6.5.12
+FBUF?, Buffer Size</a>
</i></b></p>
Read syntax:	+FBUF?<p>
DCE response syntax:	&lt;bs&gt;, &lt;xoft&gt;, &lt;xont&gt;, &lt;bc&gt;<p>
where:<p>
&lt;bs&gt; = total buffer size<p>
&lt;xoft&gt; = XOFF threshold<p>
&lt;xcont&gt; = XON threshold<p>
&lt;bc&gt; = current buffer byte count<p>
Example:<p>
+FBUF?<p>
512, 506, 500, 0<p>
The +FBUF parameter allows the DTE to determine the characteristics of the
DCE's data buffer. Data buffers are used for flow control. Use of the reported
values allow the DTE to transfer data without provoking XOFF.
<a name="_Toc343068495"></a><a name="_Toc347715748"></a>
<p class="bodytext"><b>
<a name="RTFToC319">6.6
EXAMPLE SESSIONS</a>
</b></p>
Tables 6-6 and 6-7 show the typical command and responses for sending and
receiving two pages, respectively.<p>
<a name="_Toc347715848"></a><p>
<b>Table 6-6. Send Two Pages, 1-D, No Errors</b>

<pre>
     DTE Command        DCE Response            Local DTE Action        Remote Station Action   
AT+CLASS=2              OK                      Set Class 2             x                       
AT+FLID="&lt;local ID&gt;"    OK                      Set local ID                                    
AT&lt;dial string&gt;         <br><br>+FCON<br>[+FCSI:"&lt;csi&gt;"  Off hook, dial<br>Send     Answer,<br>Send               
                        ]<br>+FDIS: &lt;dis              CNG<br>Detect flags<br>[Get   [CED]<br>V.21                 
                        codes&gt;<br>OK               CSI]<br>Get DIS            flags<br>[CSI]<br>DIS         
AT+FDT<br><br><br><br><br><br>&lt;1st page   <br><br>+FDCS:&lt;DCS               [Send TSI]<br>Send            [Get TSI]<br>Get DCS<br>Get   
data&gt;<br><br>&lt;DLE&gt;&lt;ETX&gt;       codes&gt;<br>CONNECT<br>&lt;XON&gt;<br><br>  DCS<br>Send TCF<br>Get           TCF<br>Send CFR<br>Receive    
                        <br><br>OK                    CFR<br>Send                      carrier<br><br>Receive page   
                                                carrier<br><br>Send page      data                    
                                                data                                            
AT+FET=0                <br><br>+FPTS:1<br>OK            Send RTC<br>Get MPS<br>Get    Get RTC<br>Get MPS<br>Send    
                                                MCF                     MCF                     
AT+FDT<br><br>&lt;2nd page       CONNECT<br>&lt;XON&gt;<br><br>OK       Send carrier<br><br>Send      Receive                       
data&gt;<br>&lt;DLE&gt;&lt;ETX&gt;                                page data               carrier<br><br>Receive page   
                                                                        data                    
AT+FET=2                <br><br>+FPTS:1<br>+FHNG:0<br>OK    Send RTC<br>Send EOP<br>Get   Get RTC<br>Get EOP<br>Send    
                                                MCF<br>Send DCN<br>Hang up    MCF<br>Get DCN<br>Hang up     

</pre>
<p>
<a name="_Toc347715849"></a><p>
<b>Table 6-7. Receive Two Pages, 1-D Data, No Errors</b>

<pre>
     DTE Command        DCE Response            Local DTE Action        Remote Station Action   
AT+FCR=1                OK                      Enable reception                                
AT+FLID="&lt;local ID&gt;"    OK                      Set local ID                                    
                         RING                   Detect ring             Dials[, Send CNG]       
ATA                     <br><br><br><br>+FCON<br>[+FTSI:"&lt;tsi  Off hook<br>Send              <br>Get CED<br>Get CSI<br>Get    
                        &gt;"]<br>+FDCS:&lt;dcs             CED<br>Send CSI<br>Send          DIS<br>Send V.21              
                        codes&gt;<br>OK               DIS<br>Detect flags<br>[Get   flags<br>[Send TSI]<br>Send   
                                                TSI]<br>Get DCS<br>Begin      DCS<br>Start TCF           
                                                TCF receive                                     
AT+FDR<br><br><br><br>&lt;DC2&gt;         <br>+FCFR<br>[+FDCS:"&lt;dcs     Accept TCF<br>Send               Finish TCF<br>Get                
                        codes&gt;]<br>CONNECT<br><br>&lt;page  CFR<br><br>Get page              CFR<br><br>Send pager         
                        data                       carrier<br>Get page           carrier<br>Send page       
                        stream&gt;<br>&lt;DLE&gt;&lt;ETX&gt;<br>+FP  data<br><br>Detect RTC<br><br>Get   data<br><br>Send RTC<br>Drop     
                        TS:1, &lt;lc&gt;<br>+FET:0<br>OK    MPS                     carrier<br>Send MPS        
AT+FDR<br><br>&lt;DC2&gt;           <br>CONNECT<br><br>&lt;page data    Send MCF<br>Get page       Get MCF<br>Send page       
                        stream&gt;<br>&lt;DLE&gt;&lt;ETX&gt;<br>+FP  carrier<br>Get page           carrier<br>Send page       
                        TS:1, &lt;lc&gt;<br>+FET:2<br>OK    data<br><br>Detect RTC<br><br>Get   data<br><br>Send RTC<br>Drop     
                                                EOP                     carrier<br>Send EOP        
AT+FDR                  <br>+FHNG:0<br>OK             Send MCF<br>Get DCN        Get MCF<br>Send DCN        

</pre>
<p>
<a name="_Toc343068496"></a><a name="_Toc347715749"></a>
<p class="subheadlinktext">
<a name="RTFToC320">7. VOICE/AUDIO COMMANDS</a>
</p>
The modem is configured into Voice Mode (modem models not supporting business
audio) or Voice/Audio Mode (modem models supporting business audio) in response
to the AT #CLS=8 command, and this mode is composed of the Voice and Audio
sub-configurations as described in this section. Additional voice/audio AT
commands are available to support selection of operational parameters from both
inside and outside the Voice/Audio Mode.<p>
<b>a)</b>	<b>Voice Sub-Configuration</b>. Enhanced Adaptive Differential Pulse
Code Modulation (ADPCM) coding and decoding of analog voice is accomplished
with a 7.2 kHz sampling rate and 2 or 4 bits/sample quantization, and supports
efficient compression and decompression of digitized voice. Additionally, the
Voice Configuration supports concurrent tone generation/detection
capabilities.<p>
<b>b)</b>	<b>Audio Sub-Configuration (Available Only for Modem Models
Supporting Business Audio).</b> Linear PCM coding and decoding of analog audio
is accomplished with 7.2 kHz or 11.025 kHz sampling rates and 8 bits/sample
quantization, and supports superior sound quality as compared to ADPCM. With a
sampling rate of 7.2 kHz, the Audio Sub-configuration supports concurrent tone
generation/detection capabilities. With a sampling rate of 7.2 kHz or 11.025
kHz, this sub-configuration can be used to record and playback monophonic data
in 8-bit unsigned linear PCM format. <p>
<b>Note</b>:	The term "voice" is used to refer to both voice and audio
functions, except where otherwise noted.<p>
The Voice/Audio Mode (i.e., either sub-configuration) supports three submodes
once a voice connection has been established (refer to the descriptions of the
#CLS command): Online Voice Command Mode, Voice Receive Mode, and Voice
Transmit Mode. Determination of whether operation takes place in the Voice
sub-configuration or the Audio sub-configuration is made by use of the #VBS and
#VSR commands (refer to the descriptions of these commands).
<a name="_Toc343068497"></a><a name="_Toc347715750"></a>
<p class="bodytext"><b>
<a name="RTFToC321">7.1
VOICE/AUDIO SUBMODES</a>
<a name="_Toc343068498"></a><a name="_Toc347715751"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC322">7.1.1
Online Voice Command Mode</a></a> 
</a></i></b></p>
Online Voice Command Mode is the default Voice submode entered when the #CLS=8
command is issued, and may also be entered from Voice Receive Mode or Voice
Transmit Mode. Entry into Online Voice Command Mode is indicated to the DTE via
the VCON message, after which AT commands can be entered without aborting the
telephone line connection.<p>
If the modem is the answerer, it enters Online Voice Command Mode immediately
after going off-hook, and can report instances of DTMF tones and calling tones
to the DTE. If the modem is the originator, it enters Online Voice Command Mode
based on detection of the ringback cadence going away, upon expiration of the
ringback never came timer, or upon detection of answer tone, and the modem can
report DTMF tones, answer tones, busy tone, and dial tone to the DTE. (Note
that DTMF tone reporting is supported in this mode if DTMF reporting is enabled
via the #VTD command.)<p>
When this mode is entered as a result of going off-hook with the D or A
command, VCON is always sent to the DTE, after which the modem accepts
commands. If this mode is entered from Voice Transmit Mode, the DTE has issued
the &lt;DLE&gt;&lt;ETX&gt;, and the modem responds with VCON. If this mode is
entered from the Voice Receive Mode because of a key abort, the modem issues
the &lt;DLE&gt;&lt;ETX&gt; followed by VCON.<p>
If the #VLS command has switched in a handset or other device in place of the
telephone line, Online Voice Command Mode is immediately entered, whereas if
the telephone line is selected, a physical connection with another station must
occur before entering this mode.
<a name="_Toc343068499"></a><a name="_Toc347715752"></a>
<p class="bodytext"><b><i>
<a name="RTFToC323">7.1.2
Voice Receive Mode</a>
</i></b></p>
Voice Receive Mode is entered when the DTE issues the #VRX command in order to
receive voice data. This typically occurs when either recording a greeting
message, or when recording voice messages from a remote station.<p>
In Voice Receive Mode, voice samples from the modem analog-to-digital converter
(ADC) are sent either to the ADPCM codec for compression, or to the PCM coder
for linear PCM coding, and can then be read by the host. AT commands control
the voice sampling rate as well as codec bits-per-sample rates, and can also be
used to select adjustment of the silence detection period and sensitivity level
when ADPCM compression is selected.<p>
In this mode, and when the sampling rate is 7.2 kHz, the modem detects and
reports DTMF, dial tone, and busy tone cadence as enabled by the #VTD command.
Additionally, the modem detects and reports inactivity (periods of silence) as
enabled by the #VSS command. The modem can exit the Voice Receive Mode only via
a DTE Key Abort, or via Disconnect Inactivity timer (S30) expiration.
<a name="_Toc343068500"></a><a name="_Toc347715753"></a>
<p class="bodytext"><b><i>
<a name="RTFToC324">7.1.3
Voice Transmit Mode</a>
</i></b></p>
Voice Transmit Mode is entered when the DTE issues the #VTX command in order to
transmit voice data. In this mode, when the sampling rate is 7.2 kHz, the modem
continues to detect and report DTMF and calling tones if enabled by the #VTD
command. This mode is typically used when playing back greeting messages or
previously received/recorded messages.<p>
In this mode:<p>
1.	If the Voice Sub-configuration is in operation, voice decompression is
provided by the ADPCM codec, and the decompressed ADPCM voice data is then
reconstituted into analog voice by the DAC at the original compression
quantization sample-per-bits rate.<p>
2.	If the Audio Sub-configuration is in operation, PCM decoding is provided by
the linear PCM decoder, and the decoded audio data is then reconstituted into
analog voice by the DAC at the original 1 sample/8 bits rate.
<a name="_Toc343068501"></a><a name="_Toc347715754"></a>
<p class="bodytext"><b>
<a name="RTFToC325">7.2
VOICE/AUDIO CAPABILITIES</a>
<a name="_Toc343068502"></a><a name="_Toc347715755"></a></b></p>
<p class="bodytext"><b><i>
<a name="RTFToC326">7.2.1
Call Establishment - Originate</a></a>
</a><a name="_Toc343068503"></a><a name="_Toc347715756"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC327">Directed
Originate (Dial as a specific modem type)</a></a>
</a></i></p>
For most call originations, it is known ahead of time what type of call is
being attempted, and it is acceptable to disconnect if the remote side of the
connection does not cooperate. In this case, the modem can be configured ahead
of time with the existing +FCLASS (and +FAE=0 or +FAA=0) or the #CLS command to
be a data, fax, or voice/audio modem. For Data and Fax Modes, the modem
subsequently either succeeds with the desired type of connection, or eventually
hangs up. For the Voice/Audio Mode, the DTE has the option of hanging up if
there are indications that the remote station has not answered in voice, thus
implementing a directed originate for voice. The following are the three
connection type choices:
<h5>
<a name="RTFToC328">Voice/Audio</a></h5>
The modem dials and reports call progress to the DTE, which reduces to
reporting "NO DIALTONE", "BUSY", or "NO ANSWER".<p>
The modem allows the DTE to program a time period, which if elapsed after any
ringback is detected, forces the modem to assume the remote has gone off-hook.
A secondary time period (safety valve) can define a maximum elapsed time after
dialing for receiving no ringback before the modem assumes that the remote has
gone off-hook. This safety valve is devised in case the remote picks up the
telephone before any ringback is generated, and no other tones are detected. In
this mode, the modem is attempting to make a voice connection only and
therefore, while waiting for ringback to disappear, it is also feasible to
disconnect upon detection something which is definitely not voice from the
remote, such as any answer tone. The modem provides detection of "ringback went
away or never came".
<h5>
<a name="RTFToC329">Fax</a></h5>
The modem dials and reports call progress to the DTE as in all modes. A Fax
Class 1 or Fax Class 2 handshake is pursued according to the current
configuration.
<h5>
<a name="RTFToC330">Data</a></h5>
The modem dials and reports call progress to the DTE as in all modes. A data
handshake is pursued according to the current configuration.
<a name="_Toc343068504"></a><a name="_Toc347715757"></a>
<p class="bodytext"><i>
<a name="RTFToC331">Adaptive
Originate (Dial with Voice/Data/Fax Discrimination)</a>
</i></p>
The DTE may wish to originate a call which adapts to the remote answerer. For
instance, the user may wish to send a voice message if a human picks up the
telephone, but a facsimile if a fax machine answers. The modem can facilitate
this type of adaptive originate by extending what it does for the directed
originate modes. After determining that the remote station has picked up the
line, the modem goes back to Online Voice Command Mode, thus terminating the
"connecting state." Once in this mode, the modem reports what it receives from
the answerer via specific result codes to the DTE. The DTE can then have the
option of pursuing a data, fax, or voice/audio connection.
<a name="_Toc343068505"></a><a name="_Toc347715758"></a>
<p class="bodytext"><b><i>
<a name="RTFToC332">7.2.2
Call Establishment - Answer</a>
<a name="_Toc343068506"></a><a name="_Toc347715759"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC333">Directed
Answer (Answer as a specific modem type)</a></a>
</a></i></p>
If the DTE wants to be only one kind of answerer (i.e., voice/audio, fax, or
data), it can configure the modem to answer exclusively in the chosen mode.
<h5>
<a name="RTFToC334">Voice/Audio</a></h5>
The modem is configured to answer in Voice/Audio Mode only and assumes the
caller will cooperate. After going off-hook, the voice VCON is issued, no
answer tone is generated, and the modem is immediately placed in Online Voice
Command Mode. The DTE typically responds by sending a greeting message of some
type, and DTMF tone recognition/reporting can be enabled. Eventually, an
incoming voice message can be recorded by the host. (Unpredictable results
occur if the caller is not prepared for a voice call.)
<h5>
<a name="RTFToC335">Fax</a></h5>
The modem is configured to answer in Fax Class 1 or Fax Class 2 Mode only, and
it assumes the caller is going to cooperate. This configuration has the effect
of disabling Voice/Audio Mode, forcing +FCLASS to either 1 or 2, and forcing
both +FAA and +FAE to 0. 
<h5>
<a name="RTFToC336">Data</a></h5>
The modem is configured to answer in Data Mode only and assumes the caller is
going to cooperate. This configuration has the effect of disabling Voice/Audio
Mode, forcing +FCLASS = 0, and forcing both +FAA and +FAE to 0.
<a name="_Toc343068507"></a><a name="_Toc347715760"></a>
<p class="bodytext"><i>
<a name="RTFToC337">Adaptive
Answer (Answer with Voice/Data/Fax Discrimination)</a>
</i></p>
In normal operation, it is desirable for a modem supporting fax and voice to
provide the ability to discriminate between the two when answering unsolicited
or unattended calls. (It is most often the case that a fax is received or a
voice message recorded when nobody is present.) 
<h5>
<a name="RTFToC338">Data/Fax
Discrimination
</a></h5>
If the DTE wishes to allow for a data or fax call, the +FCLASS and +FAA or +FAE
commands can be configured for adaptive answer between data and Class 1 or
Class 2 fax.
<h5>
<a name="RTFToC339">Voice/Fax
Discrimination
</a></h5>
This is the most important discrimination capability needed from the user's
standpoint. The modem must be configured for Voice/Audio (#CLS=8), causing the
modem to enter Online Voice Command Mode immediately upon going off-hook. In
Voice/Audio Mode, the DTE automatically receives indications of DTMF tones and
Calling Tones. The DTE can now switch to Voice Transmit Mode in order to play a
greeting message, perhaps one which instructs the caller how to enter specific
DTMF sequences to switch modes. The DTE can then react to the response, or the
lack thereof, to such a message. The modem supports switching to Class 1 or
Class 2 answer mode by virtue of the #CLS=1 or #CLS=2 command, and if such a
switch is made and fails, the modem reports the failure but does not hang up,
allowing the DTE further experimentation time. If the user wishes to switch to
Class 1 or Class 2, but also wants the DTE to indeed hang up the line if the
fax fails, the +FCLASS command should be used instead of the #CLS command. The
only difference between these commands is that issuing +FCLASS cancels the
modem's memory of voice, whereas #CLS causes the modem to remain off-hook, even
if a fax or data handshake fails, until it receives an H command.
<h5>
<a name="RTFToC340">Voice/Data/Fax
Discrimination
</a></h5>
The DTE can try data modem operation after an answer by changing the #CLS
setting to 0. A data handshake attempt can be added based upon DTMF responses
or lack thereof.
<a name="_Toc343068508"></a><a name="_Toc347715761"></a>
<p class="bodytext"><b><i>
<a name="RTFToC341">7.2.3
Voice/Audio Data Transfer</a>
</i></b></p>
A significant area of concern when handling the transfer of voice/audio data is
the data transfer rate on the modem/DTE interface. Data transfer rates can be
expressed as the number of interrupts which must be serviced per time period to
keep up. This is a function of the sampling rate and compression method (if
any) used by the modem, and the DTE interface speed required to handle the data
flow on the telephone line side.<p>
Tables 7-1a and 7-1b demonstrate the relationship between the sampling rate,
interrupt rate, and DTE speed necessary for the modem to support various
compression ratios. The built-in 16C550A UART-compatible interface in the MCU
hardware is required to support Voice/Audio Mode operation in the Microsoft
Windows environment.
<a name="_Toc347715850"></a><p>
<b>Table 7-1. DTE Speeds</b>

<pre>
                                  a. 7.2 kHz Sample Rate                                    
Modem Samples per 8-bit Byte   Required Asynchronous DTE      Implied DTE Speed Supported    
                               Speed (8N1 Format)                                            
         1 (8-bits)            72,000 bps                     115.2 kbps                     
         2 (4-bits)            36,000 bps                     38.4 kbps                      
         4 (2-bits)            18,000 bps                     19.2 kbps                      
                                b. 11.025 kHz Sample Rate                                   
Modem Samples per 8-bit Byte   Required Asynchronous DTE      Implied DTE Speed Supported    
                               Speed (8N1 Format)                                            
         1 (8-bits)            110,250 bps                    115.2 kbps                     

</pre>
<a name="_Toc343068509"></a><a name="_Toc347715762"></a>
<p class="bodytext"><b><i>
<a name="RTFToC342">7.2.4
Tone and Status Monitoring  Shielded &lt;DLE&gt; Statuses</a>
</i></b></p>
The modem can detect specific tones and other status information, and report
these to the DTE while in any of the three voice submodes. The modem
simultaneously looks for 1300 and 1100 Hz calling tones when answering, and for
CCITT and Bell answer tones when originating. The modem can also detect dial or
busy tones in any of the three voice submodes. All detected tones, as well as
certain other statuses addressed in Table 7-2 such as silence and "telset
off-hook" (i.e., handset off-hook) are reported as shielded codes.<p>
When in Online Voice Command Mode or Voice Transmit Mode, the codes in Table
7-2 are sent to the DTE immediately upon verification by the modem of the
associated tone, status, or cadence. In this mode, the 2-character code is not
buffered, nor does the DTE have the ability to stop the code with flow control.
If the DTE has started (but not completed) sending any AT command, the Tone
Monitoring function is disabled until the command has been received and
processed.<p>
The modem can discriminate between single and multiple DTMF tones received. If
calling tone, dial tone, busy tone, or answer tone is detected, this detection
is reported repeatedly (at reasonable intervals) if the DTE takes no action,
and the tone continues to be detected.
<a name="_Toc347715851"></a><p>
<b>Table 7-2. Codes Sent to the DTE</b>

<pre>
 Code Sent to   Meaning                                                                      
     DTE                                                                                     
   &lt;DLE&gt;0 -     DTMF. Digits 0 through 9, *, #, or A through D detected by the modem,        
   &lt;DLE&gt;9,      i.e., user has pressed a key on a local or remote telephone. The modem       
   &lt;DLE&gt;*,      sends only one &lt;DLE&gt; code per DTMF button pushed.                            
   &lt;DLE&gt;#,                                                                                   
&lt;DLE&gt;A -&lt;DLE&gt;D                                                                               
    &lt;DLE&gt;a      Answer Tone (CCITT). Send to the DTE when the V.25/T.30 2100 Hz Answer       
                Tone (Data or Fax) is detected. If the DTE fails to react to the code, and   
                the modem continues to detect Answer tone, the code is repeated as often     
                as once every half second.                                                   
    &lt;DLE&gt;b      Busy. Sent in Voice Receive Mode when the busy cadence is detected, after    
                any remaining data in the voice receive buffer. The modem sends the busy     
                &lt;DLE&gt;b code every 4 seconds if busy continues to be detected and the DTE     
                does not react. This allows the DTE the flexibility of ignoring what could   
                be a false busy detection.                                                   
    &lt;DLE&gt;c      Calling Tone. Sent when the T.30 1100 Hz Calling Tone (Fax Modem) is         
                detected in any of the voice operating modes. The modem assumes that the     
                calling tone is valid and sends this code only after 4 seconds of proper     
                cadence has been detected. If the DTE does not react to the &lt;DLE&gt;c, and      
                calling tone continues, the code is sent again as often as once every 4      
                seconds.                                                                     
    &lt;DLE&gt;d      Dialtone. Sent in Voice Receive Mode when dial tone is detected after any    
                remaining data in the voice receive buffer. The modem sends the &lt;DLE&gt;d       
                code every 3 seconds if dial tone continues to be detected and the DTE       
                does not react. This allows the DTE the flexibility of ignoring what could   
                be a false dial tone detection.                                              
    &lt;DLE&gt;e      European Data Modem Calling Tone. Sent when the V.25 1300 Hz Calling Tone    
                (Data Modem) is detected in a voice submode. The modem assumes that the      
                calling tone is valid, and sends this code only after 4 seconds of proper    
                cadence has been detected. If the DTE does not react to the &lt;DLE&gt;e and       
                calling tone continues, the code is sent again as often as once every 4      
                seconds.                                                                     
    &lt;DLE&gt;f      Bell Answer Tone. Sent when Bell 2225 Hz Answer Tone (Data) is detected.     
                If the DTE fails to react to the code and the modem continues to detect      
                Answer tone, the code is repeated as often as every 1/2 second.              
    &lt;DLE&gt;h      Hung Up Handset. Sent immediately when the modem detects that the local      
                handset has hung-up (i.e., has transitioned from off-hook to on-hook)        
                while in any of the three voice submodes.                                    
    &lt;DLE&gt;o      Overrun. Sent in Voice Receive Mode if the voice receive data buffer         
                overflows, in which case, the latest data is lost in favor of retaining      
                the oldest data in the buffer. (The DTE may not have been reading data       
                from the modem lately.) The modem inserts the &lt;DLE&gt;o at the end of the       
                buffer, thus marking the location where data was lost by the DTE. The        
                modem does not append &lt;DLE&gt;o codes to the buffer contiguously. If more       
                than one data byte is lost before the DTE begins reading again, there is     
                only on &lt;DLE&gt;o code in the data stream. However, if the DTE resumes          
                reading, and then once again allows the buffer to overflow, a new &lt;DLE&gt;o     
                is appended to the data by the modem. Thus, the &lt;DLE&gt;o does not indicate     
                how many bytes of contiguous data has been lost, but may report multiple     
                gaps of lost data in the data stream.                                        
    &lt;DLE&gt;q      Quiet. Sent in Voice Receive Mode following any remaining data in the        
                receive voice buffer when the silence detection timer (#VSP) expires and     
                there has been voice data passed to the DTE. Note that with #VSS=0, the      
                Quiet message never occurs. In general, &lt;DLE&gt;q is sent if first there was    
                sound, and now there is no sound, and means that somebody has stopped        
                talking, and according to the criteria selected in the #VSP and #VSS         
                settings, is probably not going to start again. If the DTE ignores the       
                &lt;DLE&gt;q code, the modem automatically resets its timer and sends the code     
                again if the #VSP time period again expires. This allows the DTE time to     
                react to what may be a false silence detection.                              

    &lt;DLE&gt;s      Silence. Sent in Voice Receive Mode after the silence detection timer        
                (#VSP) expires and if valid voice has not been detected (#VSS). In           
                general, &lt;DLE&gt;s is sent if no sound was detected at all. This differs        
                slightly from Quiet (&lt;DLE&gt;q) in that it can be used by the DTE in its        
                discrimination algorithms as a means of determining if anything at all is    
                coming from the remote station. If the DTE ignores the &lt;DLE&gt;s code, the      
                modem automatically resets its timer and sends the code again if the #VSP    
                time period again expires. This allows the DTE time to react to what may     
                be a false detection of silence.                                             
    &lt;DLE&gt;t      Handset Off-Hook. Sent one time when the local handset transition from       
                on-hook to off-hook is detected in any of the three voice submodes.          
    &lt;DLE&gt;u      Underrun. Sent in Voice Transmit Mode when the voice transmit buffer         
                becomes empty without receiving a &lt;DLE&gt;&lt;ETX&gt; or &lt;DLE&gt;&lt;CAN&gt; command first.    
                The modem remains in transmit mode, but issues the &lt;DLE&gt;u to indicate that   
                silence is being generated. When the DTE resumes sending bytes, the modem    
                allows a small number of bytes to build up in the buffer before              
                re-enabling the transmitter to avoid repeated underruns. However, with the   
                underrun condition, the modem does not wait for the XOFF threshold (or       
                timer) to be met before resuming, as it does on an initial transmit or       
                resume operation because the remote listener may be unaware of the           
                underrun, and keeping the silence short may serve to mask the underrun       
                altogether.                                                                  
    &lt;DLE&gt;T      Timing Mark. Sent in Voice Receive Mode, and placed in the data stream at    
                1 second intervals, when enabled by #VTM = 10.                               
  &lt;DLE&gt;&lt;ETX&gt;    End of Stream. &lt;DLE&gt;&lt;ETX&gt; is sent to denote the end of a voice data          
                stream, similar to fax Class 1 and 2. This occurs in Voice Receive Mode      
                only after the DTE issues the key abort.                                     
<a name="_Toc343068510"></a><a name="_Toc347715763"></a>
</pre>
<p class="bodytext"><b><i>
<a name="RTFToC343">7.2.5
Shielded &lt;DLE&gt; Commands from the DTE</a></a>
</a></i></b></p>
Most commands issued for voice are implemented as extensions to the AT command
set, and are accepted only if the modem is in a valid command mode, such as
Online Voice Command Mode. However, there are some operations which are
available to the DTE without necessitating a switch to Online Voice Command
Mode. The most obvious of these is the &lt;DLE&gt;&lt;ETX&gt; which the DTE
issues during Voice Transmit Mode to terminate an output message. Table 7-3
lists shielded &lt;DLE&gt; commands recognized by the modem.
<a name="_Toc347715852"></a><p>
<b>Table 7-3. Shielded DTE Codes</b>

<pre>
 Code Sent to   Meaning                                                                      
    Modem                                                                                    
&lt;DLE&gt;p          Pause. Sent during Voice Transmit Mode to force the modem to suspend         
                sending voice data to the selected output device(s). Any data currently in   
                the voice transmit buffer is saved until either a resume (&lt;DLE&gt;r), or        
                cancel &lt;DLE&gt;&lt;CAN&gt;, is received, in which case the data is lost. If a         
                &lt;DLE&gt;&lt;ETX&gt; is received during the paused state, the modem processes it       
                normally, and also automatically resumes transmission of the data left in    
                the buffer (appended with &lt;DLE&gt;&lt;ETX&gt;). Any other data received from the      
                DTE while in this paused state is placed in the transmit buffer according    
                to available space, with flow control active. (This command is ignored in    
                other voice submodes.)                                                       
&lt;DLE&gt;r          Resume. Sent during Voice Transmit Mode to force the modem to resume         
                sending voice data to the selected output device(s). Any data currently in   
                the voice transmit buffer is now played. (This command is ignored in other   
                voice modes.) The pause and resume commands are different than a simple      
                suspension of data; data in the buffer is "frozen" and not played when the   
                DTE pauses.                                                                  
&lt;DLE&gt;E          Purge DCE Buffer. Sent during the transmission or reception of voice/audio   
                data, by embedding the command in the voice data stream, to purge the        
                corresponding DCE buffer. (See the &lt;DLE&gt;&lt;EOT&gt; code.)                         
&lt;DLE&gt;u          Increment Playback Volume. Sent during audio mode to increment the           
                playback volume. The &lt;DLE&gt;u action command allows the application to         
                increase the playback volume of the headphone and speaker outputs during     
                playback while in the data state. Each &lt;DLE&gt;u will increment the transmit    
                level by 1 unit. Adjustment by a value greater than 1 may be achieved by     
                transmitting a string of &lt;DLE&gt;u codes. For example, a string consisting of   
                "&lt;DLE&gt;u &lt;DLE&gt;u &lt;DLE&gt;u &lt;DLE&gt;u &lt;DLE&gt;u" increases the playback volume by a      
                value of 5 units. The &lt;DLE&gt;u code can be used to adjust the volume within    
                the range of 128-228. (See &lt;DLE&gt;&lt;u&gt; and &lt;DLE&gt;&lt;d&gt; in Section 7.3.2.)          
&lt;DLE&gt;d          Decrement Playback Volume. Sent during audio mode to decrement the           
                playback volume. The &lt;DLE&gt;d action command allows the application to         
                decrease the playback volume of the headphone and speaker outputs during     
                playback while in the data state. Each &lt;DLE&gt;d will decrement the transmit    
                level by 1 unit. Adjustment by a value greater than 1 may be achieved by     
                transmitting a string of &lt;DLE&gt;d codes. For example, a string consisting of   
                "&lt;DLE&gt;d &lt;DLE&gt;d &lt;DLE&gt;d &lt;DLE&gt;d &lt;DLE&gt;d" decreases the playback volume by a      
                value of 5 units. The &lt;DLE&gt;d code can be used to adjust the volume within    
                the range of 128-228. (See &lt;DLE&gt;&lt;u&gt; and &lt;DLE&gt;&lt;d&gt; in Section 7.3.2.)          
&lt;DLE&gt;&lt;CAN&gt;      Cancel. Sent during Voice Transmit Mode to indicate that the DTE has         
                finished transmitting a voice message and wants the modem to discard any     
                remaining data in the voice transmit buffer. The modem immediately purges    
                its buffer, and then responds with the VCON message entering Online Voice    
                Command Mode. (This command is ignored by the modem when not in Voice        
                Transmit Mode.)                                                              
&lt;DLE&gt;&lt;EOT&gt;      Voice Bytes Buffered Query. Sent during the transmission or reception of     
                voice/audio data, by embedding the command in the voice data stream, to      
                learn the number of corresponding bytes buffered by the DCE at the moment    
                the &lt;DLE&gt;&lt;EOT&gt; command is received by the DCE. &lt;DLE&gt;XZBBC=n&lt;DLE&gt; is          
                returned by the DCE, in which "n" represents the number of bytes buffered    
                as a two byte hexadecimal value.                                             
&lt;DLE&gt;&lt;ETX&gt;      Terminate. Sent during Voice Transmit Mode to indicate that the DTE has      
                finished transmitting a voice message. The modem completes transmission of   
                any remaining data in the voice transmit buffer before responding with the   
                VCON message and entering Online Voice Command Mode. (This command is        
                ignored by the modem when not in Voice Transmit Mode.)                       

</pre>
<a name="_Toc343068511"></a><a name="_Toc347715764"></a>
<p class="bodytext"><b><i>
<a name="RTFToC344">7.2.6
Voice Record</a>
</i></b></p>
To effect recording of a message received via a handset or microphone, the DTE
must configure the modem for Voice Mode (#CLS=8), and select the proper relay
setup (#VLS) to instruct the modem whether to use the auxiliary device. The
modem responds to the #VLS command by issuing a relay activate command to
select the input device. When a device other than the telephone line is
selected, the modem immediately enters Online Voice Command Mode (indicated by
VCON). DTMF detection is therefore enabled as soon as the DTE selects the
device, such as a handset, although the user still needs to physically pick up
the telephone and "press buttons." Even if the DTE has not entered Voice
Receive or Transmit Modes (#VTX or #VRX), these DTMF tones are delivered via
shielded codes identically to when a physical telephone connection exists but
the DTE has not yet commanded receive or transmit.<p>
When the DTE decides to record the message, it issues the #VRX command and upon
command receipt, the modem immediately switches to Voice Receive Mode. Since
the microphone or handset is switched in, the modem immediately issues the
CONNECT message indicating that the modem has switched to Voice Receive Mode
and is beginning the transfer of ADPCM voice or PCM audio data as well as
shielded DTMF tones, and other tones and statuses.<p>
In this recording state, the modem (if so configured) monitors for line
silence. If the #VSP period expires, the modem sends the &lt;DLE&gt;q or
&lt;DLE&gt;s code to the DTE.<p>
Recording can be canceled only via two events:<p>
1.	The DTE sends any character to the modem. This is the key abort, and is the
normal method of terminating the receive mode.<p>
2.	The S30 Disconnect Inactivity timer expires, which is generally an undesired
event.
<a name="_Toc343068512"></a><a name="_Toc347715765"></a>
<p class="bodytext"><b><i>
<a name="RTFToC345">7.2.7
Voice Playback</a>
</i></b></p>
To effect playback of a message recorded via a handset or microphone, or of a
message recorded during a voice call, the DTE must configure the modem for
Voice Mode (#CLS=8) and select the proper relay setup (#VLS) to instruct the
modem whether to use the handset or speaker. The modem responds to the #VLS
command by issuing a relay activate command to select the input device. The
hardware must provide a means of selecting a handset and/or microphone instead
of the telephone line, as this input device. When a device other that the
telephone line is selected, the modem immediately enters Online Voice Command
Mode (indicated by VCON). DTMF detection is thus enabled as soon as the DTE
selects the device, such as a handset, although the user still needs to
physically pick up the telephone before he can issue DTMF tones. Once selected,
however, the user can indeed pick up the telephone and "press buttons." Even if
the DTE has not entered Voice Receive or Transmit Modes (#VTX or #VRX), these
DTMF tones are delivered via shielded codes, identically to when a physical
telephone connection exists but the DTE has not yet commanded receive nor
transmit.<p>
When the DTE decides to play the message, it issues the #VTX command, and the
modem immediately switches to Voice Transmit Mode. Since the speaker or handset
is already switched in, the modem immediately issues the CONNECT message
indicating that the modem is in Voice Transmit Mode and is expecting voice data
from the DTE.<p>
A subsequent &lt;DLE&gt;&lt;ETX&gt; has to be issued to switch back to Online
Voice Command Mode.
<a name="_Toc343068513"></a><a name="_Toc347715766"></a>
<p class="bodytext"><i>
<a name="RTFToC346">Volume
Adjustment During Record</a>
</i></p>
The record volume is adjusted automatically by an automatic gain control (AGC)
circuit (for V.34 and ACF/SP products).
<a name="_Toc343068514"></a><a name="_Toc347715767"></a>
<p class="bodytext"><i>
<a name="RTFToC347">Volume
Adjustment During Playback</a>
</i></p>
The playback volume of the headphone and speaker outputs and handset can be
adjusted by the #TL command (Section 7.3.2). 
<a name="_Toc343068515"></a><a name="_Toc347715768"></a>
<p class="bodytext"><b><i>
<a name="RTFToC348">7.2.8
Voice Call Termination</a>
<a name="_Toc343068516"></a><a name="_Toc347715769"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC349">Local
Disconnect</a></a>
</a></i></p>
The DTE can disconnect from a telephone call by commanding a mode change to
Online Voice Command Mode (if not already in it), and by issuing the H command.
<a name="_Toc343068517"></a><a name="_Toc347715770"></a>
<p class="bodytext"><i>
<a name="RTFToC350">Remote
Disconnect Detection</a>
</i></p>
When in Voice Receive Mode, the modem sends the proper shielded &lt;DLE&gt;
code when dial tone or busy tone is detected. The modem stays in Voice Receive
Mode, however, until the DTE issues a key abort to force Online Voice Command
Mode. The DTE must issue the H command if it wishes to hang up.
<a name="_Toc343068518"></a><a name="_Toc347715771"></a>
<p class="bodytext"><b><i>
<a name="RTFToC351">7.2.9
Mode Switching</a>
<a name="_Toc343068519"></a><a name="_Toc347715772"></a></i></b></p>
<p class="bodytext"><i>
<a name="RTFToC352">Voice
to Fax</a></a>
</a></i></p>
If the modem is in Online Voice Command Mode (i.e., it has gone off-hook with
#CLS=8 in effect), the DTE can attempt a fax handshake by setting #CLS=1,
followed by the A or D command corresponding to fax receive or send. This has
the effect of beginning a fax Class 1 handshake (see #CLS command).
<a name="_Toc343068520"></a><a name="_Toc347715773"></a>
<p class="bodytext"><i>
<a name="RTFToC353">Unsuccessful
Fax Connection Attempt to Voice</a>
</i></p>
A fax handshake which does not succeed, attempted as the result of the DTE
modifying the #CLS setting from voice (8) to fax (1), does not result in the
modem hanging up, allowing the DTE the flexibility of commanding a switch back
to Voice Mode with #CLS=8.
<a name="_Toc343068521"></a><a name="_Toc347715774"></a>
<p class="bodytext"><i>
<a name="RTFToC354">Voice
to Data</a>
</i></p>
If the modem is in the Online Voice Command Mode, the DTE can attempt a data
handshake by setting #CLS=0 followed by the A or D command. This has the effect
of beginning a Data Mode handshake according to the current Data Mode
S-register and command settings.
<a name="_Toc343068522"></a><a name="_Toc347715775"></a>
<p class="bodytext"><i>
<a name="RTFToC355">Unsuccessful
Data Connection Attempt to Voice</a>
</i></p>
A data handshake which does not succeed, attempted as the result of the DTE
modifying the #CLS setting from voice (8) to data (0), does not result in the
modem hanging up, allowing the DTE the flexibility of commanding a switch back
to Voice Mode with #CLS=8.
<a name="_Toc343068523"></a><a name="_Toc347715776"></a>
<p class="bodytext"><b><i>
<a name="RTFToC356">7.2.10
Caller ID</a>
</i></b></p>
The modem supports Caller ID by passing the information received in Bell 202
FSK modulation to the DTE after the first RING detect. The modem supports both
formatted and unformatted reporting of Caller ID information received in ICLID
(Incoming Call Line ID) format as supported in certain areas of the U.S. and
Canada. The DTE enables this feature via the #CID command.
<a name="_Toc343068524"></a><a name="_Toc347715777"></a>
<p class="bodytext"><b>
<a name="RTFToC357">7.3
AT VOICE COMMAND SUMMARY</a>
</b></p>
Table 7-4 provides a complete summary of the AT voice commands described in
detail in Sections 7.3.1 and 7.3.2.<p>
<a name="_Toc347715853"></a><p>
<b>Table 7-4. AT Voice Commands</b>

<pre>
  Command     Function                                       
A             Answering in Voice/Audio Mode.                 
D             Dial command in Voice/Audio Mode.              
H             Hang up in Voice/Audio Mode.                   
Z             Reset from Voice/Audio Mode.                   
#BDR          Select baud rate (turn off autobaud).          
#CID          Enable Caller ID detection and select          
              reporting format.                              
#CLS          Select data, fax, or voice/audio.              
#MDL?         Identify model.                                
#MFR?         Identify manufacturer.                         
#REV?         Identify revision level.                       
#TL           Audio output transmit level.                   
#VBQ?         Query buffer size.                             
#VBS          Bits per sample (ADPCM or PCM).                
#VBT          Beep tone timer.                               
#VCI?         Identify compression method (ADPCM).           
#VLS          Voice line select (ADPCM or PCM).              
#VRA          Ringback goes away timer (originate).          
#VRN          Ringback never came timer (originate).         
#VRX          Voice Receive Mode (ADPCM or PCM).             
#VSD          Enable silence deletion (voice receive,        
              ADPCM).                                        
#VSK          Buffer skid setting.                           
#VSP          Silence detection period (voice receive,       
              ADPCM).                                        
#VSR          Sampling rate selection (ADPCM or PCM).        
#VSS          Silence detection tuner (voice receive,        
              ADPCM).                                        
#VTD          DTMF tone reporting capability.                
#VTM          Enable timing mark placement.                  
#VTS          Generate tone signals.                         
#VTX          Voice transmit mode (ADPCM or PCM).            

</pre>
<a name="_Toc343068525"></a><a name="_Toc347715778"></a>
<p class="bodytext"><b><i>
<a name="RTFToC358">7.3.1
Global AT Command Set Extensions</a> 
</i></b></p>
The AT commands in the following section are global, meaning that they can be
issued in any appropriate mode (i.e., any #CLS setting).<p>
For consistency, the command set is divided into action commands and parameters
(non-action commands). Those commands which are action commands (i.e., those
which cause some change in the current operating behavior of the modem) are
identified as such, and the remaining commands are parameters.<p>
All voice commands that can have a value of 0-255 will not respond error if a
value above 255 is entered; the resulting value will be the value entered minus
256 or 512, etc.
<a name="_Toc343068526"></a><a name="_Toc347715779"></a>
<p class="bodytext"><i>
<a name="RTFToC359">ATA
- Answering in Voice/Audio</a>
</i></p>
The answer action command works analogously to the way it works in Data and Fax
Modes except for the following: <p>
1.	When configured for Voice/Audio Mode (#CLS=8), the modem enters Online Voice
Command Mode immediately after going off-hook. When the #CLS=8 command is
issued, the modem can be programmed to look for 1100 and 1300 Hz calling tones
(see #VTD), thus eliminating the need to do so as part of A command processing.
After the VCON message is issued, the modem re-enters Online Voice Command Mode
while sending any incoming DTMF or Calling Tone indications to the DTE as
described in Section 7.2.5.<p>
2.	After answering in Voice/Audio Mode (#CLS=8), the DTE, as part of its call
discrimination processing, can decide to change the #CLS setting to attempt
receiving a fax in Class 1, or to make a data connection. In such a case, the
DTE commands the modem to proceed with the data or fax handshake via the A
command even though the modem is already off-hook.<p>
Result Code:<p>
VCON	Issued in Voice Mode (#CLS=8) immediately after going off-hook.
<a name="_Toc343068527"></a><a name="_Toc347715780"></a>
<p class="bodytext"><i>
<a name="RTFToC360">ATD
- Dial Command in Voice/Audio</a>
</i></p>
The dial action command works analogously to the way it works in Data or Fax
modes. When in Voice/Audio Mode (#CLS=8):<p>
1.	The modem attempts to determine when the remote has picked up the telephone
line and once this determination has been made, the VCON message is sent to the
DTE. This determination is initially made based upon ringback detection and
disappearance. (See #VRA and #VRN commands.)<p>
2.	Once connected in Voice/Audio Mode, the modem immediately enters the command
state and switches to Online Voice Command Mode which enables unsolicited
reporting of DTMF and answer tones to the DTE. <p>
Parameters:	Same as Data and Fax modes.<p>
Result Codes:<p>
VCON	Issued in Voice/Audio Mode (#CLS=8) when the modem determines that the
remote modem or handset has gone off-hook, or when returning to the Online
Voice Command Mode. (See #VRA and #VRN.)<p>
NO ANSWER	Issued in Voice/Audio Mode (#CLS=8) when the modem determines that
the remote has not picked up the line before the S7 timer expires. Though the
modem reports "NO ANSWER", the DTE has the responsibility of issuing an ATH (or
ATZ) to disconnect the telephone line while #CLS=8.
<a name="_Toc343068528"></a><a name="_Toc347715781"></a>
<p class="bodytext"><i>
<a name="RTFToC361">ATH
- Hang Up in Voice/Audio</a>
</i></p>
This command works the same as in Data and Fax modes by hanging up
(disconnecting) the telephone line. There are, however, some specific
considerations when in Voice/Audio Mode:<p>
1.	The H command forces #CLS=0, but does not destroy any of the voice parameter
settings such as #VBS, #VSP, etc. Therefore, if the DTE wishes to issue an H
command and then pursue another voice call, it must issue a subsequent #CLS=8
command, but it need not re-establish the voice parameter settings again unless
a change in the settings is desired.<p>
2.	The #BDR setting is forced back to 0, re-enabling autobaud.<p>
3.	If the #VLS setting is set to select a device which is not, or does not
include the telephone line (such as a local handset or microphone), the H
command deselects this device and reselects the normal default setting (#VLS
=0). Normally, the DTE should not issue the H command while connected to a
local device such as a handset, because merely selecting this device results in
VCON. The normal sequence of terminating a session with such a device is to use
the #VLS command to select the telephone line, which by definition makes sure
it is on-hook. <p>
Parameters:	Same as Data and Fax modes.<p>
Result Codes:	Same as Data and Fax modes.
<a name="_Toc343068529"></a><a name="_Toc347715782"></a>
<p class="bodytext"><i>
<a name="RTFToC362">ATZ
- Reset from Voice Mode</a>
</i></p>
This command works the same as in Data and Fax modes. In addition, the Z
command resets all voice related parameters to default states, forces the
#BDR=0 condition (autobaud enabled), and forces the telephone line to be
selected with the handset on-hook. No voice parameters are stored in NVRAM so
the profile loaded does not affect the voice aspects of this command. (Note
that when #CLS=8, ATZ causes a hang up if the telephone line is connected.)<p>
Parameters:	Same as Data and Fax modes.<p>
Result Codes:	Same as Data and Fax modes.
<a name="_Toc343068530"></a><a name="_Toc347715783"></a>
<p class="bodytext"><i>
<a name="RTFToC363">#BDR
- Select Baud Rate (Turn off Autobaud)</a>
</i></p>
This command forces the modem to select a specific DTE/modem baud rate without
further speed sensing on the interface. When a valid #BDR=n command is entered,
the OK result code is sent at the current assumed speed. After the OK has been
sent, the modem switches to the speed indicated by the #BDR=n command it has
just received.<p>
When in Online Voice Command Mode and the #BDR setting is nonzero (no autobaud
selected), the modem supports a full duplex DTE interface. This means that the
DTE can enter commands at any time, even if the modem is in the process of
sending a shielded code indicating DTMF detection to the DTE. [Note that when
#BDR has been set nonzero, the modem employs the S30 Disconnect Inactivity
timer, and this timer starts at the point where #BDR is set nonzero. If this
period expires (nominally 60 seconds) with no activity on the DTE interface,
the modem reverts to #BDR=0, #CLS=0, and #VLS=0.] <p>
Parameters:	n = 0 - 48 (New baud rate is n*2400 bps)<p>
Default:	0<p>
Result Codes:<p>
OK	For the supported speeds.<p>
ERROR	Otherwise.<p>
Command options:<p>
#BDR?	Returns the current setting of the #BDR command as an ASCII decimal value
in result code format.<p>
#BDR=?	Returns a message indicating the speeds that are supported.<p>
#BDR=0	Enables autobaud detection on the DTE interface. <p>
#BDR=n	Where 1&lt;n&lt;48. Sends OK message at current speed, then switches to
the new speed defined by n*2400 bps unless and until another #BDR=n command is
received. Autobaud is disabled, and the character format is maintained at the
format most recently detected.
<a name="_Toc343068531"></a><a name="_Toc347715784"></a>
<p class="bodytext"><i>
<a name="RTFToC364">#CID
-  Enable Caller ID Detection and Select Reporting Format</a>
</i></p>
This command selects or disables Caller ID recognition and reporting in any
mode.<p>
Parameters:	n = 0, 1, or 2<p>
Default:	0<p>
Result Codes:<p>
OK	n = 0, 1, or 2.<p>
ERROR	Otherwise.<p>
Command options:<p>
#CID?	Returns the current setting (0,1 or 2) of the #CID command as an ASCII
decimal value in result code format.<p>
#CID=?	Returns the message, "0, 1, 2". <p>
#CID=0	Disables Caller ID.<p>
#CID=1	Enables formatted Caller ID reporting of ICLID SDM (Single Data Message)
and <br>MDM (Multiple Data Message) packets. <p>
#CID=2	Enables unformatted Caller ID reporting of any ICLID packet received
after the first RING cycle including SDM, MDM, or call waiting packets.
<a name="_Toc343068532"></a><a name="_Toc347715785"></a>
<p class="bodytext"><i>
<a name="RTFToC365">#CLS
- Select Data, Fax, or Voice/Audio</a>
</i></p>
This command selects Data, Fax, or Voice/Audio Mode from operation in any
mode.<p>
Parameters:	n = 0, 1, 2, or 8<p>
Default:	0<p>
Result Codes:<p>
OK	If n = 0, 1, 2, or 8.<p>
ERROR	Otherwise.<p>
Command options:<p>
#CLS?	Returns the current setting (0, 1, 2, or 8) of the #CLS command as an
ASCII decimal value in result code format. <p>
#CLS=?	Returns the message, "0, 1, 2, or 8".<p>
#CLS=0	Data. This is similar to setting +FCLASS=0, and instructs the modem to
act like a data modem on subsequent answer or originate operations.<p>
	When a disconnect or inactivity time out in the non-autobaud mode is detected,
the modem automatically sets the #CLS setting to 0 and hangs up. This ensures
that the modem is always in a known state despite disorderly DTE behavior.<p>
#CLS=1	Class 1 fax. This is similar to setting +FCLASS=1, and instructs the
modem to be a Class 1 fax modem. Once this is set, either the +FAA or the +FAE
command can be used to force subsequent answers to be Class 1 adaptive
answers.<p>
#CLS=2	Class 2 fax. This is similar to setting +FCLASS=2, and instructs the
modem to be a Class 2 fax modem. Once this is set, the +FAA command can be used
to force subsequent answers to be Class 2 adaptive answers.<p>
#CLS=8	Voice/Audio Mode. This is the main setting the DTE uses to effect
directed or adaptive answer or originate sequences involving voice modes. All
telephone calls initialized by #CLS=8 result (after answer or successful call
progress) in the modem in Online Voice Command Mode. 
<a name="_Toc343068533"></a><a name="_Toc347715786"></a>
<p class="bodytext"><i>
<a name="RTFToC366">#MDL?
- Identify Model</a>
</i></p>
This command requests the model number or name of the modem.<p>
Command option:<p>
#MDL? -  RCV144ACi (Example)
<a name="_Toc343068534"></a><a name="_Toc347715787"></a>
<p class="bodytext"><i>
<a name="RTFToC367">#MFR?
- Identify Manufacturer</a>
</i></p>
This command requests the modem manufacturer.<p>
Command option:<p>
#MFR? -  ROCKWELL
<a name="_Toc343068535"></a><a name="_Toc347715788"></a>
<p class="bodytext"><i>
<a name="RTFToC368">#REV?
- Identify Revision Level</a>
</i></p>
This command requests the revision level of the modem. <p>
Command option:<p>
#REV? - XXXX-XXXX-XXX YYY	(Those places occupied by "X"'s represent the part
number, while those places occupied by `Y"'s represent the revision number. The
values are determined at time of production.)
<a name="_Toc343068536"></a><a name="_Toc347715789"></a>
<p class="bodytext"><b><i>
<a name="RTFToC369">7.3.2
AT#V Commands Enabled Only in Voice Mode (#CLS=8)</a> 
</i></b></p>
The commands described in the following subsection are extensions to the
command set which the modem recognizes only when configured for Voice/Audio
Mode with the #CLS=8 command.
<a name="_Toc343068537"></a><a name="_Toc347715790"></a>
<p class="bodytext"><i>
<a name="RTFToC370">#TL-
Audio Output Transmit Level</a>
</i></p>
This command provides adjustment of the transmit level of the data pump audio
output, affecting both the playback level of the handset and speaker and
telephone line. <b>Note:</b> This command is not applicable to RC288 and ACF/SP
products, however, the command is accepted for command response compatibility
only.<p>
Parameters:	n=0000 to 7FFF if the handset or speaker is selected<p>
Default:	7FFF,	if local handset or speaker is selected<p>
	3F44,	if the phone line is selected<p>
Result Codes:<p>
OK	If n=0000 to 7FFF
<a name="_Toc343068538"></a><a name="_Toc347715791"></a>
<p class="bodytext"><i>
<a name="RTFToC371">#VBQ?
- Query Buffer Size</a>
</i></p>
This query-only command returns the size of the modem's voice transmit and
voice receive buffers in ASCII decimal, followed by the OK result code.<p>
Parameters:	None<p>
Command option:<p>
#VBQ?	Returns the size of the modem voice transmit and voice receive buffers.
<a name="_Toc343068539"></a><a name="_Toc347715792"></a>
<p class="bodytext"><i>
<a name="RTFToC372">#VBS
- Bits Per Sample</a>
</i></p>
This command selects the degree of ADPCM voice compression or format of linear
PCM to be used.<p>
Parameters:	n = 2 or 4 (ADPCM Voice compression) bits/sample, or 8 (PCM)
bits/sample<p>
Default:	4 <p>
Result Codes:<p>
OK	If n=2, 4, or 8<p>
ERROR	Otherwise.<p>
Command options:<p>
#VBS?	Returns the current setting of the #VBS command as an ASCII decimal value
in result code format.<p>
#VBS=?	Returns "2" or "4", which are the ADPCM compression bits/sample rates
available, or "8" which is the PCM bits/sample rate. The 2 and 4 bits/sample
rates are correlated with the #VCI query command response which provides the
single compression method available. The "8" represents 8-bit unsigned linear
PCM format, respectively.<p>
#VBS=2	Selects 2 bits per sample ADPCM (valid for #VSR = 7200). <p>
#VBS=4	Selects 4 bits per sample ADPCM (valid for #VSR = 7200).<p>
#VBS=8	Selects 8 bits per sample PCM (valid for #VSR = 7200 or #VSR = 11025).
<a name="_Toc343068540"></a><a name="_Toc347715793"></a>
<p class="bodytext"><i>
<a name="RTFToC373">#VBT
- Beep Tone Timer</a>
</i></p>
This command defines the time period, in 10ths of a second up to 4 seconds (40)
which is used by the modem as the DTMF or fixed tone duration for generating
tones while in Online Voice Command Mode. <p>
Parameters:	n = 0 - 40 (0 - 4 seconds)<p>
Default:	10<p>
Result Codes:<p>
OK	If n = 0 - 40.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VBT?	Returns the current setting of the #VBT command as an ASCII decimal value
in result code format.<p>
#VBT=?	Returns the message, "0-40".<p>
#VBT=0	Disables the tone generation capability. <p>
#VBT=1 to 40	Sets tone duration time.
<a name="_Toc343068541"></a><a name="_Toc347715794"></a>
<p class="bodytext"><i>
<a name="RTFToC374">#VCI?
- Identify Compression Method</a>
</i></p>
This command provides a unique character string which may be used for
identifying the proprietary compression method of Rockwell ADPCM.<p>
Parameters:	No parameters supported<p>
Default:	No parameters supported<p>
Result Codes:<p>
OK	Returned after the Compression Identifier string.<p>
ERROR	Returned if attempting to assign a parameter value.<p>
Command Options:<p>
#VCI?	Returns the Compression Identifier string which may used to identify the
proprietary voice data encoding of Rockwell ADPCM.
<a name="_Toc343068542"></a><a name="_Toc347715795"></a>
<p class="bodytext"><i>
<a name="RTFToC375">#VLS
- Voice Line Select</a>
</i></p>
This action command can be used to select which devices are routed through the
modem. <p>
Parameters:	n = 0-9 as supported by the modem model. [This is the device
position number (not device number) as reflected in response to #VLS=?]<p>
Default:	0<p>
Result Codes:<p>
OK	If n = 0-9 as supported by the modem model.<p>
VCON	If device selected does not connect to the telephone line. (A speaker is
such a device, but a telephone line with speaker ON is not such a device, and
generates OK.)<p>
ERROR	If n does not equal 0-9 or if telephone line or local handset is already
off-hook.<p>
Command options:<p>
#VLS?	This query returns the current setting of the #VLS command as an ASCII
decimal value in result code format.<p>
#VLS=?	This query requests a report of the device types available for
selection. The response is a number from 0 to 4 corresponding the device
position number (see Table 7-5).<p>
#VLS=0	The default option on the modem. This command instructs the modem that
when entering any of the three voice operating submodes (Online Command,
Transmit, or Receive), that the telephone line interface should be routed
through the modem. The OK response is sent to the DTE, and any previous
connection is lost (i.e., the modem ends up on-hook as a result of issuing this
command to connect to the telephone line).<p>
#VLS=1	This command instructs the modem to route only the handset through the
modem. This setting can be chosen before recording a greeting message.<p>
#VLS=2	This command instructs the modem to route only the speaker through the
modem. This setting can be chosen before playing back any message. The modem
immediately switches to Online Voice Command Mode, and the VCON response is
generated for completeness. However, since this is an output only device,
nothing of consequence can happen until the DTE sends the #VTX command.<p>
#VLS=3	This command instructs the modem that only the auxiliary input device
(microphone) should be routed through the modem. This setting can be chosen
before recording a greeting message.<p>
#VLS=4	This command is the same as #VLS =0, except that the modem enables the
internal speaker as well as the telephone line/handset circuit. <p>
#VLS=5	This command selects telephone emulation mode while in #CLS=8 mode.
Speakerphone operation is entered during Voice On-line (VCON) mode after
completing dialing (ATD) or answering (ATA). #VLS=5 will respond ERROR if
speakerphone is supported. <p>
#VLS=6	This command selects speakerphone mode while in #CLS=8 mode. Telephone
emulation operation is entered during Voice On-line (VCON) mode after
completing dialing (ATD) or answering (ATA). #VLS=6 will respond ERROR if
speakerphone is not supported. <p>
#VLS=7	This command, valid after Voice On-line mode, mutes the local handset by
switching the handset or speakerphone out of the telephone line path if in
#VLS=0 or #VLS=6 mode. To unmute, the host software should issue AT#VLS=0 or
AT#VLS=6 to return to phone line or speakerphone mode, respectively. On
hardware designs which incorporate the audio codec, #VLS=7 can be used to route
the codec's output through the phone line to provide music-on-hold feature.<p>
#VLS=8	(Valid after Voice On-line mode.) This command engages the Caller ID
relay to allow recording of conversation when using a handset by routing the
signal to the audio codec (if populated). To deactivate the Caller ID relay,
the host should issue an AT#VLS=0 or AT#VLS=6 to return to phone line or
speakerphone mode, respectively.<p>
#VLS=9	This command routes the handset to the sound codec to allow
recording/playback of audio (e.g. greeting messages) through the local handset. 
<a name="_Toc347715854"></a><p>
<b>Table 7-5. Device Types Supported by #VLS</b>

<pre>
ASCII Digit   Device Type and Considerations                                                  
     0        Telephone Line with Telephone handset. This is the default device selected.     
              In this configuration, the user can pick up a handset which is connected to     
              the same telephone line as the modem, and * record both sides of a              
              conversation with a remote station. The modem currently supports one            
              telephone line/handset, which is in the first position of the #VLS =?           
              response. (Note that the modem can interface to multiple telephone lines by     
              having "0"'s in multiple positions in the #VLS ? response.) If a telephone      
              line is selected, the modem must be on-hook or it hangs up. The OK message is   
              generated.                                                                      
     1        Transmit/Receive Device (other than telephone line). This is a handset,         
              headset, or speaker-phone powered directly by the modem. When such a device     
              is selected, the modem immediately enters Online Voice Command Mode, DTMF       
              monitoring is enabled if applicable, and the VCON response is sent. The modem   
              supports one such device as the second device listed in the #VLS =? response.   
     2        Transmit Only Device. Normally, this is the onboard speaker. When this device   
              is selected, the modem immediately enters Online Voice Command Mode, and the    
              VCON response is sent. The modem supports selection of the internal speaker     
              as the third device listed in #VLS =? response.                                 
     3        Receive Only Device. Normally, this is a microphone. When such a device is      
              selected, the modem immediately enters Online Voice Command Mode, DTMF          
              monitoring is enabled if applicable, and the VCON response is sent. The modem   
              supports one microphone as the fourth element returned in the #VLS =?           
              response.                                                                       
     4        Telephone line with Speaker ON and handset. This device type can be used to     
              allow the DTE to select the telephone line/handset (if picked up) with the      
              modem speaker also turned ON. This can be used by the DTE to allow the user     
              to monitor an incoming message as it is recorded.                               
     5        Telephone Emulation. This is a headset or speakerphone powered directly by      
              the modem. When such a device is selected, the modem immediately enters         
              Online Voice Command Mode, DTMF monitoring is enabled if applicable, and the    
              VCON response is sent.                                                          
     6        Speakerphone. This is a headset or speakerphone powered directly by the         
              modem. When such a device is selected, the modem immediately enters Online      
              Voice Command Mode, DTMF monitoring is enabled if applicable, and the VCON      
              response is sent.                                                               
     7        Muting the Local Handset During Phone Conversation - Music on Hold. This        
              command mutes the local handset by switching the handset or speakerphone out    
              of the telephone line path if in #VLS=0 or #VLS=6 mode. To unmute, the host     
              software should issue AT#VLS=0 or AT#VLS=6 to return to phone line or           
              speakerphone mode, respectively.  On hardware designs which incorporate the     
              audio codec, #VLS=7 can be used to route the codec's output through the phone   
              line to provide music-on-hold feature.                                          
     8        Recording a Handset Conversation on Phone Line. This command engages the        
              Caller ID relay to allow recording of conversation when using a handset by      
              routing the signal to the audio codec (if populated). To deactivate the         
              Caller ID relay, the host should issue AT#VLS=0 or AT#VLS=6 to return to        
              phone line or speakerphone mode, respectively.                                  
     9        Recording/Playback from Handset through Sound Chip.This command (valid after    
              Voice On-line mode) routes the handset to the sound codec to allow              
              recording/playback of audio (e.g. greeting messages) through the local          
              handset.                                                                        
<a name="_Toc343068543"></a><a name="_Toc347715796"></a>
</pre>
<p class="bodytext"><i>
<a name="RTFToC376">#VRA
- Ringback Goes Away Timer (Originate)</a></a>
</a></i></p>
This command can be used, when originating a voice/audio call (#CLS=8) to set
the "Ringback Goes Away" timer value, i.e., an amount of time (in units of 100
ms) measured from when the ringback cadence stops once detected. If ringback is
not detected within this period, the modem assumes that the remote has picked
up the line and switches to Online Voice Command Mode. Every time a ringback
cycle is detected, this timer is reset. <p>
Parameters:	n = 0 - 255 (0 - 2.55 seconds)<p>
Default:	70<p>
Result Code:	OK<p>
Result Code:<p>
OK	If n = 0 - 255.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VRA?	Returns the current setting of the #VRA command as an ASCII decimal value
in result code format.<p>
#VRA=?	Returns the message, "0-255".<p>
#VRA=0	Turns off the "ringback goes away timer." After one ringback, the
dialing modem sends VCON and enters Online Voice Command Mode immediately.<p>
#VRA=n	Where n defines the period without ringback (after at least one ringback
has been detected) in 100 ms units.
<a name="_Toc343068544"></a><a name="_Toc347715797"></a>
<p class="bodytext"><i>
<a name="RTFToC377">#VRN
- Ringback Never Came Timer (Originate)</a>
</i></p>
This command can be used when originating a voice/audio call (#CLS=8) to set
the "Ringback Never Came" timer value, i.e., an amount of time (in units of 100
ms) measured from completion of dialing. If ringback is not detected within
this period, the modem assumes the remote has picked up the line and switches
to Online Voice Command Mode. <p>
Parameters:	n = 0 - 255 (0 - 2.55 seconds)<p>
Default:	100<p>
Result Code:<p>
OK	If n = 0 - 255.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VRN?	Returns the current setting of the #VRN command as an ASCII decimal value
in result code format.<p>
#VRN=?	Returns the message, "0-255".<p>
#VRN=0	Turns off the "ringback never came timer." After dialing, the modem
sends VCON and immediately enters Online Voice Command Mode.<p>
#VRN=n	Where n defines the period without ringback after dialing in 100 ms units.
<a name="_Toc343068545"></a><a name="_Toc347715798"></a>
<p class="bodytext"><i>
<a name="RTFToC378">#VRX
- Voice Receive</a>
</i></p>
This action command is only valid if the modem is in the Online Voice Command
Mode (indicated previously with the VCON message), and is the switch to the
Voice Receive Mode. This command is used when a voice file is to be received
from the line, microphone, or handset. The #VLS command should have been
previously issued to select the input source.<p>
Parameters:	None<p>
Result Codes:<p>
CONNECT	When voice/audio transfer from modem to DTE can begin.<p>
ERROR	If #VLS=0 and not connected to any input device.
<a name="_Toc343068546"></a><a name="_Toc347715799"></a>
<p class="bodytext"><i>
<a name="RTFToC379">#VSD
- Enable Silence Deletion (Voice Receive) [ADPCM]</a>
</i></p>
This command provides no function other than command response compatibility.<p>
Parameters:	n = 0 or 1<p>
Default:	0<p>
Result Code:<p>
OK	If n = 0 or 1.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VSD?	Returns the current setting of the #VSD command as an ASCII decimal value
in result code format.<p>
#VSD=?	Returns the message, "0,1".<p>
#VSD=0	Command provides no function other than command response
compatibility.<p>
#VSD=1	Command provides no function other than command response compatibility.
<a name="_Toc343068547"></a><a name="_Toc347715800"></a>
<p class="bodytext"><i>
<a name="RTFToC380">#VSK
- Buffer Skid Setting</a>
</i></p>
This command queries and sets the number of bytes of spare space, after the
XOFF threshold is reached, in the modem's buffer during Voice Transmit Mode.
This equates to the "skid" spare buffer space, or the amount of data the DTE
can continue to send after being told to stop sending data by the modem, before
the modem voice transmit buffer overflows.<p>
Parameter:	n = 255 (Number of bytes of "skid spare buffer space)<p>
Default:	255<p>
Result Code:<p>
OK	If n = 255.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VSK?	Returns the current setting of the #VSK command as an ASCII decimal value
in result code format.<p>
#VSK=?	Returns the message, "255".
<a name="_Toc343068548"></a><a name="_Toc347715801"></a>
<p class="bodytext"><i>
<a name="RTFToC381">#VSP
- Silence Detection Period (Voice Receive) [ADPCM]</a>
</i></p>
This command sets the Voice Receive Mode silence detection period (inactivity
timer) value. The parameter, in units of 100 ms, can be used when receiving
voice data. This is an amount of time, which if elapsed without receiving any
ADPCM data, causes the modem to send the &lt;DLE&gt;s or &lt;DLE&gt;q codes
after insuring that the buffer is empty.<p>
The modem determines what constitutes silence. This involves monitoring and
debouncing the modem value for average energy. If this debounced value is less
than an arbitrary threshold constituting the modem's definition of silence for
a period greater than that defined by the #VSP setting, the modem sends the
&lt;DLE&gt;q or &lt;DLE&gt;s shielded code to the DTE.<p>
Parameters:	n = 0 - 255 (0 - 25.5 seconds)<p>
Default:	55<p>
Result Code:<p>
OK	If n = 0 - 255.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VSP?	Returns the current setting of the #VSP command as an ASCII decimal value
in result code format.<p>
#VSP=?	Returns the message, "0-255".<p>
#VSP=0	Turns off the silence period detection timer.<p>
#VSP=n	Where n defines the period without received voice data in 100 ms units.
<a name="_Toc343068549"></a><a name="_Toc347715802"></a>
<p class="bodytext"><i>
<a name="RTFToC382">#VSR
- Sampling Rate Selection</a> 
</i></p>
This parameter, along with the bits per sample (#VBS) command, determines the
necessary DTE interface speed to transmit and receive in Voice/Audio Mode.<p>
Parameters:	n=7200 (7200 Hz sampling rate for ADPCM or PCM), or <br>n=11025
(11.025 kHz sampling rate for PCM only)<p>
Default:	7200<p>
Result Codes:	<p>
OK	If n=7200, or if n=11025 and #VBS=8<p>
ERROR	Otherwise<p>
Command options:<p>
#VSR?	Returns the current setting of the #VSR command as an ASCII decimal value
in result code format.<p>
#VSR=?	Returns the message "7200, 11025"<p>
#VSR=7200	Selects 7200 Hz sampling rate<p>
#VSR=11025	Selects 11.025 kHz sampling rate
<a name="_Toc343068550"></a><a name="_Toc347715803"></a>
<p class="bodytext"><i>
<a name="RTFToC383">#VSS
- Silence Detection Tuner (Voice Receive) [ADPCM]</a>
</i></p>
This command enables or disables the Voice Receive mode silence detection, and
controls the sensitivity employed by the modem in ADPCM compressing periods of
silence. <p>
Parameters:	n = 0 - 3<p>
Default:	0<p>
Result Codes:<p>
OK	If n = 0 - 3.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VSS?	Returns the current setting of the #VSS command as an ASCII decimal value
in result code format.<p>
#VSS=?	Returns the message "0,1,2,3". <p>
#VSS =0	Disables silence detection by the modem when in Voice Receive Mode
(default). <p>
#VSS =1	Least sensitive setting. When this command is received by the modem,
the system is configured to a state which is least likely to detect and
compress periods of silence, but still able to do so if the line is really
quiet. <p>
#VSS =2	Midrange setting. When this command is received by the modem, the
system is configured to a state which is likely to be the best overall
compromise on normal telephone lines.<p>
#VSS =3	Most sensitive setting. When this command is received by the modem, the
system is configured to a state which is most likely to detect and compress
periods of silence.
<a name="_Toc343068551"></a><a name="_Toc347715804"></a>
<p class="bodytext"><i>
<a name="RTFToC384">#VTD
- DTMF Tone Reporting</a>
</i></p>
This command queries and controls which types of tones can be detected and
reported to the DTE via shielded codes in Voice Transmit, Voice Receive, and
Online Voice Command Modes.<p>
Parameters:	i, j, k (three ASCII hexadecimal bit maps)<p>
Default:	3F, 3F, 3F<p>
Result Codes:<p>
OK	If bits supported with #VTD=? are selected.<p>
ERROR	Otherwise.<p>
Command options:<p>
#VTD?	Returns the current setting of the #VTD command as an ASCII decimal value
in result code format.<p>
#VTD=?	Returns the tone reporting capabilities of the modem.<p>
#VTD=i,j,k	Where i,j,k corresponds (in ASCII hexadecimal) to the desired
capabilities, as shown in Table 7-6, for Voice Transmit, Voice Receive, and
Online Voice Command Modes, respectively.<p>
<a name="_Toc347715855"></a><p>
<b>Table 7-6. #VTD Tone Detection/Reporting Bit Settings</b>

<pre>
    Bit       Description                                                        
     0        0 = Disable DTMF tone capability;<br>1 = Enable DTMF tone             
              capability 1.                                                      
     1        0 = Disable V.25 1300 Hz Calling tone capability;<br>1 = Enable       
              V.25 1300 Hz Calling tone capability 1.                            
     2        0 = Disable T.30 1100 Hz Facsimile Calling tone capability;<br>1 =    
              Enable T.30 1100 Hz Facsimile Calling tone capability 1.           
     3        0 = Disable V.25/T.30 2100 Hz Answer tone capability;<br>1 = Enable   
              V.25/T.30 2100 Hz Answer tone capability 1.                        
     4        0 = Disable Bell 2225 Hz Answer tone capability;<br>1 = Enable Bell   
              2225 Hz Answer tone capability 1.                                  
     5        0 = Disable call progress tone and cadence (e.g., busy and dial    
              tone) capability;<br>1 = Enable call progress tone and cadence        
              (e.g., busy and dial tone) capability 1.                           
    6-7       Reserved.                                                          
Notes: 1. The modem detects this tone/cadence, and reports it via a shielded       
code to the DTE.   2. Tone detection is only performed when the sampling rate      
is 7.2 kHz (see the #VSR command).                                                 

</pre>

<a name="_Toc343068552"></a><a name="_Toc347715805"></a>
<p class="bodytext"><i>
<a name="RTFToC385">#VTM
- Enable Timing Mark Placement</a>
</i></p>
This command controls the placement of &lt;DLE&gt;&lt;T&gt; timing marks by the
DCE in the data stream during ADPCM recording.<p>
Parameters:	n=0 (disabled) or 10 (1 second interval)<p>
Default:	n=0 (disabled)<p>
Result Codes:<p>
OK	If n=0 or 10<p>
ERROR	Otherwise<p>
Command Options:<p>
#VTM?	Returns the current setting of the #VTM command as an ASCII decimal value
in result code format.<p>
#VTM=?	Returns "0, 10"
<a name="_Toc343068553"></a><a name="_Toc347715806"></a>
<p class="bodytext"><i>
<a name="RTFToC386">#VTS
- Generate Tone Signals (Online Voice Command)</a>
</i></p>
This action command can be issued to play one of more DTMF or other tones (such
as a "beep") if and only if the modem is in the Online Voice Command Mode and
the sampling rate (see the #VSR command) is set to 7.2 kHz. The modem parses
and plays the tones defined in the parameter in the order listed, and no key
abort is accepted. The parameter can have three types of elements separated by
commas, and following "#VTS=":<p>
Dual or Single Tones with Variable Duration: These are represented by the
substring [x,y,z] (enclosed in square brackets, "[ ]", as shown) in the
parameter field. Each such substring consists of three sub-elements
corresponding to the two frequencies (i.e., x and y), and the duration (i.e.,
z).<br><br>[x,y,z]	x represents the first frequency (0 or 200-3000 Hz)<br>		y
represents second frequency (0 or 200-3000 Hz)<br>		z represents the duration
(which is ASCII decimal in units of 100 ms)<br><p>
DTMF Digits with Variable Duration. This is represented by a substring {x,z}
(enclosed in curly braces, "{}", as shown) in the parameter field. Each such
substring consists of two sub-elements corresponding to a DTMF digit (i.e., x)
and the duration (i.e., z).<br><br>{x,z}	x represents the DTMF digit
(0-9,A-D,*,#)<br>		z represents the duration (which is ASCII decimal in units
of 100 ms)<br><p>
DTMF Digits, with duration defined by #VBT. This is represented by a value x
(non-bracketed) corresponding to a DTMF digit (i.e., x) in the parameter
field.<br><br>x		x represents the DTMF digit (0-9,A-D,*,#), with the duration
defined by #VBT<p>
Command options:<p>
#VTS=[x,y,z], {x,z}, and/or x, as described above.<p>
Parameters:	The tone generation consists of elements in a list with each
element separated by commas.<p>
Result Codes:<p>
OK	Command to play tones on currently selected device is accepted.<p>
ERROR	Command was not issued during Online Voice Command Mode or string is
grammatically incorrect.
<a name="_Toc343068554"></a><a name="_Toc347715807"></a>
<p class="bodytext"><i>
<a name="RTFToC387">#VTX
- Voice Transmit</a>
</i></p>
This action command can be issued if and only if the modem is in the Online
Voice Command Mode (indicated previously with the VCON message), and is the
switch to Voice Transmit Mode. #VTX is used when a voice file is to be
transmitted to the line, speaker, or handset. The #VLS command should have been
previously issued to select the output source.<p>
Parameters:	None<p>
Result Codes:	<p>
CONNECT	When voice transmission by DTE can begin.<p>
ERROR	If #VLS =0 and output device not connected.
<a name="_Toc343068555"></a><a name="_Toc347715808"></a>
<p class="bodytext"><i>
<a name="RTFToC388">#VGT
- Set Playback Volume in the Command State</a>
</i></p>
The #VGT command allows the DTE to set the playback volume of the headphone and
speaker outputs via the on-board digital potentiometer while in the command
state. The application can use #VGT=? command to determine the range of valid
values. The lowest value in the range means the lowest transmit level while the
highest in the range means the highest transmit level. <p>
Parameters:	n=128 to 228<p>
Default:	153<p>
Result Codes:<p>
OK	if n=128 to 228<p>
ERROR	Otherwise<p>
Command Options:<p>
#VGT=?	Returns "128-228" if the external volume control is present, otherwise
"128".<p>
VGT?	153 (default).
<a name="_Toc343068556"></a><a name="_Toc347715809"></a>
<p class="bodytext"><i>
<a name="RTFToC389">&lt;DLE&gt;&lt;u&gt;
and &lt;DLE&gt;&lt;d&gt; - Set Playback Volume in the Data State</a>
</i></p>
The &lt;DLE&gt;u and &lt;DLE&gt;d action commands allow the DTE to adjust the
playback volume of the headphone and speaker outputs via the on-board digital
potentiometer while in the data state. The application may embed the
&lt;DLE&gt;u and &lt;DLE&gt;d codes into the playback data to adjust the volume
during playback. Each &lt;DLE&gt;u or &lt;DLE&gt;d will increment or decrement
the transmit level by 1 unit, respectively. Adjustment by a value greater than
1 may be achieved by transmitting a string of the appropriate &lt;DLE&gt;
codes. A string consisting of
"&lt;DLE&gt;u&lt;DLE&gt;u&lt;DLE&gt;u&lt;DLE&gt;u&lt;DLE&gt;u", for example,
would increase the playback volume by a value of 5 units. The &lt;DLE&gt;u and
&lt;DLE&gt;d codes can be used to adjust the volume within the range of
128-228.<p>
Command Options:<p>
&lt;DLE&gt;&lt;u&gt;	Increment volume (transmit level) by 1 unit in data
state.<p>
&lt;DLE&gt;&lt;d&gt;	Decrement volume (transmit level) by 1 unit in data state.
<a name="_Toc343068557"></a><a name="_Toc347715810"></a>
<p class="bodytext"><b><i>
<a name="RTFToC390">7.3.3
Speakerphone Commands</a>
</i></b></p>
Modem speakerphone models support full-duplex speakerphone operation. Hardware
designs typically include an audio codec which support functions such as music
on hold, telephone/speakerphone conversation recording, and handset recording
through the audio codec. <p>
This section describes the AT commands used by host software to enable
speakerphone operation and route the audio codec to and from the telephone
line/handset. Also described is a procedure to operate speakerphone, headset,
and handset modes with VoiceView.<p>
The #VLS=6 setting selects speakerphone mode while in #CLS=8 or +FCLASS=80
mode. Speakerphone operation is entered during Voice On-line (VCON) mode after
completing dialing (ATD) or answering (ATA).  
<a name="_Toc343068558"></a><a name="_Toc347715811"></a>
<p class="bodytext"><i>
<a name="RTFToC391">Originating
a Call in Speakerphone Mode</a>
</i></p>
To initiate a call with the speakerphone, issue:<p>
AT#CLS=8<p>
AT#VRN=0<p>
AT#VLS=6	(Selects the speakerphone)<p>
It is recommended to set the VRN command to 0 which disables ringback detection
before reporting the VCON message.<p>
ATDT&lt;number&gt;<p>
The modem then responds with:<p>
VCON	(based on the AT#VRA and #VRN setting)<p>
Additional DTMF (for example in a voice mail application) can be entered by
issuing:<p>
AT#VTS=&lt;digit&gt;<p>
When DTMF digits are sent, it is recommended that the default value of the tone
length be changed to 100 ms using the command #VBT:<p>
AT#VBT=1<p>
The call can be transferred (PBX function) by entering the flash dial modifier
(AT#VTS=!).<p>
Terminate the call with:<p>
ATH
<a name="_Toc343068559"></a><a name="_Toc347715812"></a>
<p class="bodytext"><i>
<a name="RTFToC392">Answering
a Call in Speakerphone Mode</a>
</i></p>
To answer a call in speakerphone mode, issue:<p>
AT#CLS=8<p>
AT#VLS=6	(Selects the speakerphone)<p>
When the modem detects the ring, the modems reports:<p>
RING<p>
The DTE can answer with:<p>
ATA<p>
The modem sets the speakerphone and sends:<p>
VCON<p>
Terminate the call with:<p>
ATH
<a name="_Toc343068560"></a><a name="_Toc347715813"></a>
<p class="bodytext"><i>
<a name="RTFToC393">Muting
the Local Handset During Phone Conversation - Music on Hold</a>
</i></p>
To mute the local handset during a phone conversation, issue the the following
command:<p>
AT#VLS=7 (valid after Voice On-line mode)<p>
This command mutes the local handset by switching the handset or speakerphone
out of the telephone line path if in #VLS=0 or #VLS=6 mode. <p>
To unmute, the host should issue an AT#VLS=0 or AT#VLS=6 to return to phone
line or speakerphone mode, respectively.<p>
On hardware designs which incorporate the audio codec, #VLS=7 can be used to
route the codec's output through the phone line to provide music-on-hold feature.
<a name="_Toc343068561"></a><a name="_Toc347715814"></a>
<p class="bodytext"><i>
<a name="RTFToC394">Recording
a Handset Conversation on the Phone Line</a> 
</i></p>
To recording a handset conversation on the phone line, issue:<p>
AT#VLS=8 (valid after Voice On-line mode)<p>
This command engages the Caller ID relay to allow recording of conversation
when using a handset by routing the signal to the audio codec (if populated).
<p>
To deactivate the Caller ID relay, the host should issue an AT#VLS=0 or
AT#VLS=6 to return to phone line or speakerphone mode, respectively.
<a name="_Toc343068562"></a><a name="_Toc347715815"></a>
<p class="bodytext"><i>
<a name="RTFToC395">Recording/Playback
from Handset through Sound Chip</a>
</i></p>
To recording/playback from the handset through a sound chip (valid after voice
on-line mode), issue:<p>
AT#VLS=9<p>
This command routes the handset to the sound codec to allow recording/playback
of audio (e.g. greeting messages) through the local handset.  
<a name="_Toc343068563"></a><a name="_Toc347715816"></a>
<p class="bodytext"><i>
<a name="RTFToC396">#SPK
Parameter</a>
</i></p>
The setting of the speakerphone can be changed with the AT#SPK command:<p>
AT#SPK=&lt;mute&gt;,&lt;spkr&gt;,&lt;mic&gt;<p>
The #SPK command can be used to control the microphone state (mute or on),
adjust the speaker volume, and microphone gain. The #SPK parameters are are
valid only after the modem has entered the Voice Online (VCON) mode while in
the #VLS=6 setting (after a VCON during originate or answer). The modem will
respond "ERROR"  otherwise. <p>
Parameters:<p>
&lt;mute&gt;	Mute Parameter Number<p>
	0	microphone mute<p>
	1	microphone on (default)<p>
	2	Room Monitor mode (mic on max AGC, speaker off)<p>
&lt;spkr&gt;	Speaker Output Attentuation <p>
	Range: 0 to15 (speaker attenuation in 2 dB steps)<p>
	0	0 dB attneuation<p>
	.<p>
	5	10 dB attenuation (default)<p>
	.<p>
	15	30 dB attentuation<p>
	16	Speaker mute<p>
&lt;mic&gt;	Microphone Gain Parameter <p>
	Range: 0 to 3<p>
	0	0 dB<p>
	1	6 dB gain (default)<p>
	2	9.5 dB gain<p>
	3	12 dB gain<p>
It is not necessary to enter all &lt;mute&gt;, &lt;skpr&gt;, &lt;mic&gt;
options while issuing AT#SPK. For example:<p>
1.	To mute the microphone without changing speaker volume, issue AT#SPK=0,,,.
<p>
2.	To change speaker volume to 6 without affecting microphone setting, issue
AT#SPK=,6,,.<p>
3.	To change speaker volume to 2 and microphone gain to 9.5 dB, issue
AT#SPK=,6,2.
<a name="_Toc343068564"></a><a name="_Toc347715817"></a>
<p class="bodytext"><i>
<a name="RTFToC397">Room
Monitor</a>
</i></p>
The modem can be configured to a listen only mode where the microphone
automatic gain control is set to maximum (50 dB).  The feature is called Room
Monitor and the allow an application where a remote caller calls the computer
to monitor what is happening the room.  The following setting will enable Room
Monitor mode.<p>
AT#SPK=2,,,
<a name="_Toc343068565"></a><a name="_Toc347715818"></a>
<p class="bodytext"><i>
<a name="RTFToC398">Switching
Between #VLS Settings</a>
</i></p>
Switching between different #VLS settings during Voice On-line mod is permitted
although only certain combinations may be useful. The #VLS settings are grouped
into local and remote.  Switching between #VLS settings should be within either
local or remote groups.<p>
Local #VLS settings are defined as the modem being on-hook and isolated from
the telco line<p>
during Voice On-line (VCON) mode.  The local settings are #VLS=1, #VLS=2,
#VLS=3, and #VLS=9.  Remote #VLS settings are defined as the modem being
off-hook and connected to the telco line during Voice On-line mode.  The remote
settings are #VLS=0, #VLS=4, #VLS=5, #VLS=6. #VLS=7, and #VLS=8.
<h5>
<a name="RTFToC399">Example
1
</a></h5>
An example of how host software will switch #VLS settings in local mode is an
application which records a greeting message through the handset and review the
message through the speaker.  To accomplish this functionality, the modem is
set to #VLS=1 (local handset recording/playback) during the recording process
and is switched to #VLS=2 (playback through speaker) to monitor the playback.
<h5>
<a name="RTFToC400">Example
2 
</a></h5>
An example of how host software will switch #VLS settings in remote mode is a
telephone answering application which has a call screening mode.  The
application plays a greeting message with the speaker off (#VLS=0) and switches
the speaker on when recording the incoming message (#VLS=4).  If the user
decides to answer the call he picks up the handset (a &lt;DLE&gt;t is reported
to the software), the recording process will stop and the modem releases the
line (ATH).  
<a name="_Toc343068566"></a><a name="_Toc347715819"></a>
<p class="bodytext"><i>
<a name="RTFToC401">Reporting
of Local Handset Status</a>
</i></p>
The modem reports the off-hook to on-hook and on-hook to off-hook transition of
the local handset by the &lt;DLE&gt;h and &lt;DLE&gt;t characters,
respectively.  The handset status is reported after the issuing of the AT#CLS=8
command and updated whenever transitions of the handset status are detected.
This handset status reporting does not depend if the modem is in Voice On-line
(VCON) mode.<p>
This is useful for auto dialer applications which need to know the handset
transitions during and after the dialing process.
<a name="_Toc343068567"></a><a name="_Toc347715820"></a>
<p class="bodytext"><b><i>
<a name="RTFToC402">7.3.4
Using VoiceView with Speakerphone, Headset, and Handset modes</a>
</i></b></p>
Handset (#VLS=0), speakerphone (#VLS=6), or headset mode (#VLS=5) can be
selected during VoiceView mode (+FCLASS=80), when dialing is done on the
handset. The ATA command is not accepted while in VoiceView mode in accordance
with the VoiceView Protocol specification. While in VoiceView mode, the modem
can alternate between handset mode (#VLS=0) or speakerphone mode (#VLS=6)
settings for voice conversation.<p>
To terminate a call using a handset in VoiceView mode, hang up the handset. <p>
To terminate a speakerphone call in VoiceView mode, issue the ATH command.  
<h5>
<a name="RTFToC403">Example
3
</a></h5>
Originate a VoiceView call with handset dialing and switch to speakerphone and
handset modes:

<pre>
       DTE commands         DCE Response        Function                                       
                                                Pick up handset, dial number, and establish    
                                                voice conversation.                            
AT+FCLASS=80                                    Enable VoiceView mode.                         
                            OK                                                                 
AT#VLS=6                                        Switch to speakerphone mode.                   
                            OK                                                                 
                                                (Establish VoiceView Data Mode using normal    
                                                VoiceView procedures.)                         
                                                Continue with speakerphone conversation.       
AT#VLS=0                                        Switch to handset for privacy.                 
                            OK                                                                 
                                                Hang up handset to terminate call.             

</pre>

<h5>
<a name="RTFToC404">Example
4
</a></h5>
Originate a VoiceView call with handset dialing and switch to speakerphone mode:

<pre>
     DTE commands       DCE Response            Function                                       
                                                Pick up handset, dial number, and establish    
                                                voice conversation.                            
AT+FCLASS=80                                    Enable VoiceView mode.                         
                        OK                                                                     
AT#VLS=6                                        Switch to speakerphone mode.                   
                        OK                                                                     
                                                (Establish VoiceView Data Mode using normal    
                                                VoiceView procedures.)                         
                                                Continue with speakerphone conversation.       
ATH                                             Terminate speakerphone call.                   
<a name="_Toc343068568"></a><a name="_Toc347715821"></a>
</pre>
<p class="bodytext"><i>
<a name="RTFToC405">Using
Modem as Dialer Prior to VoiceView Mode</a></a>
</a></i></p>
To use the modem to dial a call,  the modem must be in Voice On-line mode (via
#CLS=8) to dial before enabling VoiceView mode.  VoiceView mode can enabled by
the AT+FCLASS=80 parameter after Voice On-line (VCON) mode in handset,
speakerphone or handset emulation modes. The modem can be switched between
handset (#VLS=0) and speakerphone (#VLS=6) modes during +FCLASS=80, as
described in the previous section.
<h5>
<a name="RTFToC406">Example
5
</a></h5>
Originate VoiceView call in Speakerphone mode:

<pre>
     DTE commands       DCE Response            Function                                       
AT#CLS=8#VRN=0#VLS=6                            Set modem to Speakerphone mode.                
                        OK                                                                     
ATDTnnnnnnn                                     Dial remote caller.                            
                        VCON                    Call established.                              
AT+FCLASS=80                                    Enable VoiceView mode.                         
                        OK                                                                     
                                                (Establish VoiceView Data Mode using normal    
                                                VoiceView procedures.)                         
                                                Continue with speakerphone conversation.       
ATH                                             Terminate speakerphone call.                   
<a name="_Toc343068569"></a><a name="_Toc347715822"></a>
</pre>
<p class="bodytext"><b>
<a name="RTFToC407">7.4
S-REGISTERS</a></a> 
</a></b></p>
The following S-Register is global, meaning that it can be set in any
appropriate mode (i.e., any #CLS setting).
<a name="_Toc343068570"></a><a name="_Toc347715823"></a>
<p class="bodytext"><i>
<a name="RTFToC408">S30
- Disconnect Inactivity Timer</a>
</i></p>
Range:	n = 0 - 255<p>
Default:	0 (OFF, which means DTE should usually set it to some value for
Voice)<p>
Command options:<p>
S30=0	Disconnect Inactivity timer off. No matter how long it might continue,
the modem never spontaneously hangs up the telephone line or switches to
autobaud mode as a result of inactivity.<p>
S30=1 to 255	This is the period of time (in seconds), which if expired causes
the modem to hang up the telephone line if it is off-hook and no data has
passed during the period. The timer is also active whenever the #BDR setting is
non-zero. In order to avoid a state where speed sense is disabled (even though
the PC can crash, come back up, and try to issue commands at what should be a
supported speed), the inactivity time-out occurs if there is no data passed on
the DTE interface within the S30 period, even if the modem is on-hook. DTE
software must not select a nonzero setting for #BDR until it is ready to
establish a telephone call or virtual connection to a speaker or microphone.
When there is an inactivity time out with #CLS=8, the modem always forces
#CLS=0 and #BDR=0.
<a name="_Toc343068571"></a><a name="_Toc347715824"></a>
<p class="bodytext"><b>
<a name="RTFToC409">7.5
RESULT CODES FOR VOICE OPERATION</a>
</b></p>
VCON	VCON is sent when the modem is configured for voice/audio (#CLS=8), or
when after answering or originating a call, the modem enters the Online Voice
Command Mode for the first time. Typically, this is immediately after an
off-hook in answer mode, and after ringback ceases in originate mode. VCON is
also sent when the DTE requests a switch from Voice Transmit Mode to Online
Voice Command Mode by issuing a &lt;DLE&gt;&lt;ETX&gt; to the modem, or when
the DTE requests a switch from Voice Receive Mode to Online Voice Command Mode
via the key abort.<p>
CONNECT	CONNECT is sent when switching from the Online Voice Command Mode to
either Voice Receive Mode via the #VRX command, or to Voice Transmit Mode via
the #VTX command. This message is sent to the DTE to inform it that it may
begin receiving or sending ADPCM or PCM data.
<a name="_Toc343068572"></a><a name="_Toc347715825"></a>
<p class="bodytext"><b>
<a name="RTFToC410">7.6
EXAMPLES OF VOICE OPERATION</a>
</b></p>
See Tables 7-7 through 7-13.
<a name="_Toc347715856"></a><p>
<b>Table 7-7. Record a Greeting Message</b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
#CLS=8                      Configure the modem for Voice Mode.                                
              OK            The modem confirms command implemented, and is now set up for      
                            voice.                                                             
#VBS=4                      The DTE asks for 4-bit compression (ADPCM). The DTE needs to       
                            work at 38,400 bps since after start and stop bits are added,      
                            the speed increases to 36,000 bps.                                 
              OK            The modem is configured for 4-bit compression.                     
S30=60                      DTE wants to insure that the modem can recover even if DTE dies    
                            with the baud rate set to a speed which cannot be speed sensed.    
              OK            Modem now has Disconnect Inactivity timer set to 1 minute. If no   
                            activity takes place after a connection, or no DTE activity        
                            takes place after #BDR is changed, the modem reverts to #CLS=0,    
                            #BDR=0.                                                            
#BDR=16                     The DTE knows that compression requires a 38,400 bps speed, so     
                            it forces this as the new speed. (For this example, lets say       
                            that the DTE was sending all commands, including this one, at      
                            2400 bps.)                                                         
              OK            This OK message is sent at 2400 bps, but the modem then switches   
                            to 38,400 bps. All subsequent commands are assumed to be sent at   
                            38,400 bps. If the DTE does not switch to 38,400 bps after the     
                            OK&lt;CR&gt;&lt;LF&gt;, it will not recognize the data stream coming from      
                            the modem. The S30 timer is now active.                            
#VSP=20                     The DTE changes its own speed to 38,400 bps and sends this         
                            command to set up the silence detection period for 2 seconds.      
              OK            The modem agrees. When receiving voice data, 2 seconds of          
                            silence terminates the Receive Mode. For handset operation, this   
                            amounts to a hang up.                                              
#VSS =1                     The DTE has decided to use level "1" silence detection             
                            sensitivity, meaning it is making it somewhat more difficult to    
                            delete and compress silence for the modem, but expects that when   
                            the user has hung up the handset, the silence is indeed            
                            detected. The DTE has tried to improve the quality of the          
                            message because it knows this is a handset operation. The #VSP     
                            timer is based upon average energy readings from the modem.        
              OK            The modem confirms command reception.                              
#VLS=?                      Find out what type of devices are supported by the product.        
              0,1,2,3,4<br><br>O  The modem tells the DTE that is has a telephone line with          
              K             handset (#VLS=0), an input/output device such as a handset or      
                            speaker-phone (#VLS=1), and an output only device such as a        
                            speaker.                                                           
#VLS=1                      Select the handset as the input device to be used by the modem.    
              VCON          The modem agrees, switches out the telephone line, switches in     
                            the handset, and the modem enters Online Voice Command Mode.       
                            Since this is a handset, and since the baud rate has been          
                            preselected with #BDR, this also means that DTMF detection and     
                            reporting is now enabled. The user can pick up the telephone and   
                            send tones at this point, which are delivered as shielded codes    
                            to the DTE, although the voice data is not yet being passed.       

#VRX                        This tells the modem that the DTE is ready to receive a voice      
                            message at the current compression/sampling settings.              
              CONNECT       The modem tells the DTE that it can now expect data. The modem     
                            enters Voice Receive Mode. DTMF monitoring is still enabled as     
                            well as ADPCM data flow.                                           
              &lt;Data&gt;        User says: "Hello, this is me, press * to skip this message. I'm   
                            happy that you have called, so press 5 to send your fax, or you    
                            can leave your message at the beep." User then hangs up, the       
                            message is buffered to the DTE, and the DTE waits for the          
                            message to end. The DTE should have some kind of maximum timer     
                            running to ensure that the user won't speak longer than some       
                            predetermined limit. Alternatively, the DTE can require the user   
                            to enter a DTMF tone to terminate transmission of the message to   
                            the DTE.                                                           
              &lt;DLE&gt;q        The modem has noticed (#VSP time out) that the user has            
                            finished. The modem reports this while staying in Voice Receive    
                            Mode. DTMF detection and reporting is still active. The DTE now    
                            has the entire greeting message on disk.                           
              &lt;DLE&gt;*        The user has inadvertently pressed the "*" button, but the DTE     
                            is not interested in this presently.                               
!                           The DTE issues a key abort to switch to Online Voice Command       
                            Mode.                                                              
              &lt;DLE&gt;&lt;ETX&gt;<br>V  The modem exits Voice Receive Mode and switches to Online Voice    
              CON           Command Mode.                                                      
#VLS=0                      The DTE did not really have to do this, but wants to make sure     
                            that it gets no more DTMF codes from the handset. Selection of     
                            the telephone line here forces the modem out of Online Voice       
                            Command Mode, which is equivalent to hanging up.                   
              OK                                                                               

</pre>
<a name="_Toc347715857"></a><p>
<b>Table 7-8. Playback a Greeting Message</b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
#CLS=8                      Configure the modem for Voice Mode.                                
              OK            The modem confirms command reception, and is now set up for        
                            voice.                                                             
#VBS=4                      The DTE asks for 4-bit compression. The data from the DTE needs    
                            to travel at 38,400 bps since after start and stop bits are        
                            added, the speed increases to 36,000 bps.                          
              OK            The modem is configured for 4-bit compression (ADPCM).             
#BDR=16                     The DTE knows that compression requires a 38,400 bps speed, so     
                            it forces this as the new speed. (For this example, lets say       
                            that the DTE was sending all commands, including this one, at      
                            4800 bps.)                                                         
              OK            This OK message is sent at 4800 bps, but the modem switches to     
                            38,400 bps. All subsequent commands are assumed to be sent at      
                            38,400 bps. The DTE should switch after the &lt;CR&gt;&lt;LF&gt; following     
                            the OK. The S30 timer is now active.                               
#VLS=2                      Select the speaker as the output device to be used by the modem.   
              VCON          The modem confirms command reception, and enters Online Voice      
                            Command Mode. Since this is an output only device, nothing more    
                            can happen yet.                                                    
#VTX                        This tells the modem that the DTE is ready to send voice per the   
                            current compression/sampling settings.                             
              CONNECT       The modem tells the DTE that it can now send data. The modem       
                            enters Voice Transmit Mode and ADPCM data flow begins.             
&lt;Data&gt;                      The DTE sends data. The modem waits 1 second before starting to    
                            transmit to the speaker to ensure uninterrupted data flow. If      
                            the voice transmit buffer runs empty, the transmitter is           
                            disabled.                                                          
&lt;DLE&gt;&lt;ETX&gt;                  The DTE has finished its transmission and now instructs the        
                            modem to enter Online Voice Command Mode after emptying the        
                            voice transmit buffer.                                             
              VCON          The modem tells the DTE it is done. If the DTE sends the           
                            &lt;DLE&gt;&lt;ETX&gt; before the modem has finished transmitting all the      
                            data in its buffer, the DTE must wait for this response. (VCON     
                            indicates that the DTE can send more data at any time with #VTX.)  

</pre>
<a name="_Toc347715858"></a><p>
<b>Table 7-9. Answer Call/Play Greeting/Record Message</b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
#CLS=8                      Configure the modem for Voice Mode. Note that the #BDR setting     
                            is assumed to be zero here, meaning that no time-out occurs        
                            forcing #CLS=0.                                                    
              OK            The modem agrees, and is now set up for voice.                     
#VBS=4                      The DTE asks for 4-bit compression for greeting message playback   
                            (ADPCM). The DTE needs to work at 38,400 bps since after start     
                            and stop bits are added, the speed increases to 36,000 bps.        
              OK            The modem is configured for 4-bit compression.                     
#VSS =2                     Sets silence detection sensitivity to midrange.                    
              OK            The modem confirms command reception.                              
#VLS=0                      Select the telephone line as the source, ensuring that the modem   
                            is now on-hook. DTMF detection is now off regardless of the        
                            previous setting of #VLS.                                          
              OK            The modem confirms command reception, and it switches in the       
                            telephone line.                                                    
              RING          Some time later, we receive the first call. (Note that the modem   
                            also processes Caller ID information at this time.)                
#CLS=8                      Configure the modem for Voice Mode again. Although the modem has   
                            already been so configured, it is a good idea to select #CLS=8     
                            directly following a RING because in normal use, any S30           
                            time-out or hang up during Voice Mode forces #CLS=0.               
              OK            The modem agrees, and is now definitely set up for voice.          
#BDR=16                     The DTE knows that compression requires a 38,400 bps speed, so     
                            it forces this as the new speed. (For this example, lets say       
                            that the DTE was sending all commands, including this one, at      
                            9600 bps.)                                                         
              OK            This OK message is sent at 9600 bps, but the modem then switches   
                            to 38,400 bps. All subsequent commands are assumed to be sent at   
                            38,400 bps until either another #BDR command is received or        
                            until the S30 timer expires. The S30 timer is now activated, and   
                            the default is 60 seconds.                                         
A                           The DTE tells the modem to answer.                                 
              VCON          The modem is now in Online Voice Command Mode. DTMF and calling    
                            tone detection is enabled.                                         

#VTX                        The DTE does not wait for any tones, and tells the modem that it   
                            is ready to send a voice greeting at the current compression and   
                            sampling settings (4-bit/7200).                                    
              CONNECT       The modem tells the DTE that it can now send data. The modem       
                            enters Voice Transmit Mode and DTMF monitoring is still enabled    
                            as well as the ADPCM data flow.                                    
&lt;Data&gt;                      The DTE sends greeting message data. The modem waits up to 1       
                            second or until XOFF threshold is reached before starting to       
                            transmit to ensure uninterrupted data flow. If the voice           
                            transmit buffer runs empty, the transmission is disabled.          
&lt;DLE&gt;&lt;ETX&gt;                  The DTE has finished with its transmission, and now instructs      
                            the modem to enter Online Voice Command Mode since this is the     
                            telephone line.                                                    
              VCON          The modem tells the DTE it is done. If the DTE sends the           
                            &lt;DLE&gt;&lt;ETX&gt; before the modem has finished transmitting all the      
                            data in its voice transmit buffer, the DTE must wait for this      
                            response.                                                          
#VBT=12                     The DTE requests that DTMF digits be sent as "beeps" with the      
                            #VTS command while in Online Voice Command Mode, with each         
                            "beep" having a duration of 1.2 seconds.                           
              OK            The modem confirms command reception                               
#VTS=#                      The DTE sends a "BEEP" to annotate its greeting message. This      
                            beep is a 1.2 second long DTMF #. During this period, the no       
                            abort is possible from the DTE, and should not be necessary.       
              OK            After the modem sends the "BEEP", it sends OK to inform the DTE    
                            that it is ready to move on. DTMF pass through is re-enabled.      
#VBS=4                      The DTE asks for 4-bit compression to recorded message. The DTE    
                            needs to work at 38,400 bps since after start and stop bits are    
                            added the speed increases to 36,000 bps.                           
              OK            The modem is configured for 4-bit compression.                     
#VRX                        The DTE instructs the modem to turn the line around and begin      
                            recording a message from the remote.                               
              CONNECT       The modem sets things up and enables ADPCM data transfer to the    
                            DTE with the current silence detection sensitivity setting.        
              &lt;Data&gt;        ADPCM data is shipped to the DTE with shielded DTMF tones folded   
                            in. The modem is looking for silence, busy, dial tone, and loop    
                            break. The DTE records everything in its storage media.            
              &lt;DLE&gt;b        The caller has finished, hung up, and in this case, a busy         
                            cadence was detected before anything else such as expiration of    
                            the #VSP silence detection period.                                 
X                           The DTE uses a key abort to respond to a busy detection.           
              &lt;DLE&gt;&lt;ETX&gt;<br>V  The modem is now in Online Voice Command Mode.                     
              CON                                                                              
H                           DTE sends modem to #CLS=0 with #BDR=0.                             

</pre>
<a name="_Toc347715859"></a><p>
<b>Table 7-10. Call/Record Message/Receive Fax</b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
#CLS=8                      Configure the modem for Voice Mode.                                
              OK            The modem agrees, and is now set up for voice.                     
#VBS=4                      The DTE asks for 4-bit compression (ADPCM). The DTE needs to       
                            work at 38,400 bps since after start and stop bits are added the   
                            speed increases to 36,000 bps.                                     
              OK            The modem is configured for 4-bit compression.                     
#VSS=2                      Sets silence detection sensitivity to midrange.                    
              OK            The modem confirms command reception.                              
#VLS=0                      This selects the telephone line, and ensures that it is on-hook.   
              OK            The modem confirms command reception, and switches in the          
                            telephone line.                                                    
#CLS=8                      This ensure things are set up for voice.                           
              OK            The modem confirms command reception, and is now set up for        
                            voice.                                                             
              RING          Sometime later, the next call is received. The modem answers.      
#BDR=16                     The DTE knows that compression requires a 38,400 bps speed, so     
                            it forces this as the new speed. (For this example, lets say       
                            that the DTE was sending all commands, including this one, at      
                            9600 bps.)                                                         
              OK            This OK message is sent at 9600 bps, but the modem then switches   
                            to 38,400 bps. All subsequent commands are assumed to be sent at   
                            38,400 bps. The S30 timer is now active.                           
A                           The DTE answers.                                                   
              VCON          The modem is now in Online Voice Command Mode. DTMF and calling    
                            tone detection is enabled.                                         
#VTX                        The DTE does not wait for any tones, and tells the modem that it   
                            is ready to send a voice greeting at the current compression and   
                            sampling settings.                                                 
              CONNECT       The modem tells the DTE that it can now send data. The modem       
                            enters Voice Transmit Mode and DTMF monitoring is still enabled    
                            as well as ADPCM data flow.                                        
&lt;Data&gt;                      The DTE sends greeting message data. The modem waits 1 second      
                            before starting to transmit to ensure uninterrupted data flow.     
                            If the voice transmit buffer runs empty, the transmission is       
                            disabled.                                                          
&lt;DLE&gt;&lt;ETX&gt;                  The DTE has finished its transmission and now instructs the        
                            modem to enter Online Voice Command Mode.                          
              VCON          The modem tells the DTE it is done. If the DTE sends the           
                            &lt;DLE&gt;&lt;ETX&gt; before the modem has finished transmitting all the      
                            data in its voice transmit buffer, this response is delayed        
                            until the buffer is empty.                                         
#VBT=13                     The DTE requests that DTMF digits be dialed as "beeps" while in    
                            Online Voice Command Mode, with each "beep" having a duration of   
                            1.3 seconds.                                                       
              OK            The modem agrees.                                                  
#VTS=<br>[1000,                The DTE sends a "BEEP" to annotate its greeting message. This      
0,20],9,                    beep is a 2 second long 1000 Hz tone, followed by a 1.3 second     
                            long DTMF 9. During this period, the DTE is locked out.            
              OK            After the modem sends the "BEEP", it sends OK to inform the DTE    
                            that it is ready to move on. DTMF pass through is re-enabled.      

#VRX                        The DTE instructs the modem to turn the line around and begin      
                            recording a message from the remote.                               
              CONNECT       The modem sets things up and enables ADPCM data transfer to the    
                            DTE with the current silence sensitivity setting.                  
              &lt;Data&gt;        ADPCM data is shipped to the DTE with shielded DTMF tones folded   
                            in. The modem is looking for silence, busy, dial tone, and loop    
                            break. The DTE records everything in its storage media.            
              &lt;DLE&gt;5        The caller has finished his voice message, but is now insisting    
                            that he be able to send us a facsimile.                            
X                           DTE sends `X' as key abort. If the user tried to keep talking      
                            after he hit the DTMF 5, anything said was lost. Whatever he       
                            said before the 5 is on disk.                                      
              &lt;DLE&gt;&lt;ETX&gt;<br>V  The modem obeys key abort. Receive Mode is canceled, and the       
              CON           modem is now in Online Voice Command Mode. DTMF is still passed    
                            through.                                                           
#CLS=1                      The DTE instructs the modem to pretend no voice activity has       
                            taken place, although the modem does not hang up if the fax        
                            fails.                                                             
              OK            The modem now thinks its a Class 1 Fax modem. The DTE can now      
                            tailor the +F settings which were not accessible until +FCLASS     
                            became 1.                                                          
A                           Answer tone is generated and prompts the user on the telephone     
                            to press the button on his fax machine to send his fax. After      
                            the successful fax is received, the modem hangs up.                
<a name="_Toc347715860"></a>
</pre>
<b>Table
7-11. Answer Call, Determine It's a Fax</a></b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
              RING          Sometime later, the next beta-site calls.                          
#CLS=8                      Configure the modem for Voice Mode.                                
              OK            The modem agrees, and is now set up for voice.                     
#VBS=4                      The DTE asks for 4-bit compression (ADPCM). The DTE needs to       
                            work at 38,400 bps since after start and stop bits are added the   
                            speed increases to 36,000 bps.                                     
              OK            The modem is configured for 4-bit compression.                     
#BDR=16                     The DTE knows that compression requires a 38,400 bps speed, so     
                            it forces this as the new speed.                                   
              OK            This OK message is sent at 9600 bps, but the modem then switches   
                            to 38,400 bps. All subsequent commands are assumed to be sent at   
                            38,400 bps. The S30 timer is now active.                           
#VSS =2                     Sets silence detection sensitivity to midrange.                    
              OK            The modem confirms command reception.                              
A                           Finally, the modem answers.                                        
              VCON          The modem is now in Online Voice Command Mode. DTMF and calling    
                            tone detection is enabled. (Note that alternatively, the DTE can   
                            go into the Transmit or Receive mode and look for either calling   
                            tone or silence as a means of discrimination.) The DTE waits a     
                            few seconds to give a possible fax machine or remote data/fax      
                            modem a chance to send calling tone without being disturbed by a   
                            voice greeting. (In this example only calling tone is              
                            considered, which excludes a person sending a fax when he hears    
                            answer tone.)                                                      
              &lt;DLE&gt;c        The modem has detected T.30 Calling tone and presents this         
                            information to the DTE.                                            
#CLS=1                      The DTE decides to receive the fax, and tells the modem to         
                            pretend that it just went off-hook as a Class 1 Facsimile modem.   
                            The DTE must be able to handle Class 1 commands from here on.      
                            Note                                                               
              OK            The modem is now a Class 1 fax modem.                              
A                           The modem pretends that it just got the incoming RING, and modem   
                            handles the fact that it is already off-hook.                      
<a name="_Toc347715861"></a>
</pre>
<b>Table
7-12. Adaptive Fax/Data/Voice; Determine Data</a></b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
              RING          Sometime later, we receive a call.                                 
#CLS=8                      Configure the modem for Voice Mode (still ADPCM).                  
              OK            The modem agrees, and is now set up for voice, but the DTE can     
                            change things during the discrimination phase.                     
#BDR=16                     The DTE knows that the compression requires a 38,400 bps speed,    
                            so it forces this as the new speed.                                
              OK            This OK message is sent at 9600 bps, but the modem then switches   
                            to 38,400 bps. The S30 timer is now active.                        
#VSS=2                      Sets silence detection sensitivity to midrange.                    
              OK            The modem confirms command reception.                              
A                           The DTE answers. (Note that this is where the DTE can let          
                            another RING go by to process Caller ID.)                          
              VCON          The modem is now in Online Voice Command Mode. DTMF and calling    
                            tone detection is enabled. If fax or data calling tones are        
                            detected, the DTE can change to Fax or Data Mode.                  
#VTX                        The DTE immediately switches to Voice Transmit Mode to send out    
                            a short greeting.                                                  
              CONNECT       The modem says, "Send me the ADPCM data."                          
&lt;Data&gt;                      The DTE sends a previously recorded message from a very fast       
                            talking person: "Hello, this is Dave. Press * to send a fax, #     
                            for help, or leave your message at the beep." Note that the        
                            caller can enter DTMF tones at any time, which the DTE can take    
                            into account, or calling tone can still be detected.               
&lt;DLE&gt;&lt;ETX&gt;                  This ends the greeting message.                                    
              VCON          The modem switches back to Online Voice Command Mode.              
#VTS=#                      The DTE sends # as the beep.                                       
              VCON          The modem is still able to receive DTMF or Calling tone here.      
#VRX                        Enter Receive Mode. Now the modem is clocking silence, as well     
                            as DTMF, and recording whatever the caller says.                   
              &lt;DLE&gt;s        #VSP must have been set to 35, since 3.5 seconds later the modem   
                            sends this indication of silence period expiration. No ADPCM       
                            data was sent to the DTE, because the data pump deleted all 3.5    
                            seconds of silence. This tells the DTE that nobody is talking.     
!                           The DTE issues a key abort to switch to Online Voice Command       
                            Mode.                                                              
              &lt;DLE&gt;&lt;ETX&gt;<br>V  The modem exits Voice Receive Mode and switches to Online Voice    
              CON           Command Mode.                                                      
#CLS=0                      The DTE received no voice data, just the silence indicator after   
                            a 3.5 second wait. Since there was no calling tone and the user    
                            never entered any DTMF tones, the DTE assumes it must be a         
                            calling data modem. If the data handshake fails, the modem does    
                            not hang up the line thus giving the DTE another chance to try     
                            the fax again (in this case).                                      
              OK            The modem is now a data modem.                                     
A                           The modem pretends that it just got RING, try V.22 bis/V.42 bis,   
                            etc.                                                               
<a name="_Toc347715862"></a>
</pre>
<b>Table
7-13. Originate a Call, Send Answerer a Message</a></b>

<pre>
DTE to Modem  Modem to DTE  Description and Interpretation                                     
#CLS=8                      Configure the modem for Voice Mode (still ADPCM).                  
              OK            The modem agrees, and is now set up for voice.                     
#BDR=16                     The DTE knows that compression requires a 38,400 bps speed, so     
                            it forces this as the new speed.                                   
              OK            This OK message is sent at 2400 bps, but the modem then switches   
                            to 38,400 bps.                                                     
#VLS=0                      This ensures that the telephone line is selected.                  
              OK            The modem agrees.                                                  
#VRA=45                     The DTE allows 4.5 seconds for ringback to stop before assuming    
                            that the modem thinks that the remote has answered.                
              OK            The modem agrees with the DTE's assumption.                        
DT6807                      The DTE makes a telephone call, and the modem dials and goes       
                            through call progress. BUSY or NO DIALTONE can be detected, but    
                            in this example, the modem gets ringback.                          
              VCON          This message is sent 4.5 seconds after the third ringback          
                            cadence is detected by the modem. The modem is in effect           
                            assuming that the remote telephone was answered on the third       
                            ring because no fourth ringback was detected before the #VRA       
                            time-out. The modem enters Online Voice Command Mode, and DTMF     
                            and answer tone detection is enabled. (Note that during this       
                            period, the modem might have detected answer tone from a data      
                            modem. In this case, the appropriate &lt;DLE&gt; shielded code has to    
                            be sent prompting the DTE to pursue a data handshake.)             
#VTX                        The DTE has a message to send.                                     
              CONNECT       The modem says: "send it."                                         
&lt;Data&gt;                      The DTE sends the message: "Hi Dave. Your mother called."          
&lt;DLE&gt;&lt;ETX&gt;                  Procedure complete.                                                
              VCON          DTMF still active.                                                 
H                           The DTE has completed its forwarding task.                         

</pre>
<a name="_Toc343068573"></a><a name="_Toc347715826"></a>
<p class="subheadlinktext">
<a name="RTFToC411">8. AT COMMAND SET SUMMARY</a>
<a name="_Toc343068574"></a><a name="_Toc347715827"></a></p>
<p class="bodytext"><b>
<a name="RTFToC412">8.1
BASIC AT COMMANDS</a></a>
</a></b></p>
<b>	Command	Function</b><p>
A/	Re-execute command.<p>
A	Go off-hook and attempt to answer a call.<p>
B0	Select V.22 connection at 1200 bps.<p>
B1	Select Bell 212A connection at 1200 bps.<p>
C1	Return OK message.<p>
Dn	Dial modifier.<p>
E0	Turn off command echo.<p>
E1	Turn on command echo.<p>
F0	Select auto-detect mode (equivalent to N1). (RC144)<p>
F1	Select V.21 or Bell 103. (RC144)<p>
F2	Reserved. (RC144)<p>
F3	Select V.23 line modulation. (RC144)<p>
F4	Select V.22 or Bell 212A 1200 bps line speed. (RC144)<p>
F5	Select V.22 bis line modulation. (RC144)<p>
F6	Select V.32 bis or V.32 4800 line modulation. (RC144)<p>
F7	Select V.32 bis 7200 line modulation. (RC144)<p>
F8	Select V.32 bis or V.32 9600 line modulation. (RC144)<p>
F9	Select V.32 bis 12000 line modulation. (RC144)<p>
F10	Select V.32 bis 14400 line modulation. (RC144)<p>
H0	Initiate a hang-up sequence.<p>
H1	If on-hook, go off-hook and enter command mode.<p>
I0	Report product code.<p>
I1	Report pre-computed checksum.<p>
I2	Report OK.<p>
I3	Report firmware revision, model, and interface type.<p>
I4	Report response programmed by an OEM.<p>
I5	Report the country code parameter.<p>
I6	Report modem data pump model and code revision.<p>
I7	Reports the DAA code (W-class models only).<p>
L0	Set low speaker volume.<p>
L1	Set low speaker volume.<p>
L2	Set medium speaker volume.<p>
L3	Set high speaker volume.<p>
M0	Turn speaker off.<p>
M1	Turn speaker on during handshaking and turn speaker off while receiving
carrier.<p>
M2	Turn speaker on during handshaking and while receiving carrier.<p>
M3	Turn speaker off during dialing and receiving carrier and turn speaker on
during answering.<p>
N0	Turn off automode detection.<p>
N1	Turn on automode detection.<p>
O0	Go on-line.<p>
O1	Go on-line and initiate a retrain sequence.<p>
P	Force pulse dialing.<p>
Q0	Allow result codes to DTE.<p>
Q1	Inhibit result codes to DTE.<p>
Sn	Select S-Register as default.<p>
Sn?	Return the value of S-Register n.<p>
=v	Set default S-Register to value v.<p>
?	Return the value of default S-Register.<p>
T	Force DTMF dialing.<p>
V0	Report short form (terse) result codes.<p>
V1	Report long form (verbose) result codes.<p>
W0	Report DTE speed in EC mode.<p>
W1	Report line speed, EC protocol and DTE speed.<p>
W2	Report DCE speed in EC mode.<p>
X0	Report basic call progress result codes, i.e., OK, CONNECT, RING, NO CARRIER
(also, for busy, if enabled, and dial tone not detected), NO ANSWER and
ERROR.<p>
X1	Report basic call progress result codes and connections speeds (OK, CONNECT,
RING, NO CARRIER (also, for busy, if enabled, and dial tone not detected), NO
ANSWER, CONNECT XXXX, and ERROR.<p>
X2	Report basic call progress result codes and connections speeds, i.e., OK,
CONNECT, RING, NO CARRIER (also, for busy, if enabled, and dial tone not
detected), NO ANSWER, CONNECT XXXX, and ERROR.<p>
X3	Report basic call progress result codes and connection rate, i.e., OK,
CONNECT, RING, NO CARRIER, NO ANSWER, CONNECT XXXX, BUSY, and ERROR.<p>
X4	Report all call progress result codes and connection rate, i.e., OK,
CONNECT, RING, NO CARRIER, NO ANSWER, CONNECT XXXX, BUSY, NO DIAL TONE and
ERROR.<p>
Y0	Disable long space disconnect before on-hook.<p>
Y1	Enable long space disconnect before on-hook.<p>
Z0	Restore stored profile 0 after warm reset.<p>
Z1	Restore stored profile 1 after warm reset.<p>
&amp;C0	Force RLSD active regardless of the carrier state.<p>
&amp;C1	Allow RLSD to follow the carrier state.<p>
&amp;D0	Interpret DTR ON-to-OFF transition per &amp;Qn:<p>
	&amp;Q0, &amp;Q5, &amp;Q6	The modem ignores DTR.<p>
	&amp;Q1, &amp;Q4	The modem hangs up.<p>
	&amp;Q2, &amp;Q3	The modem hangs up.<p>
&amp;D1	Interpret DTR ON-to-OFF transition per &amp;Qn:<p>
	&amp;Q0, &amp;Q1, &amp;Q4, &amp;Q5, &amp;Q6	Asynchronous escape.<p>
	&amp;Q2, &amp;Q3	The modem hangs up.<p>
&amp;D2	Interpret DTR ON-to-OFF transition per &amp;Qn:<p>
	&amp;Q0 through &amp;Q6	The modem hangs up.<p>
&amp;D3	Interpret DTR ON-to-OFF transition per &amp;Qn:.<p>
	&amp;Q0, &amp;Q1, &amp;Q4, &amp;Q5, &amp;Q6	The modem performs soft reset.<p>
	&amp;Q2, &amp;Q3	The modem hangs up.<p>
&amp;F0	Restore factory configuration 0.<p>
&amp;F1	Restore factory configuration 1.<p>
&amp;G0	Disable guard tone.<p>
&amp;G1	Disable guard tone.<p>
&amp;G2	Enable 1800 Hz guard tone.<p>
&amp;J0	Set S-Register response only for compatibility.<p>
&amp;J1	Set S-Register response only for compatibility.<p>
&amp;K0	Disable DTE/DCE flow control.<p>
&amp;K3	Enable RTS/CTS DTE/DCE flow control.<p>
&amp;K4	Enable XON/XOFF DTE/DCE flow control.<p>
&amp;K5	Enable transparent XON/XOFF flow control.<p>
&amp;K6	Enable both RTS/CTS and XON/XOFF flow control.<p>
&amp;L0	Select dial up line operation.<p>
<p>
<p>
*  Serial interface operation only.<p>
&amp;M0	Select direct asynchronous mode.<p>
&amp;M1	Select sync connect with async off-line command mode. *<p>
&amp;M2	Select sync connect with async off-line command mode and enable DTR
dialing of directory zero. *<p>
&amp;M3	Select sync connect with async off-line command mode and enable DTR to
act as Talk/Data switch. *<p>
&amp;P0	Set 10 pps pulse dial with 39%/61% make/break.<p>
&amp;P1	Set 10 pps pulse dial with 33%/67% make/break.<p>
&amp;P2	Set 20 pps pulse dial with 39%/61% make/break.<p>
&amp;P3	Set 20 pps pulse dial with 33%/67% make/break.<p>
&amp;Q0	Select direct asynchronous mode.<p>
&amp;Q1	Select sync connect with async off-line command mode. *<p>
&amp;Q2	Select sync connect with async off-line command mode and enable DTR
dialing of directory zero. *<p>
&amp;Q3	Select sync connect with async off-line command mode and enable DTR to
act as Talk/Data switch. *<p>
&amp;Q4	Select Hayes AutoSync mode.<p>
&amp;Q5	Modem negotiates an error corrected link.<p>
&amp;Q6	Select asynchronous operation in normal mode.<p>
&amp;R0	CTS tracks RTS (async) or acts per V.25 (sync).<p>
&amp;R1	CTS is always active.<p>
&amp;S0	DSR is always active.<p>
&amp;S1	DSR acts per V.25.<p>
&amp;T0	Terminate any test in progress.<p>
&amp;T1	Initiate local analog loopback.<p>
&amp;T2	Returns ERROR result code.<p>
&amp;T3	Initiate local digital loopback.<p>
&amp;T4	Allow remote digital loopback.<p>
&amp;T5	Disallow remote digital loopback request.<p>
&amp;T6	Request an RDL without self-test.<p>
&amp;T7	Request an RDL with self-test.<p>
&amp;T8	Initiate local analog loop with self-test.<p>
&amp;V	Display current configurations.<p>
&amp;W0	Store the active profile in NVRAM profile 0.<p>
&amp;W1	Store the active profile in NVRAM profile 1.<p>
&amp;X0	Select internal timing for the transmit clock.<p>
&amp;X1	Select external timing for the transmit clock.<p>
&amp;X2	Select slave receive timing for the transmit clock.<p>
&amp;Y0	Recall stored profile 0 upon power up.<p>
&amp;Y1	Recall stored profile 1 upon power up.<p>
&amp;Zn=x	Store dial string x (to 34) to location n (0 to 3).<p>
%E0	Disable line quality monitor and auto retrain.<p>
%E1	Enable line quality monitor and auto retrain.<p>
%E2	Enable line quality monitor and fallback/fall forward.<p>
%L	Return received line signal level.<p>
%Q	Report the line signal quality.<p>
<p>
<p>
*  Serial interface operation only.<p>
\Kn	Controls break handling during three states:<p>
When modem receives a break from the DTE:<p>
\K0,2,4	Enter on-line command mode, no break sent to the remote modem.<p>
\K1	Clear buffers and send break to remote modem.<p>
\K3	Send break to remote modem immediately.<p>
\K5	Send break to remote modem in sequence with transmitted data.<p>
When modem receives \B in on-line command state:<p>
\K0,1	Clear buffers and send break to remote modem.<p>
\K2,3	Send break to remote modem immediately.<p>
\K4,5	Send break to remote modem in sequence with transmitted data.<p>
When modem receives break from the remote modem:<p>
\K0,1	Clear data buffers and send break to DTE.<p>
\K2,3	Send a break immediately to DTE.<p>
\K4,5	Send a break with received data to the DTE.<p>
\N0	Select normal speed buffered mode.<p>
\N1	Select direct mode.<p>
\N2	Select reliable link mode.<p>
\N3	Select auto reliable mode.<p>
\N4	Force LAPM mode.<p>
\N5	Force MNP mode.<p>
\V0	Connect messages are controlled by the command settings X, W, and S95.<p>
\V1	Connect messages are displayed in the single line format.<p>
+MS	Select modulation.<p>
+H0	Disable RPI.<p>
+H1	Enable RPI and set DTE speed to 19200 bps.<p>
+H2	Enable RPI and set DTE speed to 38400 bps.<p>
+H3	Enable RPI and set DTE speed to 57600 bps.<p>
+H11	Enable RPI+ mode.<p>
<p>
-SDR=0	Disable Distinctive Ring.<p>
-SDR=1	Enable Distinctive Ring Type 1.<p>
-SDR=2	Enable Distinctive Ring Type 2.<p>
-SDR=3	Enable Distinctive Ring Type 1 and 2.<p>
-SDR=4	Enable Distinctive Ring Type 3.<p>
-SDR=5	Enable Distinctive Ring Type 1 and 3.<p>
-SDR=6	Enable Distinctive Ring Type 2 and 3.<p>
-SDR=7	Enable Distinctive Ring Type 1, 2, and 3.<p>
<p>
-SSE=0	Disable DSVD.<p>
-SSE=1	Enable DSVD.
<a name="_Toc343068575"></a><a name="_Toc347715828"></a>
<p class="bodytext"><b>
<a name="RTFToC413">8.2
ECC COMMANDS</a>
</b></p>
%C0	Disable data compression.<p>
%C1	Enable MNP 5 data compression.<p>
%C2	Enable V.42 bis data compression.<p>
%C3	Enable both V.42 bis and MNP 5 compression.<p>
<p>
\A0	Set maximum block size in MNP to 64.<p>
\A1	Set maximum block size in MNP to 128.<p>
\A2	Set maximum block size in MNP to 192.<p>
\A3	Set maximum block size in MNP to 256.<p>
\Bn	Send break of n x 100 ms.
<a name="_Toc343068576"></a><a name="_Toc347715829"></a>
<p class="bodytext"><b>
<a name="RTFToC414">8.3
MNP 10 COMMANDS</a>
</b></p>
-K0	Disable MNP 10 extended services.<p>
-K1	Enable MNP 10 extended services.<p>
-K2	Enable MNP 10 extended services detection only.<p>
-SEC=0	Disable MNP10-EC.<p>
-SEC=1,[&lt;tx level&gt;]	Enable MNP10-EC and set transmit level &lt;tx
level&gt; 0 to 30 (0 dBm to -30 dBm).
<a name="_Toc343068577"></a><a name="_Toc347715830"></a>
<p class="bodytext"><b>
<a name="RTFToC415">8.4
W-CLASS COMMANDS</a>
</b></p>
*B	Display list of permanently blacklisted numbers.<p>
*D	Display list of delayed numbers.
<a name="_Toc343068578"></a><a name="_Toc347715831"></a>
<p class="bodytext"><b>
<a name="RTFToC416">8.5
CALLER ID COMMANDS</a>
</b></p>
#CID=0	Disable Caller ID.<p>
#CID=1	Enable Caller ID with formatted presentation.<p>
#CID=2	Enable Caller ID with unformatted presentation.
<p class="bodytext"><b>
<a name="RTFToC417">8.6
<a name="_Toc343068579"><a name="_Toc347715832">
FAX CLASS 1</a></a>
</a></b></p>
+FCLASS=n	Service class.<p>
+FAE=n	Data/fax auto answer<p>
+FRH=n	Receive data with HDLC framing.<p>
+FRM=n	Receive data.<p>
+FRS=n	Receive silence.<p>
+FTH=n	Transmit data with HDLC framing.<p>
+FTM=n	Transmit data.<p>
+FTS=n	Stop transmission and wait.
<a name="_Toc343068580"></a><a name="_Toc347715833"></a>
<p class="bodytext"><b>
<a name="RTFToC418">8.7
FAX CLASS 2</a>
</b></p>
+FCLASS=n	Service class.<p>
+FAA=n	Adaptive answer.<p>
+FAXERR	Fax error value.<p>
+FBOR	Phase C data bit order.<p>
+FBUF?	Buffer size (read only).<p>
+FCFR	Indicate confirmation to receive.<p>
+FCLASS=	Service class.<p>
+FCON	Facsimile connection response.<p>
+FCIG	Set the polled station identification.<p>
+FCIG:	Report the polled station identification.<p>
+FCR	Capability to receive.<p>
+FCR=	Capability to receive.<p>
+FCSI:	Report the called station ID.<p>
+FDCC=	DCE capabilities parameters.<p>
+FDCS:	Report current session.<p>
+FDCS=	Current session results.<p>
+FDIS:	Report remote capabilities.<p>
+FDIS=	Current sessions parameters.<p>
+FDR	Begin or continue phase C receive data.<p>
+FDT=	Data transmission.<p>
+FDTC:	Report the polled station capabilities.<p>
+FET:	Post page message response.<p>
+FET=N	Transmit page punctuation.<p>
+FHNG	Call termination with status.<p>
+FK	Session termination.<p>
+FLID=	Local ID string.<p>
+FLPL	Document for polling.<p>
+FMDL?	Identify model.<p>
+FMFR?	Identify manufacturer.<p>
+FPHCTO	Phase C time out.<p>
+FPOLL	Indicates polling request.<p>
+FPTS:	Page transfer status.<p>
+FPTS=	Page transfer status.<p>
+FREV?	Identify revision.<p>
+FSPL	Enable polling<p>
+FTSI:	Report the transmit station ID.
<p class="bodytext"><b>
<a name="RTFToC419">8.8
<a name="_Toc343068581"><a name="_Toc347715834">
VOICE/AUDIO COMMANDS</a></a>
</a></b></p>
#BDR	Select baud rate (turn off autobaud).<p>
#CLS	Select data, fax, or voice.<p>
#MDL?	Identify model.<p>
#MFR?	Identify manufacturer.<p>
#REV?	Identify revision level.<p>
#SPK=	Speakerphone setting.<p>
#TL	Audio output transmit level.<p>
#VBQ?	Query buffer size.<p>
#VBS	Bits per sample.<p>
#VBT	Beep tone timer.<p>
#VCI?	Identify compression method.<p>
#VGT	Set playback volume in the command state.<p>
#VLS	Voice line select.<p>
#VRA	Ringback goes away timer (originate).<p>
#VRN	Ringback never came timer (originate).<p>
#VRX	Voice receive mode.<p>
#VSD	Enable silence deletion (no function, command response only).<p>
#VSK	Buffer skid setting.<p>
#VSP	Silence detection period (voice receive).<p>
#VSR	Sampling rate selection.<p>
#VSS	Silence detection tuner (voice receive).<p>
#VTD	DTMF/tone reporting.<p>
#VTM	Enable timing mark placement.<p>
#VTS	Generate tone signals.<p>
#VTX	Voice transmit mode.<p>
<a name="_Toc343068582"></a><a name="_Toc347715835"></a>
<p class="bodytext"><b>
<a name="RTFToC420">8.9
CELLULAR COMMANDS</a>
</b></p>
^C2	Download cellular phone driver.<p>
^I	Identify cellular phone driver.<p>
^T6	Indicate status of cellular phone.<p>
<p>

<a name="_Toc343068583"></a><a name="_Toc347715836"></a>
<p class="subheadlinktext">
<a name="RTFToC421">9. COMMON CONFIGURATION SETUP STRINGS</a>
</p>
This appendix describes setup strings to establish commonly used
configurations.<p>
1.	Force V.42 bis data compression with LAP-M error correction.<p>
AT\N4%C2-K0<p>
2.	Force V.42 bis data compression with MNP error correction.<p>
AT\N5%C2<p>
3.	Force MNP 5 data compression with MNP error correction.<p>
AT\N5%C1<p>
<b>Note: </b>With the setup strings in examples 1-3, if the remote is unable to
negotiate the desire rate mode, the modem will disconnect and respond with NO
CARRIER.<p>
4.	Auto negotiate data compression and error correction.<p>
AT&amp;F (factory defaults) or<p>
AT\N3%C3<p>
In this mode, the modem prefers LAP-M over MNP 10, MNP 10 over MNP 4, and V.42
bis over MNP 5. If error correction is not negotiated, the modem will connect
in normal mode.<p>
<p>

<HR>

<b>Headquarters</b><p>
Rockwell Semiconductor Systems<br>Rockwell International
Corporation<br>4311 Jamboree Road, P.O. Box C<br>Newport Beach, CA 92658-8902<p>
<p>
<p>
<b>European Headquarters</b><p>
Rockwell Semiconductor<br>Systems S.A.R.L.<br>Les Taissounieres
Bl<br>Route des Dolines<br>Sophia Antipolis Cedex<br>06905
Valbonne<br>France<br>Tel:	(33) 93 00 33 35<br>Fax:	(33) 93 00 33 03<p>
<p>
<p>
For more Information:<br><b>Call  1-800-854-8099</b><br>International
Information:<br><b>Call  1-714-221-6996</b><p>
<p>
<p>
URL Address:<br><b>http://www.nb.rockwell.com/</b><br>E-Mail
Address:<br><b>literature@nb.rockwell.com</b><p>
<b>REGIONAL SALES OFFICES</b><p>
<p>
<p>
<b>USA - Southwest</b><p>
5000 Birch St.<br>Suite 400<br>Newport Beach, CA  92660-8902<br>Tel:
(714) 222-9119<br>Fax:	(714) 222-0620<p>
<p>
<b>USA - Southwest Satellite</b><p>
1000 Business Center Circle<br>Suite 215<br>Thousand Oaks, CA
91320<br>Tel:	(805) 376-0559<br>Fax:	(813) 531-3031<br><p>
<b>USA - South Central</b><p>
2001 N. Collins Blvd.<br>Suite 103<br>Richardson, TX  75080<br>Tel :
(214) 479-9310<br>Fax:	(214) 479-9317<p>
<p>
<b>USA - Northeast<br>(and Canada East)</b><p>
239 Littleton Road<br>Suite 4A<br>Westford, MA  01886<br>Tel:	(508)
692-7660<br>Fax:	(508) 692-8185<p>
<p>
<b>USA - North Central</b><p>
Two Pierce Place<br>Chancellory Park<br>Suite 810<br>Itasca, IL
60143<br>Tel :	(708) 773-3454<br>Fax:	(708) 773-3907<p>
<b>USA Northwest<br>(and Canada West)</b><p>
3600 Pruneridge Avenue<br>Suite 100<br>Santa Clara, CA  95051<br>Tel:
(408) 249-9696<br>Fax:	(408) 249-7113<p>
<p>
<b>Australia</b><p>
Rockwell  Australia Pty., Ltd.<br>3 Thomas Holt Drive<br>P.O. Box
165<br>North Ryde, NSW 2113<br>Australia<br>Tel:	(61-2) 805-5555<br>Fax:	(61-2)
805-5599<p>
<p>
<b>France</b><p>
Rockwell Semiconductor Systems S.A.R.L.<br>Tour GAN, 16 Place de
I'Iris<br>Cedex 13<br>92082 Paris La Defense 2<br>France<br>Tel:	(33-1)
49-06-3980<br>Fax:	(33-1) 49-06-3990<p>
<p>
<b>Germany</b><p>
Semiconductor Systems<br>Rockwell Int'l GmbH<br>Paul-Gerhardt-Allee 50
A<br>81245 M&uuml;nchen 60<br>Germany<br>Tel:	(49-89) 829-1320<br>Fax:	(49-89)
834-2734<p>
<b>Hong Kong</b><p>
Rockwell (Asia Pacific), Ltd.<br>13th Floor, Suites 8-10,<br>Harbour
Centre<br>25 Harbour Road<br>Wanchai, Hong Kong<br>Tel:	(852) 2827-0181<br>Fax:
(852) 2827-6488<br><p>
<b>Italy</b><p>
Rockwell Semiconductor <br>Systems S.A.R.L.<br>c/o Allen Bradley Italia
S.r.l.<br>Viale de Gasperi, 126<br>20017 Mazzo di Rho<br>Milano, Italy<br>Tel:
(39-2) 93972-360<br>Fax:	(39-2) 93972-366<p>
<p>
<b>Japan</b><p>
Rockwell Int'l Japan Co., Ltd.<br>Shimomoto Building<br>1-46-3 Hatsudai,
Shibuya-ku<br>Tokyo, Japan 151<br>Tel:	(81-3) 5371-1510<br>Fax:	(81-3)
5371-1501<p>
<b>Korea</b><p>
Rockwell-Collins Int'l, Inc.<br>Rm. 1508 <br>Korea Textile
Building<br>944-31, Daechi-3dong<br>Kangnam P.O. Box
2037<br>Kangnam-ku<br>Seoul, Korea<br>Tel:	(82-2) 565-2880<br>Fax:	(82-2)
565-1440<br><p>
<b>Singapore</b><p>
Rockwell-Collins Int'l, Inc.<br>230 Orchard Road
<br>#10-230/232<br>Faber House<br>Singapore 0923<br>Tel:	(65) 732-2292<br>Fax:
(65) 732-0835<br><p>
<b>Taiwan</b><p>
Rockwell Int'l Taiwan Co., Ltd.<br>Room 2808<br>International Trade
Building<br>333 Keelung Road, Section 1<br>Taipei, Taiwan 10548, R.O.C.<br>Tel:
(886-2) 720-0282<br>Fax:	(886-2) 757-6760<br><p>
<b>United Kingdom</b><p>
Rockwell Semiconductor <br>Systems Ltd.<br>Berkshire Court<br>Western
Road<br>Bracknell, Berkshire<br>RG12 IRE<br>England<br>Tel:	+44 1344
48644<br>Fax:	+44 1344 48655<p>
<p>
<p>
<HR>
(c)1995, Rockwell International Corporation<br>
All Rights Reserved<p>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2768097-1";
urchinTracker();
</script></body></html>
<br><i><b>Copyright  1996 Rockwell International, all rights reserved</b></i>

